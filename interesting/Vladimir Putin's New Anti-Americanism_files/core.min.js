window.Modernizr=function(a,b,c){function d(a){t.cssText=a}function e(a,b){return d(x.join(a+";")+(b||""))}function f(a,b){return typeof a===b}function g(a,b){return!!~(""+a).indexOf(b)}function h(a,b){for(var d in a){var e=a[d];if(!g(e,"-")&&t[e]!==c)return"pfx"==b?e:!0}return!1}function i(a,b,d){for(var e in a){var g=b[a[e]];if(g!==c)return d===!1?a[e]:f(g,"function")?g.bind(d||b):g}return!1}function j(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+z.join(d+" ")+d).split(" ");return f(b,"string")||f(b,"undefined")?h(e,b):(e=(a+" "+A.join(d+" ")+d).split(" "),i(e,b,c))}function k(){o.input=function(c){for(var d=0,e=c.length;e>d;d++)E[c[d]]=!!(c[d]in u);return E.list&&(E.list=!(!b.createElement("datalist")||!a.HTMLDataListElement)),E}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),o.inputtypes=function(a){for(var d,e,f,g=0,h=a.length;h>g;g++)u.setAttribute("type",e=a[g]),d="text"!==u.type,d&&(u.value=v,u.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(e)&&u.style.WebkitAppearance!==c?(q.appendChild(u),f=b.defaultView,d=f.getComputedStyle&&"textfield"!==f.getComputedStyle(u,null).WebkitAppearance&&0!==u.offsetHeight,q.removeChild(u)):/^(search|tel)$/.test(e)||(d=/^(url|email)$/.test(e)?u.checkValidity&&u.checkValidity()===!1:u.value!=v)),D[a[g]]=!!d;return D}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var l,m,n="2.6.3",o={},p=!0,q=b.documentElement,r="modernizr",s=b.createElement(r),t=s.style,u=b.createElement("input"),v=":)",w={}.toString,x=" -webkit- -moz- -o- -ms- ".split(" "),y="Webkit Moz O ms",z=y.split(" "),A=y.toLowerCase().split(" "),B={svg:"http://www.w3.org/2000/svg"},C={},D={},E={},F=[],G=F.slice,H=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:r+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',r,'">',a,"</style>"].join(""),j.id=r,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=q.style.overflow,q.style.overflow="hidden",q.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),q.style.overflow=i),!!g},I=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b).matches;var d;return H("@media "+b+" { #"+r+" { position: absolute; } }",function(b){d="absolute"==(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).position}),d},J=function(){function a(a,e){e=e||b.createElement(d[a]||"div"),a="on"+a;var g=a in e;return g||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(a,""),g=f(e[a],"function"),f(e[a],"undefined")||(e[a]=c),e.removeAttribute(a))),e=null,g}var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a}(),K={}.hasOwnProperty;m=f(K,"undefined")||f(K.call,"undefined")?function(a,b){return b in a&&f(a.constructor.prototype[b],"undefined")}:function(a,b){return K.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=G.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(G.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(G.call(arguments)))};return d}),C.flexbox=function(){return j("flexWrap")},C.flexboxlegacy=function(){return j("boxDirection")},C.canvas=function(){var a=b.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},C.canvastext=function(){return!(!o.canvas||!f(b.createElement("canvas").getContext("2d").fillText,"function"))},C.webgl=function(){return!!a.WebGLRenderingContext},C.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:H(["@media (",x.join("touch-enabled),("),r,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c},C.geolocation=function(){return"geolocation"in navigator},C.postmessage=function(){return!!a.postMessage},C.websqldatabase=function(){return!!a.openDatabase},C.indexedDB=function(){return!!j("indexedDB",a)},C.hashchange=function(){return J("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},C.history=function(){return!(!a.history||!history.pushState)},C.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},C.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a},C.rgba=function(){return d("background-color:rgba(150,255,150,.5)"),g(t.backgroundColor,"rgba")},C.hsla=function(){return d("background-color:hsla(120,40%,100%,.5)"),g(t.backgroundColor,"rgba")||g(t.backgroundColor,"hsla")},C.multiplebgs=function(){return d("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(t.background)},C.backgroundsize=function(){return j("backgroundSize")},C.borderimage=function(){return j("borderImage")},C.borderradius=function(){return j("borderRadius")},C.boxshadow=function(){return j("boxShadow")},C.textshadow=function(){return""===b.createElement("div").style.textShadow},C.opacity=function(){return e("opacity:.55"),/^0.55$/.test(t.opacity)},C.cssanimations=function(){return j("animationName")},C.csscolumns=function(){return j("columnCount")},C.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return d((a+"-webkit- ".split(" ").join(b+a)+x.join(c+a)).slice(0,-a.length)),g(t.backgroundImage,"gradient")},C.cssreflections=function(){return j("boxReflect")},C.csstransforms=function(){return!!j("transform")},C.csstransforms3d=function(){var a=!!j("perspective");return a&&"webkitPerspective"in q.style&&H("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b){a=9===b.offsetLeft&&3===b.offsetHeight}),a},C.csstransitions=function(){return j("transition")},C.fontface=function(){var a;return H('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&0===g.indexOf(d.split(" ")[0])}),a},C.generatedcontent=function(){var a;return H(["#",r,"{font:0/0 a}#",r,':after{content:"',v,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},C.video=function(){var a=b.createElement("video"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(d){}return c},C.audio=function(){var a=b.createElement("audio"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(d){}return c},C.localstorage=function(){try{return localStorage.setItem(r,r),localStorage.removeItem(r),!0}catch(a){return!1}},C.sessionstorage=function(){try{return sessionStorage.setItem(r,r),sessionStorage.removeItem(r),!0}catch(a){return!1}},C.webworkers=function(){return!!a.Worker},C.applicationcache=function(){return!!a.applicationCache},C.svg=function(){return!!b.createElementNS&&!!b.createElementNS(B.svg,"svg").createSVGRect},C.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==B.svg},C.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(w.call(b.createElementNS(B.svg,"animate")))},C.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(w.call(b.createElementNS(B.svg,"clipPath")))};for(var L in C)m(C,L)&&(l=L.toLowerCase(),o[l]=C[L](),F.push((o[l]?"":"no-")+l));return o.input||k(),o.addTest=function(a,b){if("object"==typeof a)for(var d in a)m(a,d)&&o.addTest(d,a[d]);else{if(a=a.toLowerCase(),o[a]!==c)return o;b="function"==typeof b?b():b,"undefined"!=typeof p&&p&&(q.className+=" "+(b?"":"no-")+a),o[a]=b}return o},d(""),s=u=null,function(a,b){function c(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=r.elements;return"string"==typeof a?a.split(" "):a}function e(a){var b=q[a[o]];return b||(b={},p++,a[o]=p,q[p]=b),b}function f(a,c,d){if(c||(c=b),k)return c.createElement(a);d||(d=e(c));var f;return f=d.cache[a]?d.cache[a].cloneNode():n.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),f.canHaveChildren&&!m.test(a)?d.frag.appendChild(f):f}function g(a,c){if(a||(a=b),k)return a.createDocumentFragment();c=c||e(a);for(var f=c.frag.cloneNode(),g=0,h=d(),i=h.length;i>g;g++)f.createElement(h[g]);return f}function h(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return r.shivMethods?f(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(r,b.frag)}function i(a){a||(a=b);var d=e(a);return!r.shivCSS||j||d.hasCSS||(d.hasCSS=!!c(a,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),k||h(a,d),a}var j,k,l=a.html5||{},m=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,n=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,o="_html5shiv",p=0,q={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",j="hidden"in a,k=1==a.childNodes.length||function(){b.createElement("a");var a=b.createDocumentFragment();return"undefined"==typeof a.cloneNode||"undefined"==typeof a.createDocumentFragment||"undefined"==typeof a.createElement}()}catch(c){j=!0,k=!0}}();var r={elements:l.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:l.shivCSS!==!1,supportsUnknownElements:k,shivMethods:l.shivMethods!==!1,type:"default",shivDocument:i,createElement:f,createDocumentFragment:g};a.html5=r,i(b)}(this,b),o._version=n,o._prefixes=x,o._domPrefixes=A,o._cssomPrefixes=z,o.mq=I,o.hasEvent=J,o.testProp=function(a){return h([a])},o.testAllProps=j,o.testStyles=H,o.prefixed=function(a,b,c){return b?j(a,b,c):j(a,"pfx")},q.className=q.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+F.join(" "):""),o}(this,this.document),function(a,b,c){function d(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function e(a,c,e,f,h,i){var j,k,m=b.createElement("script");f=f||l.errorTimeout,m.src=a;for(k in e)m.setAttribute(k,e[k]);c=i?g:c||s,m.onreadystatechange=m.onload=function(){!j&&d(m.readyState)&&(j=1,c(),m.onload=m.onreadystatechange=null)},n(function(){j||(j=1,c(1))},f),h?m.onload():o.parentNode.insertBefore(m,o)}function f(a,c,d,e,f,h){var i,j=b.createElement("link");e=e||l.errorTimeout,c=h?g:c||s,j.href=a,j.rel="stylesheet",j.type="text/css";for(i in d)j.setAttribute(i,d[i]);f||(o.parentNode.insertBefore(j,o),n(c,0))}function g(){var a=q.shift();r=1,a?a.t?n(function(){("c"==a.t?l.injectCss:l.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),g()):r=0}function h(a,c,e,f,h,i,j){function k(b){if(!p&&d(m.readyState)&&(t.r=p=1,!r&&g(),m.onload=m.onreadystatechange=null,b)){"img"!=a&&n(function(){v.removeChild(m)},50);for(var e in F[c])F[c].hasOwnProperty(e)&&F[c][e].onload()}}j=j||l.errorTimeout;var m=b.createElement(a),p=0,s=0,t={t:e,s:c,e:h,a:i,x:j};1===F[c]&&(s=1,F[c]=[]),"object"==a?m.data=c:(m.src=c,m.type=a),m.width=m.height="0",m.onerror=m.onload=m.onreadystatechange=function(){k.call(this,s)},q.splice(f,0,t),"img"!=a&&(s||2===F[c]?(v.insertBefore(m,u?null:o),n(k,j)):F[c].push(m))}function i(a,b,c,d,e){return r=0,b=b||"j",C(a)?h("c"==b?z:y,a,b,this.i++,c,d,e):(q.splice(this.i++,0,a),1==q.length&&g()),this}function j(){var a=l;return a.loader={load:i,i:0},a}var k,l,m=b.documentElement,n=a.setTimeout,o=b.getElementsByTagName("script")[0],p={}.toString,q=[],r=0,s=function(){},t="MozAppearance"in m.style,u=t&&!!b.createRange().compareNode,v=u?m:o.parentNode,w=a.opera&&"[object Opera]"==p.call(a.opera),x=!!b.attachEvent&&!w,y=t?"object":x?"script":"img",z=x?"script":y,A=Array.isArray||function(a){return"[object Array]"==p.call(a)},B=function(a){return Object(a)===a},C=function(a){return"string"==typeof a},D=function(a){return"[object Function]"==p.call(a)},E=[],F={},G={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}};l=function(a){function b(a){var b,c,d,e=a.split("!"),f=E.length,g=e.pop(),h=e.length,i={url:g,origUrl:g,prefixes:e};for(c=0;h>c;c++)d=e[c].split("="),b=G[d.shift()],b&&(i=b(i,d));for(c=0;f>c;c++)i=E[c](i);return i}function d(a){return a.split(".").pop().split("?").shift()}function e(a,e,f,g,h){{var i=b(a),k=i.autoCallback;d(i.url)}if(!i.bypass)return e&&(e=D(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(F[i.url]?i.noexec=!0:F[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==d(i.url)?"c":c,i.noexec,i.attrs,i.timeout),(D(e)||D(k))&&f.load(function(){j(),e&&e(i.origUrl,h,g),k&&k(i.origUrl,h,g),F[i.url]=2}),void 0)}function f(a,b){function c(a,c){if(a){if(C(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),e(a,j,b,0,g);else if(B(a)){d=function(){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c}();for(f in a)a.hasOwnProperty(f)&&(c||--d||(D(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[f]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[f])),e(a[f],j,b,f,g))}}else!c&&l()}var d,f,g=!!a.test,h=g?a.yep:a.nope,i=a.load||a.both,j=a.callback||s,k=j,l=a.complete||s;c(h,!!i),i&&c(i)}var g,h,i=this.yepnope.loader;if(C(a))e(a,0,i,0);else if(A(a))for(g=0;g<a.length;g++)h=a[g],C(h)?e(h,0,i,0):A(h)?l(h):B(h)&&f(h,i);else B(a)&&f(a,i)},l.addPrefix=function(a,b){G[a]=b},l.addFilter=function(a){E.push(a)},l.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",k=function(){b.removeEventListener("DOMContentLoaded",k,0),b.readyState="complete"},0)),a.yepnope=j(),a.yepnope.executeStack=g,a.yepnope.injectJs=e,a.yepnope.injectCss=f}(this,document),window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b,c){"use strict";function d(a){var b,c,d,e,g,h=a||{};b=h.elements||f.getAllElements();for(var i=0,j=b.length;j>i;i++)if(c=b[i],d=c.parentNode,e=void 0,g=void 0,"IMG"===c.nodeName.toUpperCase()&&(c[f.ns]||(c[f.ns]={}),h.reevaluate||!c[f.ns].evaluated)){if("PICTURE"===d.nodeName.toUpperCase()){if(f.removeVideoShim(d),e=f.getMatch(c,d),e===!1)continue}else e=void 0;("PICTURE"===d.nodeName.toUpperCase()||c.srcset&&!f.srcsetSupported||!f.sizesSupported&&c.srcset&&c.srcset.indexOf("w")>-1)&&f.dodgeSrcset(c),e?(g=f.processSourceSet(e),f.applyBestCandidate(g,c)):(g=f.processSourceSet(c),(void 0===c.srcset||c[f.ns].srcset)&&f.applyBestCandidate(g,c)),c[f.ns].evaluated=!0}}function e(){function c(){var b;a._picturefillWorking||(a._picturefillWorking=!0,a.clearTimeout(b),b=a.setTimeout(function(){d({reevaluate:!0}),a._picturefillWorking=!1},60))}d();var e=setInterval(function(){return d(),/^loaded|^i|^c/.test(b.readyState)?void clearInterval(e):void 0},250);a.addEventListener?a.addEventListener("resize",c,!1):a.attachEvent&&a.attachEvent("onresize",c)}if(a.HTMLPictureElement)return void(a.picturefill=function(){});b.createElement("picture");var f={};f.ns="picturefill",function(){f.srcsetSupported="srcset"in c,f.sizesSupported="sizes"in c}(),f.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},f.endsWith=function(a,b){return a.endsWith?a.endsWith(b):-1!==a.indexOf(b,a.length-b.length)},f.restrictsMixedContent=function(){return"https:"===a.location.protocol},f.matchesMedia=function(b){return a.matchMedia&&a.matchMedia(b).matches},f.getDpr=function(){return a.devicePixelRatio||1},f.getWidthFromLength=function(a){a=a&&a.indexOf("%")>-1==!1&&(parseFloat(a)>0||a.indexOf("calc(")>-1)?a:"100vw",a=a.replace("vw","%"),f.lengthEl||(f.lengthEl=b.createElement("div"),f.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden"),f.lengthEl.style.width=a,b.body.appendChild(f.lengthEl),f.lengthEl.className="helper-from-picturefill-js",f.lengthEl.offsetWidth<=0&&(f.lengthEl.style.width=b.documentElement.offsetWidth+"px");var c=f.lengthEl.offsetWidth;return b.body.removeChild(f.lengthEl),c},f.types={},f.types["image/jpeg"]=!0,f.types["image/gif"]=!0,f.types["image/png"]=!0,f.types["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),f.types["image/webp"]=function(){var a="image/webp";c.onerror=function(){f.types[a]=!1,d()},c.onload=function(){f.types[a]=1===c.width,d()},c.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="},f.verifyTypeSupport=function(a){var b=a.getAttribute("type");return null===b||""===b?!0:"function"==typeof f.types[b]?(f.types[b](),"pending"):f.types[b]},f.parseSize=function(a){var b=/(\([^)]+\))?\s*(.+)/g.exec(a);return{media:b&&b[1],length:b&&b[2]}},f.findWidthFromSourceSize=function(a){for(var b,c=f.trim(a).split(/\s*,\s*/),d=0,e=c.length;e>d;d++){var g=c[d],h=f.parseSize(g),i=h.length,j=h.media;if(i&&(!j||f.matchesMedia(j))){b=i;break}}return f.getWidthFromLength(b)},f.parseSrcset=function(a){for(var b=[];""!==a;){a=a.replace(/^\s+/g,"");var c,d=a.search(/\s/g),e=null;if(-1!==d){c=a.slice(0,d);var f=c.slice(-1);if((","===f||""===c)&&(c=c.replace(/,+$/,""),e=""),a=a.slice(d+1),null===e){var g=a.indexOf(",");-1!==g?(e=a.slice(0,g),a=a.slice(g+1)):(e=a,a="")}}else c=a,a="";(c||e)&&b.push({url:c,descriptor:e})}return b},f.parseDescriptor=function(a,b){var c,d=b||"100vw",e=a&&a.replace(/(^\s+|\s+$)/g,""),g=f.findWidthFromSourceSize(d);if(e)for(var h=e.split(" "),i=h.length-1;i>=0;i--){var j=h[i],k=j&&j.slice(j.length-1);if("h"!==k&&"w"!==k||f.sizesSupported){if("x"===k){var l=j&&parseFloat(j,10);c=l&&!isNaN(l)?l:1}}else c=parseFloat(parseInt(j,10)/g)}return c||1},f.getCandidatesFromSourceSet=function(a,b){for(var c=f.parseSrcset(a),d=[],e=0,g=c.length;g>e;e++){var h=c[e];d.push({url:h.url,resolution:f.parseDescriptor(h.descriptor,b)})}return d},f.dodgeSrcset=function(a){a.srcset&&(a[f.ns].srcset=a.srcset,a.removeAttribute("srcset"))},f.processSourceSet=function(a){var b=a.getAttribute("srcset"),c=a.getAttribute("sizes"),d=[];return"IMG"===a.nodeName.toUpperCase()&&a[f.ns]&&a[f.ns].srcset&&(b=a[f.ns].srcset),b&&(d=f.getCandidatesFromSourceSet(b,c)),d},f.applyBestCandidate=function(a,b){var c,d,e;a.sort(f.ascendingSort),d=a.length,e=a[d-1];for(var g=0;d>g;g++)if(c=a[g],c.resolution>=f.getDpr()){e=c;break}if(e&&!f.endsWith(b.src,e.url))if(f.restrictsMixedContent()&&"http:"===e.url.substr(0,"http:".length).toLowerCase())void 0!==typeof console&&console.warn("Blocked mixed content image "+e.url);else{b.src=e.url,b.currentSrc=b.src;var h=b.style||{},i="webkitBackfaceVisibility"in h,j=h.zoom;i&&(h.zoom=".999",i=b.offsetWidth,h.zoom=j)}},f.ascendingSort=function(a,b){return a.resolution-b.resolution},f.removeVideoShim=function(a){var b=a.getElementsByTagName("video");if(b.length){for(var c=b[0],d=c.getElementsByTagName("source");d.length;)a.insertBefore(d[0],c);c.parentNode.removeChild(c)}},f.getAllElements=function(){for(var a=[],c=b.getElementsByTagName("img"),d=0,e=c.length;e>d;d++){var g=c[d];("PICTURE"===g.parentNode.nodeName.toUpperCase()||null!==g.getAttribute("srcset")||g[f.ns]&&null!==g[f.ns].srcset)&&a.push(g)}return a},f.getMatch=function(a,b){for(var c,d=b.childNodes,e=0,g=d.length;g>e;e++){var h=d[e];if(1===h.nodeType){if(h===a)return c;if("SOURCE"===h.nodeName.toUpperCase()){null!==h.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var i=h.getAttribute("media");if(h.getAttribute("srcset")&&(!i||f.matchesMedia(i))){var j=f.verifyTypeSupport(h);if(j===!0){c=h;break}if("pending"===j)return!1}}}}return c},e(),d._=f,"object"==typeof module&&"object"==typeof module.exports?module.exports=d:"function"==typeof define&&define.amd?define(function(){return d}):"object"==typeof a&&(a.picturefill=d)}(this,this.document,new this.Image),function(){"use strict";function a(a){var b=a||{};this._isReady=!1,this._observeList=[],this._timer=null,this._lastPoint=null,this._didScroll=!1,this._listener=this.listener.bind(this),this.query=b.query||".page",this.eventLabel=b.eventLabel||"VersoPage",this.delay=b.delay||4e3,this.viewPercentage=b.viewPrecentage||.66,this._event=new CustomEvent(this.eventLabel,{detail:{}}),this.init()}a.prototype.init=function(){this._observeList=document.querySelectorAll(this.query),this._observeList.length>0&&(window.addEventListener("scroll",this._listener,!1),this._isReady=!0)},a.prototype.stopListening=function(){window.removeEventListener("scroll",this._listener,!1),this._isReady=!1},a.prototype.checkCurrentPoint=function(){for(var a=null,b=null,c=null,d=window.innerHeight||document.documentElement.clientHeight,e=d-d*this.viewPercentage,f=0,g=this._observeList.length;g>f;f++){if(c=this._observeList[f],b=c.getBoundingClientRect(),!(b.top<e)){a&&a!==this._lastPoint&&this.emit({el:a,index:f-1}),this._lastPoint=a;break}a=c,1!==g&&f!==g-1||a===this._lastPoint||(this._lastPoint=a,this.emit({el:a,index:f}))}},a.prototype.listener=function(a){a||window.event;null!==this._timer&&clearTimeout(this._timer),this._timer=setTimeout(this.checkCurrentPoint.bind(this),this.delay)},a.prototype.isReady=function(){return this._isReady},a.prototype.emit=function(a){this._event.detail.data=a,document.dispatchEvent(this._event)},a.prototype.property=function(a,b){return b?this[a]=b:this[a]},window.Verso=a}(),function(a){function b(a){return"string"==typeof a}function c(a){var b=v.call(arguments,1);return function(){return a.apply(this,b.concat(v.call(arguments)))}}function d(a){return a.replace(r,"$2")}function e(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function f(c,d,e,f,g){var h,k,m,n,o;return f!==i?(m=e.match(c?r:/^([^#?]*)\??([^#]*)(#?.*)/),o=m[3]||"",2===g&&b(f)?k=f.replace(c?q:G,""):(n=l(m[2]),f=b(f)?l[c?C:B](f):f,k=2===g?f:1===g?a.extend({},f,n):a.extend({},n,f),k=j(k),c&&(k=k.replace(s,w))),h=m[1]+(c?u:k||!m[1]?"?":"")+k+o):h=d(e!==i?e:location.href),h}function g(a,c,d){return c===i||"boolean"==typeof c?(d=c,c=x[a?C:B]()):c=b(c)?c.replace(a?q:G,""):c,l(c,d)}function h(c,d,e,f){return b(e)||"object"==typeof e||(f=e,e=d,d=i),this.each(function(){var b=a(this),g=d||p()[(this.nodeName||"").toLowerCase()]||"",h=g&&b.attr(g)||"";b.attr(g,x[c](h,e,f))})}var i,j,k,l,m,n,o,p,q,r,s,t,u,v=Array.prototype.slice,w=decodeURIComponent,x=a.param,y=a.bbq=a.bbq||{},z=a.event.special,A="hashchange",B="querystring",C="fragment",D="elemUrlAttr",E="href",F="src",G=/^.*\?|#.*$/g,H={};x[B]=c(f,0,e),x[C]=k=c(f,1,d),x.sorted=j=function(b,c){var d=[],e={};return a.each(x(b,c).split("&"),function(a,b){var c=b.replace(/(?:%5B|=).*$/,""),f=e[c];f||(f=e[c]=[],d.push(c)),f.push(b)}),a.map(d.sort(),function(a){return e[a]}).join("&")},k.noEscape=function(b){b=b||"";var c=a.map(b.split(""),encodeURIComponent);s=new RegExp(c.join("|"),"g")},k.noEscape(",/"),k.ajaxCrawlable=function(a){return a!==i&&(a?(q=/^.*(?:#!|#)/,r=/^([^#]*)(?:#!|#)?(.*)$/,u="#!"):(q=/^.*#/,r=/^([^#]*)#?(.*)$/,u="#"),t=!!a),t},k.ajaxCrawlable(0),a.deparam=l=function(b,c){var d={},e={"true":!0,"false":!1,"null":null};return a.each(b.replace(/\+/g," ").split("&"),function(b,f){var g,h=f.split("="),j=w(h[0]),k=d,l=0,m=j.split("]["),n=m.length-1;if(/\[/.test(m[0])&&/\]$/.test(m[n])?(m[n]=m[n].replace(/\]$/,""),m=m.shift().split("[").concat(m),n=m.length-1):n=0,2===h.length)if(g=w(h[1]),c&&(g=g&&!isNaN(g)?+g:"undefined"===g?i:e[g]!==i?e[g]:g),n)for(;n>=l;l++)j=""===m[l]?k.length:m[l],k=k[j]=n>l?k[j]||(m[l+1]&&isNaN(m[l+1])?{}:[]):g;else a.isArray(d[j])?d[j].push(g):d[j]=d[j]!==i?[d[j],g]:g;else j&&(d[j]=c?i:"")}),d},l[B]=c(g,0),l[C]=m=c(g,1),a[D]||(a[D]=function(b){return a.extend(H,b)})({a:E,base:E,iframe:F,img:F,input:F,form:"action",link:E,script:F}),p=a[D],a.fn[B]=c(h,B),a.fn[C]=c(h,C),y.pushState=n=function(a,c){b(a)&&/^#/.test(a)&&c===i&&(c=2);var d=a!==i,e=k(location.href,d?a:{},d?c:2);location.href=e},y.getState=o=function(a,b){return a===i||"boolean"==typeof a?m(a):m(b)[a]},y.removeState=function(b){var c={};b!==i&&(c=o(),a.each(a.isArray(b)?b:arguments,function(a,b){delete c[b]})),n(c,2)},z[A]=a.extend(z[A],{add:function(b){function c(a){var b=a[C]=k();a.getState=function(a,c){return a===i||"boolean"==typeof a?l(b,a):l(b,c)[a]},d.apply(this,arguments)}var d;return a.isFunction(b)?(d=b,c):(d=b.handler,void(b.handler=c))}})}(jQuery,this),function(a,b,c){function d(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var e,f="hashchange",g=document,h=a.event.special,i=g.documentMode,j="on"+f in b&&(i===c||i>7);a.fn[f]=function(a){return a?this.bind(f,a):this.trigger(f)},a.fn[f].delay=50,h[f]=a.extend(h[f],{setup:function(){return j?!1:void a(e.start)},teardown:function(){return j?!1:void a(e.stop)}}),e=function(){function e(){var c=d(),g=n(k);c!==k?(m(k=c,g),a(b).trigger(f)):g!==k&&(location.href=location.href.replace(/#.*/,"")+g),h=setTimeout(e,a.fn[f].delay)}var h,i={},k=d(),l=function(a){return a},m=l,n=l;return i.start=function(){h||e()},i.stop=function(){h&&clearTimeout(h),h=c},a.browser.msie&&!j&&function(){var b,c;i.start=function(){b||(c=a.fn[f].src,c=c&&c+d(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){c||m(d()),e()}).attr("src",c||"javascript:0").insertAfter("body")[0].contentWindow,g.onpropertychange=function(){try{"title"===event.propertyName&&(b.document.title=g.title)}catch(a){}})},i.stop=l,n=function(){return d(b.location.href)},m=function(c,d){var e=b.document,h=a.fn[f].domain;c!==d&&(e.title=g.title,e.open(),h&&e.write('<script>document.domain="'+h+'"</script>'),e.close(),b.location.hash=c)}}(),i}()}(jQuery,this),function(){var a,b,c,d,e,f,g="",h="",i="",j="",k=!("www.newyorker.com"==location.hostname),l=jQuery("body").hasClass("business"),m=jQuery("body").hasClass("tech"),n="<div id='polar-rotator-slide'></div>",o=[];window.NATIVEADS=window.NATIVEADS||{},window.NATIVEADS.injectedAt=(new Date).getTime(),window.NATIVEADS.onReady=function(i){i.setPropertyID("NA-NEWYORK-11236070"),i.setSecondaryPageURL("/sample/publisher/sponsored.html"),k&&i.logging.enable(),f=CN.dart.getGPTAds()[0].url,"prod"!=CN.site.env.toLowerCase()&&o.push(CN.site.env.toLowerCase()),o=o[0],(m||l)&&jQuery("#featured").after(n),a={label:"business-rotator",unit:{server:"dfp",id:f,size:"620x320",targets:{}},location:"body.business #polar-rotator-slide",infoText:"",infoButtonText:"",template:g,onRender:function(){jQuery(".owl-carousel").addClass("polar-loaded")},onFill:function(){var a=jQuery(".owl-carousel").data("owlCarousel");a.add(jQuery("#polar-rotator-slide"),-1,!0)},onError:function(){}},b={label:"tech-rotator",unit:{server:"dfp",id:f,size:"620x320",targets:{}},location:"body.tech #polar-rotator-slide",infoText:"",infoButtonText:"",template:g,onRender:function(){jQuery(".owl-carousel").addClass("polar-loaded")},onFill:function(){var a=jQuery(".owl-carousel").data("owlCarousel");a.add(jQuery("#polar-rotator-slide"),-1,!0)},onError:function(){}},c={label:"article-spotlight",unit:{server:"dfp",id:f,size:"317x65",targets:{}},location:"#related-stories-polar",infoText:"",infoButtonText:"",template:h,onRender:function(){jQuery(".polar-rightbar").addClass("advertisement").addClass("loaded")},onFill:function(){jQuery("#related-stories-polar").addClass("polar-loaded")},onError:function(){}},d={label:"most-popular-polar-logo",unit:{server:"dfp",id:f,size:"88x37",targets:{}},location:"#most-popular-polar-logo",infoText:"",infoButtonText:"",template:j,onRender:function(){},onFill:function(){},onError:function(){}},e={label:"most-popular-polar-text",unit:{server:"dfp",id:f,size:"300x25",targets:{}},location:"#most-popular-polar-text",infoText:"",infoButtonText:"",template:j,onRender:function(){},onFill:function(){},onError:function(){}},a.unit.targets={kw:o},b.unit.targets={kw:o},c.unit.targets={kw:o},d.unit.targets={kw:o},e.unit.targets={kw:o},i.insertPreview(a),i.insertPreview(b),i.insertPreview(c),i.insertPreview(d),i.insertPreview(e),i.injectCSS(" ","head"),i.configureSecondaryPage({binding:{sponsor:{link:"#sponsor-link",logo:"#sponsor-logo",name:"#sponsor-name"},title:"#title",summary:"#summary",content:"#content",author:"#author",pubDate:"#pub-date",image:{href:"#media",caption:"#media-caption",credits:"#media-credits"}},onFill:function(){},onRender:function(){},onError:function(){},track:function(){}})},g=function(a,b,c,d,e){function f(a){var b,c="";return c+='<img src="'+k((b=a.image,b=null==b||b===!1?b:b.href,typeof b===j?b.apply(a):b))+'">'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this;return i+='<div class="advertisement polar-sponsored">\n<a href="',(g=c.link)?g=g.call(b,{hash:{},data:e}):(g=b.link,g=typeof g===j?g.apply(b):g),i+=k(g)+'">\n',h=c["if"].call(b,(g=b.image,null==g||g===!1?g:g.href),{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+="\n</a></div>"},h=function(a,b,c,d,e){function f(a){var b,c="";return c+='<img src="'+k((b=a.image,b=null==b||b===!1?b:b.href,typeof b===j?b.apply(a):b))+'">'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this;return i+='<div class="sponsored polar-rightbar">\n<a href="',(g=c.link)?g=g.call(b,{hash:{},data:e}):(g=b.link,g=typeof g===j?g.apply(b):g),i+=k(g)+'">\n\n',h=c["if"].call(b,(g=b.image,null==g||g===!1?g:g.href),{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+="\n<h3>",(h=c.title)?h=h.call(b,{hash:{},data:e}):(h=b.title,h=typeof h===j?h.apply(b):h),i+=k(h)+"</h3>\n</a></div>"},i=function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="sponsored">\n  <a href="',(f=c.link)?f=f.call(b,{hash:{},data:e}):(f=b.link,f=typeof f===h?f.apply(b):f),g+=i(f)+'">\n     <img src="'+i((f=b.image,f=null==f||f===!1?f:f.href,typeof f===h?f.apply(b):f))+'" />\n  </a>\n</div>'},j=function(a,b,c,d,e){function f(){return"hasLogo"}function g(a){var b,c="";return c+='<img src="'+l((b=a.image,b=null==b||b===!1?b:b.href,typeof b===k?b.apply(a):b))+'" />'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j="",k="function",l=this.escapeExpression,m=this;return j+='<div class="sponsored ',i=c["if"].call(b,(h=b.image,null==h||h===!1?h:h.href),{hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e}),(i||0===i)&&(j+=i),j+='">\n  \n  <a href="',(i=c.link)?i=i.call(b,{hash:{},data:e}):(i=b.link,i=typeof i===k?i.apply(b):i),j+=l(i)+'">',i=c["if"].call(b,(h=b.image,null==h||h===!1?h:h.href),{hash:{},inverse:m.noop,fn:m.program(3,g,e),data:e}),(i||0===i)&&(j+=i),j+=" <p>",(i=c.title)?i=i.call(b,{hash:{},data:e}):(i=b.title,i=typeof i===k?i.apply(b):i),j+=l(i)+"</p></a>\n</div>\n\n\n\n"
}}(),function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.type="text/javascript",d.async=!0,d.src="http://plugin.mediavoice.com/plugin.js",e.parentNode.insertBefore(d,e))}(document,"script","nativeads-plugin"),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){var b,c,d=[],e=a(document),f=navigator.userAgent.toLowerCase(),g=a(window),h=[],i=null,j=/msie/.test(f)&&!/opera/.test(f),k=/opera/.test(f);b=j&&/msie 6./.test(f)&&"object"!=typeof window.XMLHttpRequest,c=j&&/msie 7.0/.test(f),a.modal=function(b,c){return a.modal.impl.init(b,c)},a.modal.close=function(){a.modal.impl.close()},a.modal.focus=function(b){a.modal.impl.focus(b)},a.modal.setContainerDimensions=function(){a.modal.impl.setContainerDimensions()},a.modal.setPosition=function(){a.modal.impl.setPosition()},a.modal.update=function(b,c){a.modal.impl.update(b,c)},a.fn.modal=function(b){return a.modal.impl.init(this,b)},a.modal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1e3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,fixed:!0,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null},a.modal.impl={d:{},init:function(b,c){if(this.d.data)return!1;if(i=j&&!a.support.boxModel,this.o=a.extend({},a.modal.defaults,c),this.zIndex=this.o.zIndex,this.occb=!1,"object"==typeof b)b=b instanceof a?b:a(b),this.d.placeholder=!1,0<b.parent().parent().size()&&(b.before(a("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"})),this.d.placeholder=!0,this.display=b.css("display"),!this.o.persist)&&(this.d.orig=b.clone(!0));else{if("string"!=typeof b&&"number"!=typeof b)return alert("SimpleModal Error: Unsupported data type: "+typeof b),this;b=a("<div></div>").html(b)}return this.create(b),this.open(),a.isFunction(this.o.onShow)&&this.o.onShow.apply(this,[this.d]),this},create:function(c){this.getDimensions(),this.o.modal&&b&&(this.d.iframe=a('<iframe src="javascript:false;"></iframe>').css(a.extend(this.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:h[0],width:h[1],zIndex:this.o.zIndex,top:0,left:0})).appendTo(this.o.appendTo)),this.d.overlay=a("<div></div>").attr("id",this.o.overlayId).addClass("simplemodal-overlay").css(a.extend(this.o.overlayCss,{display:"none",opacity:this.o.opacity/100,height:this.o.modal?d[0]:0,width:this.o.modal?d[1]:0,position:"fixed",left:0,top:0,zIndex:this.o.zIndex+1})).appendTo(this.o.appendTo),this.d.container=a("<div></div>").attr("id",this.o.containerId).addClass("simplemodal-container").css(a.extend({position:this.o.fixed?"fixed":"absolute"},this.o.containerCss,{display:"none",zIndex:this.o.zIndex+2})).append(this.o.close&&this.o.closeHTML?a(this.o.closeHTML).addClass(this.o.closeClass):"").appendTo(this.o.appendTo),this.d.wrap=a("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(this.d.container),this.d.data=c.attr("id",c.attr("id")||this.o.dataId).addClass("simplemodal-data").css(a.extend(this.o.dataCss,{display:"none"})).appendTo("body"),this.setContainerDimensions(),this.d.data.appendTo(this.d.wrap),(b||i)&&this.fixIE()},bindEvents:function(){var c=this;a("."+c.o.closeClass).bind("click.simplemodal",function(a){a.preventDefault(),c.close()}),c.o.modal&&c.o.close&&c.o.overlayClose&&c.d.overlay.bind("click.simplemodal",function(a){a.preventDefault(),c.close()}),e.bind("keydown.simplemodal",function(a){c.o.modal&&9===a.keyCode?c.watchTab(a):c.o.close&&c.o.escClose&&27===a.keyCode&&(a.preventDefault(),c.close())}),g.bind("resize.simplemodal orientationchange.simplemodal",function(){c.getDimensions(),c.o.autoResize?c.setContainerDimensions():c.o.autoPosition&&c.setPosition(),b||i?c.fixIE():c.o.modal&&(c.d.iframe&&c.d.iframe.css({height:h[0],width:h[1]}),c.d.overlay.css({height:d[0],width:d[1]}))})},unbindEvents:function(){a("."+this.o.closeClass).unbind("click.simplemodal"),e.unbind("keydown.simplemodal"),g.unbind(".simplemodal"),this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var b=this.o.position;a.each([this.d.iframe||null,this.o.modal?this.d.overlay:null,"fixed"===this.d.container.css("position")?this.d.container:null],function(a,c){if(c){var d=c[0].style;if(d.position="absolute",2>a)d.removeExpression("height"),d.removeExpression("width"),d.setExpression("height",'document.body.scrollHeight > document.body.clientHeight ? document.body.scrollHeight : document.body.clientHeight + "px"'),d.setExpression("width",'document.body.scrollWidth > document.body.clientWidth ? document.body.scrollWidth : document.body.clientWidth + "px"');else{var e,f;b&&b.constructor===Array?(e=b[0]?"number"==typeof b[0]?b[0].toString():b[0].replace(/px/,""):c.css("top").replace(/px/,""),e=-1===e.indexOf("%")?e+' + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"':parseInt(e.replace(/%/,""))+' * ((document.documentElement.clientHeight || document.body.clientHeight) / 100) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',b[1]&&(f="number"==typeof b[1]?b[1].toString():b[1].replace(/px/,""),f=-1===f.indexOf("%")?f+' + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"':parseInt(f.replace(/%/,""))+' * ((document.documentElement.clientWidth || document.body.clientWidth) / 100) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"')):(e='(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',f='(document.documentElement.clientWidth || document.body.clientWidth) / 2 - (this.offsetWidth / 2) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"'),d.removeExpression("top"),d.removeExpression("left"),d.setExpression("top",e),d.setExpression("left",f)}}})},focus:function(b){var c=this,b=b&&-1!==a.inArray(b,["first","last"])?b:"first",d=a(":input:enabled:visible:"+b,c.d.wrap);setTimeout(function(){0<d.length?d.focus():c.d.wrap.focus()},10)},getDimensions:function(){var a="undefined"==typeof window.innerHeight?g.height():window.innerHeight;d=[e.height(),e.width()],h=[a,g.width()]},getVal:function(a,b){return a?"number"==typeof a?a:"auto"===a?0:0<a.indexOf("%")?parseInt(a.replace(/%/,""))/100*("h"===b?h[0]:h[1]):parseInt(a.replace(/px/,"")):null},update:function(a,b){return this.d.data?(this.d.origHeight=this.getVal(a,"h"),this.d.origWidth=this.getVal(b,"w"),this.d.data.hide(),a&&this.d.container.css("height",a),b&&this.d.container.css("width",b),this.setContainerDimensions(),this.d.data.show(),this.o.focus&&this.focus(),this.unbindEvents(),void this.bindEvents()):!1},setContainerDimensions:function(){var a=b||c,d=this.d.origHeight?this.d.origHeight:k?this.d.container.height():this.getVal(a?this.d.container[0].currentStyle.height:this.d.container.css("height"),"h"),a=this.d.origWidth?this.d.origWidth:k?this.d.container.width():this.getVal(a?this.d.container[0].currentStyle.width:this.d.container.css("width"),"w"),e=this.d.data.outerHeight(!0),f=this.d.data.outerWidth(!0);this.d.origHeight=this.d.origHeight||d,this.d.origWidth=this.d.origWidth||a;var g=this.o.maxHeight?this.getVal(this.o.maxHeight,"h"):null,i=this.o.maxWidth?this.getVal(this.o.maxWidth,"w"):null,g=g&&g<h[0]?g:h[0],i=i&&i<h[1]?i:h[1],j=this.o.minHeight?this.getVal(this.o.minHeight,"h"):"auto",d=d?this.o.autoResize&&d>g?g:j>d?j:d:e?e>g?g:this.o.minHeight&&"auto"!==j&&j>e?j:e:j,g=this.o.minWidth?this.getVal(this.o.minWidth,"w"):"auto",a=a?this.o.autoResize&&a>i?i:g>a?g:a:f?f>i?i:this.o.minWidth&&"auto"!==g&&g>f?g:f:g;this.d.container.css({height:d,width:a}),this.d.wrap.css({overflow:e>d||f>a?"auto":"visible"}),this.o.autoPosition&&this.setPosition()},setPosition:function(){var a,b;a=h[0]/2-this.d.container.outerHeight(!0)/2,b=h[1]/2-this.d.container.outerWidth(!0)/2;var c="fixed"!==this.d.container.css("position")?g.scrollTop():0;this.o.position&&"[object Array]"===Object.prototype.toString.call(this.o.position)?(a=c+(this.o.position[0]||a),b=this.o.position[1]||b):a=c+a,this.d.container.css({left:b,top:a})},watchTab:function(b){0<a(b.target).parents(".simplemodal-container").length?(this.inputs=a(":input:enabled:visible:first, :input:enabled:visible:last",this.d.data[0]),(!b.shiftKey&&b.target===this.inputs[this.inputs.length-1]||b.shiftKey&&b.target===this.inputs[0]||0===this.inputs.length)&&(b.preventDefault(),this.focus(b.shiftKey?"last":"first"))):(b.preventDefault(),this.focus())},open:function(){this.d.iframe&&this.d.iframe.show(),a.isFunction(this.o.onOpen)?this.o.onOpen.apply(this,[this.d]):(this.d.overlay.show(),this.d.container.show(),this.d.data.show()),this.o.focus&&this.focus(),this.bindEvents()},close:function(){if(!this.d.data)return!1;if(this.unbindEvents(),a.isFunction(this.o.onClose)&&!this.occb)this.occb=!0,this.o.onClose.apply(this,[this.d]);else{if(this.d.placeholder){var b=a("#simplemodal-placeholder");this.o.persist?b.replaceWith(this.d.data.removeClass("simplemodal-data").css("display",this.display)):(this.d.data.hide().remove(),b.replaceWith(this.d.orig))}else this.d.data.hide().remove();this.d.container.hide().remove(),this.d.overlay.hide(),this.d.iframe&&this.d.iframe.hide().remove(),this.d.overlay.remove(),this.d={}}}}}),!function(a,b,c,d){function e(b,c){b.owlCarousel={name:"Owl Carousel",author:"Bartosz Wojciechowski",version:"2.0.0-beta.2.1"},this.settings=null,this.options=a.extend({},e.Defaults,c),this.itemData=a.extend({},m),this.dom=a.extend({},n),this.width=a.extend({},o),this.num=a.extend({},p),this.drag=a.extend({},q),this.state=a.extend({},r),this.e=a.extend({},s),this.plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=null,this.dom.el=b,this.dom.$el=a(b);for(var d in e.Plugins)this.plugins[d[0].toLowerCase()+d.slice(1)]=new e.Plugins[d](this);this.init()}function f(a){if(a.touches!==d)return{x:a.touches[0].pageX,y:a.touches[0].pageY};if(a.touches===d){if(a.pageX!==d)return{x:a.pageX,y:a.pageY};if(a.pageX===d)return{x:a.clientX,y:a.clientY}}}function g(a){var b,d,e=c.createElement("div"),f=a;for(b in f)if(d=f[b],"undefined"!=typeof e.style[d])return e=null,[d,b];return[!1]}function h(){return g(["transition","WebkitTransition","MozTransition","OTransition"])[1]}function i(){return g(["transform","WebkitTransform","MozTransform","OTransform","msTransform"])[0]}function j(){return g(["perspective","webkitPerspective","MozPerspective","OPerspective","MsPerspective"])[0]}function k(){return"ontouchstart"in b||!!navigator.msMaxTouchPoints}function l(){return b.navigator.msPointerEnabled}var m,n,o,p,q,r,s;m={index:!1,indexAbs:!1,posLeft:!1,clone:!1,active:!1,loaded:!1,lazyLoad:!1,current:!1,width:!1,center:!1,page:!1,hasVideo:!1,playVideo:!1},n={el:null,$el:null,stage:null,$stage:null,oStage:null,$oStage:null,$items:null,$oItems:null,$cItems:null,$content:null},o={el:0,stage:0,item:0,prevWindow:0,cloneLast:0},p={items:0,oItems:0,cItems:0,active:0,merged:[]},q={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,offsetX:0,offsetY:0,distance:null,startTime:0,endTime:0,updatedX:0,targetEl:null},r={isTouch:!1,isScrolling:!1,isSwiping:!1,direction:!1,inMotion:!1},s={_onDragStart:null,_onDragMove:null,_onDragEnd:null,_transitionEnd:null,_resizer:null,_responsiveCall:null,_goToLoop:null,_checkVisibile:null},e.Defaults={items:3,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,responsiveClass:!1,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",themeClass:"owl-theme",baseClass:"owl-carousel",itemClass:"owl-item",centerClass:"center",activeClass:"active"},e.Plugins={},e.prototype.init=function(){if(this.setResponsiveOptions(),this.trigger("initialize"),this.dom.$el.hasClass(this.settings.baseClass)||this.dom.$el.addClass(this.settings.baseClass),this.dom.$el.hasClass(this.settings.themeClass)||this.dom.$el.addClass(this.settings.themeClass),this.settings.rtl&&this.dom.$el.addClass("owl-rtl"),this.browserSupport(),this.settings.autoWidth&&this.state.imagesLoaded!==!0){var a,b,c;if(a=this.dom.$el.find("img"),b=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:d,c=this.dom.$el.children(b).width(),a.length&&0>=c)return this.preloadAutoWidthImages(a),!1}this.width.prevWindow=this.viewport(),this.createStage(),this.fetchContent(),this.eventsCall(),this.internalEvents(),this.dom.$el.addClass("owl-loading"),this.refresh(!0),this.dom.$el.removeClass("owl-loading").addClass("owl-loaded"),this.trigger("initialized"),this.addTriggerableEvents()},e.prototype.setResponsiveOptions=function(){if(this.options.responsive){var b=this.viewport(),c=this.options.responsive,d=-1;a.each(c,function(a){b>=a&&a>d&&(d=Number(a))}),this.settings=a.extend({},this.options,c[d]),delete this.settings.responsive,this.settings.responsiveClass&&this.dom.$el.attr("class",function(a,b){return b.replace(/\b owl-responsive-\S+/g,"")}).addClass("owl-responsive-"+d)}else this.settings=a.extend({},this.options)},e.prototype.optionsLogic=function(){this.dom.$el.toggleClass("owl-center",this.settings.center),this.settings.loop&&this.num.oItems<this.settings.items&&(this.settings.loop=!1),this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},e.prototype.createStage=function(){var b=c.createElement("div"),d=c.createElement(this.settings.stageElement);b.className="owl-stage-outer",d.className="owl-stage",b.appendChild(d),this.dom.el.appendChild(b),this.dom.oStage=b,this.dom.$oStage=a(b),this.dom.stage=d,this.dom.$stage=a(d),b=null,d=null},e.prototype.createItemContainer=function(){var b=c.createElement(this.settings.itemElement);return b.className=this.settings.itemClass,a(b)},e.prototype.fetchContent=function(b){this.dom.$content=b?b instanceof jQuery?b:a(b):this.settings.nestedItemSelector?this.dom.$el.find("."+this.settings.nestedItemSelector).not(".owl-stage-outer"):this.dom.$el.children().not(".owl-stage-outer"),this.num.oItems=this.dom.$content.length,0!==this.num.oItems&&this.initStructure()},e.prototype.initStructure=function(){this.createNormalStructure()},e.prototype.createNormalStructure=function(){var a,b;for(a=0;a<this.num.oItems;a++)b=this.createItemContainer(),this.initializeItemContainer(b,this.dom.$content[a]),this.dom.$stage.append(b);this.dom.$content=null},e.prototype.createCustomStructure=function(a){var b,c;for(b=0;a>b;b++)c=this.createItemContainer(),this.createItemContainerData(c),this.dom.$stage.append(c)},e.prototype.initializeItemContainer=function(a,b){this.trigger("change",{property:{name:"item",value:a}}),this.createItemContainerData(a),a.append(b),this.trigger("changed",{property:{name:"item",value:a}})},e.prototype.createItemContainerData=function(b,c){var d=a.extend({},this.itemData);c&&a.extend(d,c.data("owl-item")),b.data("owl-item",d)},e.prototype.cloneItemContainer=function(a){var b=a.clone(!0,!0).addClass("cloned");return this.createItemContainerData(b,b),b.data("owl-item").clone=!0,b},e.prototype.updateLocalContent=function(){var b,c;for(this.dom.$oItems=this.dom.$stage.find("."+this.settings.itemClass).filter(function(){return a(this).data("owl-item").clone===!1}),this.num.oItems=this.dom.$oItems.length,b=0;b<this.num.oItems;b++)c=this.dom.$oItems.eq(b),c.data("owl-item").index=b},e.prototype.loopClone=function(){if(!this.settings.loop||this.num.oItems<this.settings.items)return!1;var b,c,d,e=this.settings.items,f=this.num.oItems-1;for(this.settings.stagePadding&&1===this.settings.items&&(e+=1),this.num.cItems=2*e,d=0;e>d;d++)b=this.cloneItemContainer(this.dom.$oItems.eq(d)),c=this.cloneItemContainer(this.dom.$oItems.eq(f-d)),this.dom.$stage.append(b),this.dom.$stage.prepend(c);this.dom.$cItems=this.dom.$stage.find("."+this.settings.itemClass).filter(function(){return a(this).data("owl-item").clone===!0})},e.prototype.reClone=function(){null!==this.dom.$cItems&&(this.dom.$cItems.remove(),this.dom.$cItems=null,this.num.cItems=0),this.settings.loop&&this.loopClone()},e.prototype.calculate=function(){var a,b,c,d,e,f,g,h=0,i=0;for(this.width.el=this.dom.$el.width()-2*this.settings.stagePadding,this.width.view=this.dom.$el.width(),c=this.width.el-this.settings.margin*(1===this.settings.items?0:this.settings.items-1),this.width.el=this.width.el+this.settings.margin,this.width.item=(c/this.settings.items+this.settings.margin).toFixed(3),this.dom.$items=this.dom.$stage.find(".owl-item"),this.num.items=this.dom.$items.length,this.settings.autoWidth&&this.dom.$items.css("width",""),this._coordinates=[],this.num.merged=[],d=this.settings.rtl?this.settings.center?-(this.width.el/2):0:this.settings.center?this.width.el/2:0,this.width.mergeStage=0,a=0;a<this.num.items;a++)this.settings.merge?(g=this.dom.$items.eq(a).find("[data-merge]").attr("data-merge")||1,this.settings.mergeFit&&g>this.settings.items&&(g=this.settings.items),this.num.merged.push(parseInt(g)),this.width.mergeStage+=this.width.item*this.num.merged[a]):this.num.merged.push(1),f=this.width.item*this.num.merged[a],this.settings.autoWidth&&(f=this.dom.$items.eq(a).width()+this.settings.margin,this.settings.rtl?this.dom.$items[a].style.marginLeft=this.settings.margin+"px":this.dom.$items[a].style.marginRight=this.settings.margin+"px"),this._coordinates.push(d),this.dom.$items.eq(a).data("owl-item").posLeft=h,this.dom.$items.eq(a).data("owl-item").width=f,this.settings.rtl?(d+=f,h+=f):(d-=f,h-=f),i-=Math.abs(f),this.settings.center&&(this._coordinates[a]=this.settings.rtl?this._coordinates[a]+f/2:this._coordinates[a]-f/2);for(this.width.stage=Math.abs(this.settings.autoWidth?this.settings.center?i:d:i),e=this.num.oItems+this.num.cItems,b=0;e>b;b++)this.dom.$items.eq(b).data("owl-item").indexAbs=b;this.setSizes()},e.prototype.setSizes=function(){this.settings.stagePadding!==!1&&(this.dom.oStage.style.paddingLeft=this.settings.stagePadding+"px",this.dom.oStage.style.paddingRight=this.settings.stagePadding+"px"),this.settings.rtl?b.setTimeout(a.proxy(function(){this.dom.stage.style.width=this.width.stage+"px"},this),0):this.dom.stage.style.width=this.width.stage+"px";for(var c=0;c<this.num.items;c++)this.settings.autoWidth||(this.dom.$items[c].style.width=this.width.item-this.settings.margin+"px"),this.settings.rtl?this.dom.$items[c].style.marginLeft=this.settings.margin+"px":this.dom.$items[c].style.marginRight=this.settings.margin+"px",1===this.num.merged[c]||this.settings.autoWidth||(this.dom.$items[c].style.width=this.width.item*this.num.merged[c]-this.settings.margin+"px");this.width.stagePrev=this.width.stage},e.prototype.responsive=function(){if(!this.num.oItems)return!1;var a=this.isElWidthChanged();return a?this.trigger("resize").isDefaultPrevented()?!1:(this.state.responsive=!0,this.refresh(),this.state.responsive=!1,void this.trigger("resized")):!1},e.prototype.refresh=function(){var a=this.dom.$oItems&&this.dom.$oItems.eq(this.normalize(this.current(),!0));return this.trigger("refresh"),this.setResponsiveOptions(),this.updateLocalContent(),this.optionsLogic(),0===this.num.oItems?!1:(this.dom.$stage.addClass("owl-refresh"),this.reClone(),this.calculate(),this.dom.$stage.removeClass("owl-refresh"),a?this.reset(a.data("owl-item").indexAbs):(this.dom.oStage.scrollLeft=0,this.reset(this.dom.$oItems.eq(0).data("owl-item").indexAbs)),this.state.orientation=b.orientation,this.watchVisibility(),void this.trigger("refreshed"))},e.prototype.updateActiveItems=function(){this.trigger("change",{property:{name:"items",value:this.dom.$items}});var a,b,c,d,e,f;for(a=0;a<this.num.items;a++)this.dom.$items.eq(a).data("owl-item").active=!1,this.dom.$items.eq(a).data("owl-item").current=!1,this.dom.$items.eq(a).removeClass(this.settings.activeClass).removeClass(this.settings.centerClass);for(this.num.active=0,padding=2*this.settings.stagePadding,stageX=this.coordinates(this.current())+padding,view=this.settings.rtl?this.width.view:-this.width.view,b=0;b<this.num.items;b++)c=this.dom.$items.eq(b),d=c.data("owl-item").posLeft,e=c.data("owl-item").width,f=this.settings.rtl?d-e-padding:d-e+padding,(this.op(d,"<=",stageX)&&this.op(d,">",stageX+view)||this.op(f,"<",stageX)&&this.op(f,">",stageX+view))&&(this.num.active++,c.data("owl-item").active=!0,c.data("owl-item").current=!0,c.addClass(this.settings.activeClass),this.settings.lazyLoad||(c.data("owl-item").loaded=!0),this.settings.loop&&this.updateClonedItemsState(c.data("owl-item").index));this.settings.center&&(this.dom.$items.eq(this.current()).addClass(this.settings.centerClass).data("owl-item").center=!0),this.trigger("changed",{property:{name:"items",value:this.dom.$items}})},e.prototype.updateClonedItemsState=function(a){var b,c,d;for(this.settings.center&&(b=this.dom.$items.eq(this.current()).data("owl-item").index),d=0;d<this.num.items;d++)c=this.dom.$items.eq(d),c.data("owl-item").index===a&&(c.data("owl-item").current=!0,c.data("owl-item").index===b&&c.addClass(this.settings.centerClass))},e.prototype.eventsCall=function(){this.e._onDragStart=a.proxy(function(a){this.onDragStart(a)},this),this.e._onDragMove=a.proxy(function(a){this.onDragMove(a)},this),this.e._onDragEnd=a.proxy(function(a){this.onDragEnd(a)},this),this.e._transitionEnd=a.proxy(function(a){this.transitionEnd(a)},this),this.e._resizer=a.proxy(function(){this.responsiveTimer()},this),this.e._responsiveCall=a.proxy(function(){this.responsive()},this),this.e._preventClick=a.proxy(function(a){this.preventClick(a)},this)},e.prototype.responsiveTimer=function(){return this.viewport()===this.width.prevWindow?!1:(b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this.e._responsiveCall,this.settings.responsiveRefreshRate),void(this.width.prevWindow=this.viewport()))},e.prototype.eventsRouter=function(a){var b=a.type;"mousedown"===b||"touchstart"===b?this.onDragStart(a):"mousemove"===b||"touchmove"===b?this.onDragMove(a):"mouseup"===b||"touchend"===b?this.onDragEnd(a):"touchcancel"===b&&this.onDragEnd(a)},e.prototype.internalEvents=function(){var c=(k(),l());this.settings.mouseDrag?(this.dom.$stage.on("mousedown",a.proxy(function(a){this.eventsRouter(a)},this)),this.dom.$stage.on("dragstart",function(){return!1}),this.dom.stage.onselectstart=function(){return!1}):this.dom.$el.addClass("owl-text-select-on"),this.settings.touchDrag&&!c&&this.dom.$stage.on("touchstart touchcancel",a.proxy(function(a){this.eventsRouter(a)},this)),this.transitionEndVendor&&this.on(this.dom.stage,this.transitionEndVendor,this.e._transitionEnd,!1),this.settings.responsive!==!1&&this.on(b,"resize",this.e._resizer,!1)},e.prototype.onDragStart=function(d){var e,g,h,i;if(e=d.originalEvent||d||b.event,3===e.which||this.state.isTouch)return!1;if("mousedown"===e.type&&this.dom.$stage.addClass("owl-grab"),this.trigger("drag"),this.drag.startTime=(new Date).getTime(),this.speed(0),this.state.isTouch=!0,this.state.isScrolling=!1,this.state.isSwiping=!1,this.drag.distance=0,g=f(e).x,h=f(e).y,this.drag.offsetX=this.dom.$stage.position().left-this.settings.stagePadding,this.drag.offsetY=this.dom.$stage.position().top,this.settings.rtl&&(this.drag.offsetX=this.dom.$stage.position().left+this.width.stage-this.width.el+this.settings.margin),this.state.inMotion&&this.support3d)i=this.getTransformProperty(),this.drag.offsetX=i,this.animate(i),this.state.inMotion=!0;else if(this.state.inMotion&&!this.support3d)return this.state.inMotion=!1,!1;this.drag.startX=g-this.drag.offsetX,this.drag.startY=h-this.drag.offsetY,this.drag.start=g-this.drag.startX,this.drag.targetEl=e.target||e.srcElement,this.drag.updatedX=this.drag.start,("IMG"===this.drag.targetEl.tagName||"A"===this.drag.targetEl.tagName)&&(this.drag.targetEl.draggable=!1),a(c).on("mousemove.owl.dragEvents mouseup.owl.dragEvents touchmove.owl.dragEvents touchend.owl.dragEvents",a.proxy(function(a){this.eventsRouter(a)},this))},e.prototype.onDragMove=function(a){var c,e,g,h,i,j;this.state.isTouch&&(this.state.isScrolling||(c=a.originalEvent||a||b.event,e=f(c).x,g=f(c).y,this.drag.currentX=e-this.drag.startX,this.drag.currentY=g-this.drag.startY,this.drag.distance=this.drag.currentX-this.drag.offsetX,this.drag.distance<0?this.state.direction=this.settings.rtl?"right":"left":this.drag.distance>0&&(this.state.direction=this.settings.rtl?"left":"right"),this.settings.loop?this.op(this.drag.currentX,">",this.coordinates(this.minimum()))&&"right"===this.state.direction?this.drag.currentX-=(this.settings.center&&this.coordinates(0))-this.coordinates(this.num.oItems):this.op(this.drag.currentX,"<",this.coordinates(this.maximum()))&&"left"===this.state.direction&&(this.drag.currentX+=(this.settings.center&&this.coordinates(0))-this.coordinates(this.num.oItems)):(h=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),i=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),j=this.settings.pullDrag?this.drag.distance/5:0,this.drag.currentX=Math.max(Math.min(this.drag.currentX,h+j),i+j)),(this.drag.distance>8||this.drag.distance<-8)&&(c.preventDefault!==d?c.preventDefault():c.returnValue=!1,this.state.isSwiping=!0),this.drag.updatedX=this.drag.currentX,(this.drag.currentY>16||this.drag.currentY<-16)&&this.state.isSwiping===!1&&(this.state.isScrolling=!0,this.drag.updatedX=this.drag.start),this.animate(this.drag.updatedX)))},e.prototype.onDragEnd=function(b){var d,e,f;if(this.state.isTouch){if("mouseup"===b.type&&this.dom.$stage.removeClass("owl-grab"),this.trigger("dragged"),this.drag.targetEl.removeAttribute("draggable"),this.state.isTouch=!1,this.state.isScrolling=!1,this.state.isSwiping=!1,0===this.drag.distance&&this.state.inMotion!==!0)return this.state.inMotion=!1,!1;this.drag.endTime=(new Date).getTime(),d=this.drag.endTime-this.drag.startTime,e=Math.abs(this.drag.distance),(e>3||d>300)&&this.removeClick(this.drag.targetEl),f=this.closest(this.drag.updatedX),this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(f),this.settings.pullDrag||this.drag.updatedX!==this.coordinates(f)||this.transitionEnd(),this.drag.distance=0,a(c).off(".owl.dragEvents")}},e.prototype.removeClick=function(c){this.drag.targetEl=c,a(c).on("click.preventClick",this.e._preventClick),b.setTimeout(function(){a(c).off("click.preventClick")},300)},e.prototype.preventClick=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation&&b.stopPropagation(),a(b.target).off("click.preventClick")},e.prototype.getTransformProperty=function(){var a,c;return a=b.getComputedStyle(this.dom.stage,null).getPropertyValue(this.vendorName+"transform"),a=a.replace(/matrix(3d)?\(|\)/g,"").split(","),c=16===a.length,c!==!0?a[4]:a[12]},e.prototype.closest=function(b){var c=0,d=30;return this.settings.freeDrag||a.each(this.coordinates(),a.proxy(function(a,e){b>e-d&&e+d>b?c=a:this.op(b,"<",e)&&this.op(b,">",this.coordinates(a+1)||e-this.width.el)&&(c="left"===this.state.direction?a+1:a)},this)),this.settings.loop||(this.op(b,">",this.coordinates(this.minimum()))?c=b=this.minimum():this.op(b,"<",this.coordinates(this.maximum()))&&(c=b=this.maximum())),c},e.prototype.animate=function(b){this.trigger("translate"),this.state.inMotion=this.speed()>0,this.support3d?this.dom.$stage.css({transform:"translate3d("+b+"px,0px, 0px)",transition:this.speed()/1e3+"s"}):this.state.isTouch?this.dom.$stage.css({left:b+"px"}):this.dom.$stage.animate({left:b},this.speed()/1e3,this.settings.fallbackEasing,a.proxy(function(){this.state.inMotion&&this.transitionEnd()},this))},e.prototype.current=function(a){if(a===d)return this._current;if(0===this.num.oItems)return d;if(a=this.normalize(a),this._current===a)this.animate(this.coordinates(this._current));else{var b=this.trigger("change",{property:{name:"position",value:a}});b.data!==d&&(a=this.normalize(b.data)),this._current=a,this.animate(this.coordinates(this._current)),this.updateActiveItems(),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},e.prototype.reset=function(a){this.suppress(["change","changed"]),this.speed(0),this.current(a),this.release(["change","changed"])},e.prototype.normalize=function(a,b){if(a===d||!this.dom.$items)return d;if(this.settings.loop){var c=this.dom.$items.length;a=(a%c+c)%c}else a=Math.max(this.minimum(),Math.min(this.maximum(),a));return b?this.dom.$items.eq(a).data("owl-item").index:a},e.prototype.maximum=function(){var b,c,d=this.settings;if(!d.loop&&d.center)b=this.num.oItems-1;else if(d.loop||d.center)if(d.loop||d.center)b=this.num.oItems+d.items;else{if(!d.autoWidth&&!d.merge)throw"Can not detect maximum absolute position.";revert=d.rtl?1:-1,c=this.dom.$stage.width()-this.$el.width(),a.each(this.coordinates(),function(a,d){return d*revert>=c?!1:void(b=a+1)})}else b=this.num.oItems-d.items;return b},e.prototype.minimum=function(){return this.dom.$oItems.eq(0).data("owl-item").indexAbs},e.prototype.speed=function(a){return a!==d&&(this._speed=a),this._speed},e.prototype.coordinates=function(a){return a!==d?this._coordinates[a]:this._coordinates},e.prototype.duration=function(a,b,c){return Math.min(Math.max(Math.abs(b-a),1),6)*Math.abs(c||this.settings.smartSpeed)},e.prototype.to=function(c,d){if(this.settings.loop){var e=c-this.normalize(this.current(),!0),f=this.current(),g=this.current(),h=this.current()+e,i=0>g-h?!0:!1;h<this.settings.items&&i===!1?(f=this.num.items-(this.settings.items-g)-this.settings.items,this.reset(f)):h>=this.num.items-this.settings.items&&i===!0&&(f=g-this.num.oItems,this.reset(f)),b.clearTimeout(this.e._goToLoop),this.e._goToLoop=b.setTimeout(a.proxy(function(){this.speed(this.duration(this.current(),f+e,d)),this.current(f+e)},this),30)}else this.speed(this.duration(this.current(),c,d)),this.current(c)},e.prototype.next=function(a){a=a||!1,this.to(this.normalize(this.current(),!0)+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.normalize(this.current(),!0)-1,a)},e.prototype.transitionEnd=function(a){if(a!==d){a.stopPropagation();var b=a.target||a.srcElement||a.originalTarget;if(b!==this.dom.stage)return!1}this.state.inMotion=!1,this.trigger("translated")},e.prototype.isElWidthChanged=function(){var a=this.dom.$el.width()-this.settings.stagePadding,b=this.width.el+this.settings.margin;return a!==b},e.prototype.viewport=function(){var d;if(this.options.responsiveBaseElement!==b)d=a(this.options.responsiveBaseElement).width();else if(b.innerWidth)d=b.innerWidth;else{if(!c.documentElement||!c.documentElement.clientWidth)throw"Can not detect viewport width.";d=c.documentElement.clientWidth}return d},e.prototype.insertContent=function(a){this.dom.$stage.empty(),this.fetchContent(a),this.refresh()},e.prototype.add=function(a,b,c){var d=this.createItemContainer();b=b||0,this.initializeItemContainer(d,a),0===this.dom.$oItems.length?this.dom.$stage.append(d):c?this.dom.$oItems.eq(b).after(d):this.dom.$oItems.eq(b).before(d),this.refresh()},e.prototype.remove=function(a){this.dom.$oItems.eq(a).remove(),this.refresh()},e.prototype.addTriggerableEvents=function(){var b=a.proxy(function(b,c){return a.proxy(function(a){a.relatedTarget!==this&&(this.suppress([c]),b.apply(this,[].slice.call(arguments,1)),this.release([c]))},this)},this);a.each({next:this.next,prev:this.prev,to:this.to,destroy:this.destroy,refresh:this.refresh,replace:this.insertContent,add:this.add,remove:this.remove},a.proxy(function(a,c){this.dom.$el.on(a+".owl.carousel",b(c,a+".owl.carousel"))
},this))},e.prototype.watchVisibility=function(){function c(a){return a.offsetWidth>0&&a.offsetHeight>0}function d(){c(this.dom.el)&&(this.dom.$el.removeClass("owl-hidden"),this.refresh(),b.clearInterval(this.e._checkVisibile))}c(this.dom.el)||(this.dom.$el.addClass("owl-hidden"),b.clearInterval(this.e._checkVisibile),this.e._checkVisibile=b.setInterval(a.proxy(d,this),500))},e.prototype.preloadAutoWidthImages=function(b){var c,d,e,f;c=0,d=this,b.each(function(g,h){e=a(h),f=new Image,f.onload=function(){c++,e.attr("src",f.src),e.css("opacity",1),c>=b.length&&(d.state.imagesLoaded=!0,d.init())},f.src=e.attr("src")||e.attr("data-src")||e.attr("data-src-retina")})},e.prototype.destroy=function(){this.dom.$el.hasClass(this.settings.themeClass)&&this.dom.$el.removeClass(this.settings.themeClass),this.settings.responsive!==!1&&this.off(b,"resize",this.e._resizer),this.transitionEndVendor&&this.off(this.dom.stage,this.transitionEndVendor,this.e._transitionEnd);for(var d in this.plugins)this.plugins[d].destroy();(this.settings.mouseDrag||this.settings.touchDrag)&&(this.dom.$stage.off("mousedown touchstart touchcancel"),a(c).off(".owl.dragEvents"),this.dom.stage.onselectstart=function(){},this.dom.$stage.off("dragstart",function(){return!1})),this.dom.$el.off(".owl"),null!==this.dom.$cItems&&this.dom.$cItems.remove(),this.e=null,this.dom.$el.data("owlCarousel",null),delete this.dom.el.owlCarousel,this.dom.$stage.unwrap(),this.dom.$items.unwrap(),this.dom.$items.contents().unwrap(),this.dom=null},e.prototype.op=function(a,b,c){var d=this.settings.rtl;switch(b){case"<":return d?a>c:c>a;case">":return d?c>a:a>c;case">=":return d?c>=a:a>=c;case"<=":return d?a>=c:c>=a}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)},e.prototype.trigger=function(b,c,d){var e={item:{count:this.num.oItems,index:this.current()}},f=a.camelCase(a.grep(["on",b,d],function(a){return a}).join("-").toLowerCase()),g=a.Event([b,"owl",d||"carousel"].join(".").toLowerCase(),a.extend({relatedTarget:this},e,c));return this._supress[g.type]||(a.each(this.plugins,function(a,b){b.onTrigger&&b.onTrigger(g)}),this.dom.$el.trigger(g),"function"==typeof this.settings[f]&&this.settings[f].apply(this,g)),g},e.prototype.suppress=function(b){a.each(b,a.proxy(function(a,b){this._supress[b]=!0},this))},e.prototype.release=function(b){a.each(b,a.proxy(function(a,b){delete this._supress[b]},this))},e.prototype.browserSupport=function(){if(this.support3d=j(),this.support3d){this.transformVendor=i();var a=["transitionend","webkitTransitionEnd","transitionend","oTransitionEnd"];this.transitionEndVendor=a[h()],this.vendorName=this.transformVendor.replace(/Transform/i,""),this.vendorName=""!==this.vendorName?"-"+this.vendorName.toLowerCase()+"-":""}this.state.orientation=b.orientation},a.fn.owlCarousel=function(b){return this.each(function(){a(this).data("owlCarousel")||a(this).data("owlCarousel",new e(this,b))})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b){LazyLoad=function(b){this.owl=b,this.owl.options=a.extend({},LazyLoad.Defaults,this.owl.options),this.handlers={"changed.owl.carousel":a.proxy(function(a){"items"==a.property.name&&a.property.value&&!a.property.value.is(":empty")&&this.check()},this)},this.owl.dom.$el.on(this.handlers)},LazyLoad.Defaults={lazyLoad:!1},LazyLoad.prototype.check=function(){var a,c,d,e,f=b.devicePixelRatio>1?"data-src-retina":"data-src";for(d=0;d<this.owl.num.items;d++)e=this.owl.dom.$items.eq(d),e.data("owl-item").current===!0&&e.data("owl-item").loaded===!1&&(c=e.find(".owl-lazy"),a=c.attr(f),a=a||c.attr("data-src"),a&&(c.css("opacity","0"),this.preload(c,e)))},LazyLoad.prototype.preload=function(c,d){var e,f,g;c.each(a.proxy(function(c,h){this.owl.trigger("load",null,"lazy"),e=a(h),f=new Image,g=e.attr(b.devicePixelRatio>1?"data-src-retina":"data-src"),g=g||e.attr("data-src"),f.onload=a.proxy(function(){d.data("owl-item").loaded=!0,e.is("img")?e.attr("src",f.src):e.css("background-image","url("+f.src+")"),e.css("opacity",1),this.owl.trigger("loaded",null,"lazy")},this),f.src=g},this))},LazyLoad.prototype.destroy=function(){var a,b;for(a in this.handlers)this.owl.dom.$el.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.lazyLoad=LazyLoad}(window.Zepto||window.jQuery,window,document),function(a,b){AutoHeight=function(b){this.owl=b,this.owl.options=a.extend({},AutoHeight.Defaults,this.owl.options),this.handlers={"changed.owl.carousel":a.proxy(function(a){"position"==a.property.name&&this.owl.settings.autoHeight&&this.setHeight()},this)},this.owl.dom.$el.on(this.handlers)},AutoHeight.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},AutoHeight.prototype.setHeight=function(){var a,c=this.owl.dom.$items.eq(this.owl.current()),d=this.owl.dom.$oStage,e=0;this.owl.dom.$oStage.hasClass(this.owl.settings.autoHeightClass)||this.owl.dom.$oStage.addClass(this.owl.settings.autoHeightClass),a=b.setInterval(function(){e+=1,c.data("owl-item").loaded?(d.height(c.height()+"px"),clearInterval(a)):500===e&&clearInterval(a)},100)},AutoHeight.prototype.destroy=function(){var a,b;for(a in this.handlers)this.owl.dom.$el.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.autoHeight=AutoHeight}(window.Zepto||window.jQuery,window,document),function(a,b,c){Video=function(b){this.owl=b,this.owl.options=a.extend({},Video.Defaults,this.owl.options),this.handlers={"resize.owl.carousel":a.proxy(function(a){this.owl.settings.video&&!this.isInFullScreen()&&a.preventDefault()},this),"refresh.owl.carousel changed.owl.carousel":a.proxy(function(){this.owl.state.videoPlay&&this.stopVideo()},this),"refresh.owl.carousel refreshed.owl.carousel":a.proxy(function(a){return this.owl.settings.video?void(this.refreshing="refresh"==a.type):!1},this),"changed.owl.carousel":a.proxy(function(a){this.refreshing&&"items"==a.property.name&&a.property.value&&!a.property.value.is(":empty")&&this.checkVideoLinks()},this)},this.owl.dom.$el.on(this.handlers),this.owl.dom.$el.on("click.owl.video",".owl-video-play-icon",a.proxy(function(a){this.playVideo(a)},this))},Video.Defaults={video:!1,videoHeight:!1,videoWidth:!1},Video.prototype.checkVideoLinks=function(){var a,b,c;for(c=0;c<this.owl.num.items;c++)b=this.owl.dom.$items.eq(c),b.data("owl-item").hasVideo||(a=b.find(".owl-video"),a.length&&(this.owl.state.hasVideos=!0,this.owl.dom.$items.eq(c).data("owl-item").hasVideo=!0,a.css("display","none"),this.getVideoInfo(a,b)))},Video.prototype.getVideoInfo=function(a,b){var c,d,e,f,g=a.data("vimeo-id"),h=a.data("youtube-id"),i=a.data("width")||this.owl.settings.videoWidth,j=a.data("height")||this.owl.settings.videoHeight,k=a.attr("href");if(g)d="vimeo",e=g;else if(h)d="youtube",e=h;else{if(!k)throw new Error("Missing video link.");e=k.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),e[3].indexOf("youtu")>-1?d="youtube":e[3].indexOf("vimeo")>-1&&(d="vimeo"),e=e[6]}b.data("owl-item").videoType=d,b.data("owl-item").videoId=e,b.data("owl-item").videoWidth=i,b.data("owl-item").videoHeight=j,c={type:d,id:e},f=i&&j?'style="width:'+i+"px;height:"+j+'px;"':"",a.wrap('<div class="owl-video-wrapper"'+f+"></div>"),this.createVideoTn(a,c)},Video.prototype.createVideoTn=function(b,c){function d(a){f='<div class="owl-video-play-icon"></div>',e=k.settings.lazyLoad?'<div class="owl-video-tn '+j+'" '+i+'="'+a+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+a+')"></div>',b.after(e),b.after(f)}var e,f,g,h=b.find("img"),i="src",j="",k=this.owl;return this.owl.settings.lazyLoad&&(i="data-src",j="owl-lazy"),h.length?(d(h.attr(i)),h.remove(),!1):void("youtube"===c.type?(g="http://img.youtube.com/vi/"+c.id+"/hqdefault.jpg",d(g)):"vimeo"===c.type&&a.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){g=a[0].thumbnail_large,d(g),k.settings.loop&&k.updateActiveItems()}}))},Video.prototype.stopVideo=function(){this.owl.trigger("stop",null,"video");var a=this.owl.dom.$items.eq(this.owl.state.videoPlayIndex);a.find(".owl-video-frame").remove(),a.removeClass("owl-video-playing"),this.owl.state.videoPlay=!1},Video.prototype.playVideo=function(b){this.owl.trigger("play",null,"video"),this.owl.state.videoPlay&&this.stopVideo();var c,d,e,f=a(b.target||b.srcElement),g=f.closest("."+this.owl.settings.itemClass);e=g.data("owl-item").videoType,id=g.data("owl-item").videoId,width=g.data("owl-item").videoWidth||Math.floor(g.data("owl-item").width-this.owl.settings.margin),height=g.data("owl-item").videoHeight||this.owl.dom.$stage.height(),"youtube"===e?c='<iframe width="'+width+'" height="'+height+'" src="http://www.youtube.com/embed/'+id+"?autoplay=1&v="+id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===e&&(c='<iframe src="http://player.vimeo.com/video/'+id+'?autoplay=1" width="'+width+'" height="'+height+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),g.addClass("owl-video-playing"),this.owl.state.videoPlay=!0,this.owl.state.videoPlayIndex=g.data("owl-item").indexAbs,d=a('<div style="height:'+height+"px; width:"+width+'px" class="owl-video-frame">'+c+"</div>"),f.after(d)},Video.prototype.isInFullScreen=function(){var d=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return d&&a(d.parentNode).hasClass("owl-video-frame")&&(this.owl.speed(0),this.owl.state.isFullScreen=!0),d&&this.owl.state.isFullScreen&&this.owl.state.videoPlay?!1:this.owl.state.isFullScreen?(this.owl.state.isFullScreen=!1,!1):this.owl.state.videoPlay&&this.owl.state.orientation!==b.orientation?(this.owl.state.orientation=b.orientation,!1):!0},Video.prototype.destroy=function(){var a,b;this.owl.dom.$el.off("click.owl.video");for(a in this.handlers)this.owl.dom.$el.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.video=Video}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){Animate=function(b){this.core=b,this.core.options=a.extend({},Animate.Defaults,this.core.options),this.swapping=!0,this.previous=d,this.next=d,this.handlers={"change.owl.carousel":a.proxy(function(a){"position"==a.property.name&&(this.previous=this.core.current(),this.next=a.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(a){this.swapping="translated"==a.type},this),"translate.owl.carousel":a.proxy(function(){this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.dom.$el.on(this.handlers)},Animate.Defaults={animateOut:!1,animateIn:!1},Animate.prototype.swap=function(){if(1===this.core.settings.items&&this.core.support3d){this.core.speed(0);var b,c=a.proxy(this.clear,this),d=this.core.dom.$items.eq(this.previous),e=this.core.dom.$items.eq(this.next),f=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(b=this.core.coordinates(this.previous)-this.core.coordinates(this.next),d.css({left:b+"px"}).addClass("animated owl-animated-out").addClass(g).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",c)),f&&e.addClass("animated owl-animated-in").addClass(f).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",c))}},Animate.prototype.clear=function(b){a(b.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.transitionEnd()},Animate.prototype.destroy=function(){var a,b;for(a in this.handlers)this.core.dom.$el.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=Animate}(window.Zepto||window.jQuery,window,document),function(a,b,c){Autoplay=function(b){this.core=b,this.core.options=a.extend({},Autoplay.Defaults,this.core.options),this.handlers={"translated.owl.carousel refreshed.owl.carousel":a.proxy(function(){this.autoplay()},this),"play.owl.autoplay":a.proxy(function(a,b,c){this.play(b,c)},this),"stop.owl.autoplay":a.proxy(function(){this.stop()},this),"mouseover.owl.autoplay":a.proxy(function(){this.core.settings.autoplayHoverPause&&this.pause()},this),"mouseleave.owl.autoplay":a.proxy(function(){this.core.settings.autoplayHoverPause&&this.autoplay()},this)},this.core.dom.$el.on(this.handlers)},Autoplay.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},Autoplay.prototype.autoplay=function(){this.core.settings.autoplay&&!this.core.state.videoPlay?(b.clearInterval(this.interval),this.interval=b.setInterval(a.proxy(function(){this.play()},this),this.core.settings.autoplayTimeout)):b.clearInterval(this.interval)},Autoplay.prototype.play=function(){return c.hidden===!0||this.core.state.isTouch||this.core.state.isScrolling||this.core.state.isSwiping||this.core.state.inMotion?void 0:this.core.settings.autoplay===!1?void b.clearInterval(this.interval):void this.core.next(this.core.settings.autoplaySpeed)},Autoplay.prototype.stop=function(){b.clearInterval(this.interval)},Autoplay.prototype.pause=function(){b.clearInterval(this.interval)},Autoplay.prototype.destroy=function(){var a,c;b.clearInterval(this.interval);for(a in this.handlers)this.core.dom.$el.off(a,this.handlers[a]);for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=Autoplay}(window.Zepto||window.jQuery,window,document),function(a){"use strict";var b=function(c){this.core=c,this.initialized=!1,this.pages=[],this.controls={},this.template=null,this.$element=this.core.dom.$el,this.overrides={next:this.core.next,prev:this.core.prev,to:this.core.to},this.handlers={"changed.owl.carousel":a.proxy(function(b){"items"==b.property.name&&(this.initialized||(this.initialize(),this.initialized=!0),this.update(),this.draw()),this.filling&&(b.property.value.data("owl-item").dot=a(":first-child",b.property.value).find("[data-dot]").andSelf().data("dot"))},this),"change.owl.carousel":a.proxy(function(a){if("position"==a.property.name&&!this.core.state.revert&&!this.core.settings.loop&&this.core.settings.navRewind){var b=this.core.current(),c=this.core.maximum(),d=this.core.minimum();a.data=a.property.value>c?b>=c?d:c:a.property.value<d?c:a.property.value}this.filling=this.core.settings.dotsData&&"item"==a.property.name&&a.property.value&&a.property.value.is(":empty")},this),"refreshed.owl.carousel":a.proxy(function(){this.initialized&&(this.update(),this.draw())},this)},this.core.options=a.extend({},b.Defaults,this.core.options),this.$element.on(this.handlers)};b.Defaults={nav:!1,navRewind:!0,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotData:!1,dotsSpeed:!1,dotsContainer:!1,controlsClass:"owl-controls"},b.prototype.initialize=function(){var b,c,d=this.core.settings;d.dotsData||(this.template=a("<div>").addClass(d.dotClass).append(a("<span>")).prop("outerHTML")),d.navContainer&&d.dotsContainer||(this.controls.$container=a("<div>").addClass(d.controlsClass).appendTo(this.$element)),this.controls.$indicators=d.dotsContainer?a(d.dotsContainer):a("<div>").hide().addClass(d.dotsClass).appendTo(this.controls.$container),this.controls.$indicators.on("click","div",a.proxy(function(b){var c=a(b.target).parent().is(this.controls.$indicators)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.to(c,d.dotsSpeed)},this)),b=d.navContainer?a(d.navContainer):a("<div>").addClass(d.navContainerClass).prependTo(this.controls.$container),this.controls.$next=a("<"+d.navElement+">"),this.controls.$previous=this.controls.$next.clone(),this.controls.$previous.addClass(d.navClass[0]).html(d.navText[0]).hide().prependTo(b).on("click",a.proxy(function(){this.prev(d.navSpeed)},this)),this.controls.$next.addClass(d.navClass[1]).html(d.navText[1]).hide().appendTo(b).on("click",a.proxy(function(){this.next(d.navSpeed)},this));for(c in this.overrides)this.core[c]=a.proxy(this[c],this)},b.prototype.destroy=function(){var a,b,c,d;for(a in this.handlers)this.$element.off(a,this.handlers[a]);for(b in this.controls)this.controls[b].remove();for(d in this.overides)this.core[d]=this.overrides[d];for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},b.prototype.update=function(){var a,b,c,d=this.core.settings,e=this.core.num.cItems/2,f=this.core.num.items-e,g=d.center||d.autoWidth||d.dotData?1:d.dotsEach||d.items;if("page"!==d.slideBy&&(d.slideBy=Math.min(d.slideBy,d.items)),d.dots)for(this.pages=[],a=e,b=0,c=0;f>a;a++)(b>=g||0===b)&&(this.pages.push({start:a-e,end:a-e+g-1}),b=0,++c),b+=this.core.num.merged[a]},b.prototype.draw=function(){var b,c,d="",e=this.core.settings,f=this.core.dom.$oItems,g=this.core.normalize(this.core.current(),!0);if(!e.nav||e.loop||e.navRewind||(this.controls.$previous.toggleClass("disabled",0>=g),this.controls.$next.toggleClass("disabled",g>=this.core.maximum())),this.controls.$previous.toggle(e.nav),this.controls.$next.toggle(e.nav),e.dots){if(b=this.pages.length-this.controls.$indicators.children().length,b>0){for(c=0;c<Math.abs(b);c++)d+=e.dotData?f.eq(c).data("owl-item").dot:this.template;this.controls.$indicators.append(d)}else 0>b&&this.controls.$indicators.children().slice(b).remove();this.controls.$indicators.find(".active").removeClass("active"),this.controls.$indicators.children().eq(a.inArray(this.current(),this.pages)).addClass("active")}this.controls.$indicators.toggle(e.dots)},b.prototype.onTrigger=function(b){var c=this.core.settings;b.page={index:a.inArray(this.current(),this.pages),count:this.pages.length,size:c.center||c.autoWidth||c.dotData?1:c.dotsEach||c.items}},b.prototype.current=function(){var b=this.core.normalize(this.core.current(),!0);return a.grep(this.pages,function(a){return a.start<=b&&a.end>=b}).pop()},b.prototype.getPosition=function(b){var c,d,e=this.core.settings;return"page"==e.slideBy?(c=a.inArray(this.current(),this.pages),d=this.pages.length,b?++c:--c,c=this.pages[(c%d+d)%d].start):(c=this.core.normalize(this.core.current(),!0),d=this.core.num.oItems,b?c+=e.slideBy:c-=e.slideBy),c},b.prototype.next=function(b){a.proxy(this.overrides.to,this.core)(this.getPosition(!0),b)},b.prototype.prev=function(b){a.proxy(this.overrides.to,this.core)(this.getPosition(!1),b)},b.prototype.to=function(b,c,d){var e;d?a.proxy(this.overrides.to,this.core)(b,c):(e=this.pages.length,a.proxy(this.overrides.to,this.core)(this.pages[(b%e+e)%e].start,c))},a.fn.owlCarousel.Constructor.Plugins.Navigation=b}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(c){this.core=c,this.hashes={},this.$element=this.core.dom.$el,this.handlers={"initialized.owl.carousel":a.proxy(function(){b.location.hash.substring(1)&&a(b).trigger("hashchange.owl.navigation")},this),"changed.owl.carousel":a.proxy(function(b){this.filling&&(b.property.value.data("owl-item").hash=a(":first-child",b.property.value).find("[data-hash]").andSelf().data("hash"),this.hashes[b.property.value.data("owl-item").hash]=b.property.value)},this),"change.owl.carousel":a.proxy(function(a){"position"==a.property.name&&this.core.current()===d&&"URLHash"==this.core.settings.startPosition&&(a.data=this.hashes[b.location.hash.substring(1)]),this.filling="item"==a.property.name&&a.property.value&&a.property.value.is(":empty")},this)},this.core.options=a.extend({},e.Defaults,this.core.options),this.$element.on(this.handlers),a(b).on("hashchange.owl.navigation",a.proxy(function(){var a=b.location.hash.substring(1),c=this.core.dom.$oItems,d=this.hashes[a]&&c.index(this.hashes[a])||0;return a?(this.core.dom.oStage.scrollLeft=0,void this.core.to(d,!1,!0)):!1},this))};e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var c,d;a(b).off("hashchange.owl.navigation");for(c in this.handlers)this.core.dom.$el.off(c,this.handlers[c]);for(d in Object.getOwnPropertyNames(this))"function"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window,document),window.TNY||(window.TNY={});var TNY=window.TNY;TNY.utils={},TNY.debug={},function(a,b,c,d){"use strict";{var e=function(){},f=b.console||{log:e,warn:e,error:e},g=a(c.getElementsByTagName("html")),h=a(c.getElementsByTagName("body"));g.add(h)}if(TNY.utils.parseTemplate=function(a,b){var c;for(var d in b)c=new RegExp("{{{"+d+"}}}","g"),a=a.replace(c,b[d]);return a},TNY.utils.cookie={create:function(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3),d="; expires="+e.toGMTString()}else d="";document.cookie=a+"="+b+d+"; path=/"},read:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return null},erase:function(a){this.create(a,"",-1)}},b.location.search.indexOf("splash")>-1){var i=c.getElementById("splash-continue");i.innerText=c.referrer}h.delegate(":input","focus",function(){a(this).addClass("focused")}),window.TNY.Info=window.TNY.Info?window.TNY.Info:{};var j=window.navigator,k=j.userAgent;TNY.Info.isRetina=window.devicePixelRatio&&window.devicePixelRatio>1,TNY.Info.isIDevice=/iphone|ipod|ipad/i.test(k),TNY.Info.isMobileChrome=-1!==k.indexOf("Android")&&/Chrome\/[.0-9]*/.test(k),TNY.Info.isMobileSafari=TNY.Info.isIDevice&&-1!==k.indexOf("Safari")&&-1===k.indexOf("CriOS"),TNY.Info.isTablet=TNY.Info.isMobileSafari&&k.indexOf("iPad")>-1||TNY.Info.isMobileChrome&&k.indexOf("Mobile")<0,TNY.Info.OS=TNY.Info.isIDevice?"ios":TNY.Info.isMobileChrome?"android":"unsupported",TNY.Info.OSVersion=k.match(/(OS|Android) (\d+[_|.]\d+)/i),TNY.Info.OSVersion=TNY.Info.OSVersion&&TNY.Info.OSVersion[2]?+TNY.Info.OSVersion[2].replace("_","."):0,TNY.Info.isIosUiWebView=TNY.Info.isIDevice?/(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)/i.test(k):!1,TNY.urlParams=a.deparam.querystring(),TNY.trackEvent=function(a,b,c,d,e){window.optimizely=window.optimizely||[],window.pageTracker=window.pageTracker||{};window.optimizely.push(["trackEvent",b+", "+c])};var l=c.getElementsByName("specificPage");a(l).on("keyup",function(){isNaN(parseFloat(l[0].value))||!isFinite(l[0].value)||l[0].value<=0||l[0].value>parseInt(c.getElementById("maxPages").innerHTML,10)||""===l[0].value?a(this).addClass("error"):a(this).removeClass("error")}),a("#goToPage").on("submit",function(a){if(a.preventDefault(),!isNaN(parseFloat(l[0].value))&&isFinite(l[0].value)&&l[0].value>0&&l[0].value<=parseInt(c.getElementById("maxPages").innerHTML,10))if(b.location.pathname.toString().indexOf("/page/")>-1)b.location=b.location.origin+b.location.pathname.replace(/\/page\/\d{1,5}/,"/page/"+l[0].value)+b.location.search;else{var d="/"===window.location.pathname.toString().charAt(window.location.pathname.toString().length-1)?"page/":"/page/";b.location=b.location.origin+b.location.pathname+d+l[0].value+b.location.search}}),TNY.getRandomCartoon=function(b){return b="undefined"==typeof b&&null!==b?"":"?issueDate="+b,a.ajax({url:"//contest.newyorker.com/randomcartoon/randomcartoon.aspx"+b,dataType:"jsonp"})},"undefined"!=typeof Verso&&(TNY.Verso=new Verso({eventLabel:"tnyPage",query:".tny-page"})),document.addEventListener(TNY.Verso.eventLabel,function(){}),TNY.firstPageBehavior=function(){TNY.pagesVisited=["1"]},"undefined"!=typeof Verso&&(TNY.PageViewTracking=new Verso({eventLabel:"pageViewTracking",query:".tny-page",viewPrecentage:.1}),TNY.pageCount=TNY.pageCount||document.getElementsByClassName("tny-page").length,TNY.pageCount>0&&(TNY.currentPage="",TNY.firstPageBehavior())),TNY.omniturePageChangeAction=function(a){TNY.pageCount>1&&a>1&&(TNY.currentPage=TNY.pageCount==a?"page_final":"page_"+a,TNY.trackPagesVisited(a),CN.stats.omniture.setPaginationValue(TNY.currentPage).trackAjaxPage())},TNY.trackPagesVisited=function(a){return a=a.toString(),TNY.pagesVisited.indexOf(a)<-1?(TNY.pagesVisited.push(a),!0):!1},TNY.getPageFromVerso=function(a){var b=a.detail.data.el.name,c=b.split("/"),d=c[c.length-1];return d},document.addEventListener(TNY.PageViewTracking.eventLabel,function(a){var b=TNY.getPageFromVerso(a);TNY.omniturePageChangeAction(b)}),"undefined"!=typeof Verso&&(TNY.VersoLazyAds=new Verso({eventLabel:"tnyLazyLoadAds",query:".tny-slot",viewPrecentage:-.1,delay:10})),TNY.lazyLoadPageTriggeredAd=function(b){var c=b.detail.data.el.name,d=c.split("/"),e=d[d.length-1],g="yrailTop"+e,h="300x250",i="320x50",j="mobileInstream",k="sideArticle",l=g+h+"_frame",m="displayAd displayAd"+h+"Js",n='.tny-slot[name="/'+e+'"]';"undefined"!=typeof CN&&CN.isMobile&&(l=g+i+"_frame",f.log(l));var o=a('<div class="content-ad-wrapper"><div class="advertisement adIndex_'+e+'"><div id="'+l+'" class="'+m+'" data-cb-ad-id="'+l+'"></div></div></div>');if(0===a("#"+l).length&&e>3)if(a(n).before(o),(e-3)%5===0){var p=a("#CMU_RIGHTRAIL_CONTAINER").html();a("#"+l).html(p),a("#"+l).parent().addClass("loaded")}else"undefined"!=typeof CN&&(CN.isMobile||CN.dart)&&CN.dart.call(g,{sz:CN.isMobile?i:h,kws:CN.isMobile?[j]:[k]})},document.addEventListener(TNY.VersoLazyAds.eventLabel,function(a){TNY.lazyLoadPageTriggeredAd(a)}),window.addEventListener("scroll",function(){TNY.isScrolled=!0},!1),function A(){window.setTimeout(function(){TNY.isScrolled===!0&&(TNY.topNavScroll(),TNY.isScrolled=!1),A()},250)}(),TNY.lastScroll=0,TNY.topNavScroll=function(){{var b=window.pageYOffset,c=a("body"),d="no-ad",e=a("#hd").height(),f=a(".header-ad").height();document.getElementsByTagName("body")[0]}f>b?c.hasClass("smallNav")||c.removeClass(d):b>e+100&&c.addClass(d),b>e+400?c.hasClass(d)&&c.addClass("smallNav"):c.removeClass("smallNav"),TNY.lastScroll=b},TNY.topAdWasViewed=!1,TNY.hasClass=function(a,b){return new RegExp(" "+b+" ").test(" "+a.className+" ")};var m=googletag.pubads();if(m.addEventListener&&m.addEventListener("slotRenderEnded",function(b){var c=b.slot.b.d,d=a("#"+c),e=d.width(),f=d.height();TNY.adsCallbackForArticles(c,d),TNY.adsCallbackForWallpaperAds(),"none"!==d.css("display")&&e>2&&f>18&&d.parent().addClass("loaded");if("#header728x90_frame"==d.selector||"#headerMobile320x50_frame"==d.selector){if(f=jQuery(d.selector).height(),90==f){f=jQuery(d.selector).height()+20,d.parent().parent().addClass("fix_ad");var g="@media screen and (min-width: 850px) { #hd{ margin-top: "+f+"px;} }";jQuery("head").append('<style id="topNavStyles">'),jQuery("#topNavStyles").html(g)}window.setTimeout(function(){a("body").addClass("topAdWasViewed")},2e3)}CN.isMobile&&d.selector.indexOf("yrail")>-1&&TNY.articleAdsMobileFix(d.selector)}),TNY.articleAdsMobileFix=function(b){var c=b.substr(1),d="#articleBody "+b,e=a(d).parent().parent(),f=c+"-content-ad-wrapper",g=e.height(),h='<style id="'+c+'-style">@media (max-width: 340px){#articleBody .'+f+"{height: "+g+"px;}}</style>";e.addClass(f+" ad-centered"),e.append(h)},TNY.adsCallbackForWallpaperAds=function(){var b=a("body");"none"!==b.css("background-image")&&b.addClass("has-wallpaper")},TNY.findElementInView=function(b){var c=a(window).scrollTop(),d=c+a(window).height(),e=a(b).offset().top,f=e+a(b).height();return f>=c&&d>=e},TNY.findAdInView=function(){var b,c=a(".displayAd"),d=[];for(w=0;w<c.length;w++)b=TNY.findElementInView(c[w]),b&&d.push(c[w].id);return d},TNY.createEventForSlideShow=function(){a(".gallery").length>0&&a(".owl-nav > *").on("click",function(){TNY.findAdInView();CN.dart.refresh(TNY.findAdInView())})},function(a){a(document).ready(function(){TNY.createEventForSlideShow()})}(jQuery),TNY.adsCallbackForArticles=function(b,c){{var d=a("#main");a("body")}if((d.hasClass("single-article")||d.hasClass("single-blog")||d.hasClass("single-post"))&&"yrailTop300x250_frame"==b){var e=c.height(),f=a(".recirculation");f.removeClass(),f.addClass("recirculation"),250==e?f.addClass("top-ad-250px"):600==e?f.addClass("top-ad-600px"):1050==e&&f.addClass("top-ad-1050px")}},function(){document.getElementById("goings-on-module")}(),a("#main").hasClass("single-contributor")&&"undefined"!=typeof TNY.reajs){var n=TNY.reajs,o=a(document.getElementById("newsletter-signup")),p=a(document.getElementById("contributor-placement")),q=p.find(".promo"),r=function(a){"up"===a?o.prependTo(p):o.insertAfter(q)};n.checkViewport("desktop")||r("down"),TNY.reajs.registerCallback(["mobile","tablet"],null,r,null,"down"),TNY.reajs.registerCallback("desktop",null,r,null,"up")}if(TNY.utils.staticReady=function(){function a(a){"object"==typeof a?f.log(a[0],a[1]):f.log(a)}function b(b){b=b||!1;var c={render:!0};if(b)if(TNY.utils[b])a(TNY.utils[b](c));else{var d=document,e=d.getElementsByTagName("head")[0],f=d.createElement("script"),g=!1;f.src="/wp-content/assets/js/common/module/helper.js",f.onload=f.onreadystatechange=function(){g||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(g=!0,TNY.utils[b]&&a(TNY.utils[b](c)),f.onload=f.onreadystatechange=null,e.removeChild(f))},e.appendChild(f)}}if("object"==typeof f)return f.quote=function(){return b("staticString")},f.creator=function(){return b("staticResult")},!1}(),!CN.isMobile&&!CN.isTablet){var s=document.getElementById("floatingAd");s&&document.getElementById("AMS_NYR_POPUP_FLOATINGAD").getElementsByTagName("a")[0]&&(TNY.utils.cookie.read("tny_gen")||(s.querySelector(".close").addEventListener("click",function(){floatingAd.style.display="none"}),s.style.display="block"),TNY.utils.cookie.create("tny_gen",!0,1))}var t={setup:function(){var b=document.getElementById("modal-strongbox");if(b&&!CN.isMobile){var c=this;a("#links-strongbox").click(function(a){c.show(),a.preventDefault()}),"#/strongbox"==location.hash.substring(0,11)&&c.show(),a("#links-strongbox-close").click(function(){c.hide()})}else b&&CN.isMobile&&"#/strongbox"==location.hash.substring(0,11)&&(window.location=a("#links-strongbox a").attr("href"))},show:function(){a("#modal-strongbox").addClass("sb-visible"),a("#floatingAd").css("display","none"),a("body").addClass("strongbox-modal-open"),location.hash="#/strongbox/",window.scrollTo(0,0),a("body").addClass("sticky")},hide:function(){a("#modal-strongbox").removeClass("sb-visible"),a("body").removeClass("strongbox-modal-open"),location.hash="#/"}};t.setup();for(var u=a("img.ecom-responsive"),v=u.length,w=0;v>w;w++){var x,y=u[w];x=CN.isMobile?a(y).attr("data-src-mobile")||!1:CN.isTablet?a(y).attr("data-src-tablet")||!1:a(y).attr("data-src-desktop")||!1,y.src=x?x:""}CN.isMobile&&a(".ecom-placement a[data-mobile]").each(function(){this.href=this.getAttribute("data-mobile")});var z=function(){if(typeof _ghearst_vars===d)return!1;var a={missingUnits:[],getUnits:function(){return _ghearst_vars.ams_ads_script_src.split("position_list=")[1].split("%2C")||[]},getDevice:function(){return CN.isMobile?"mobile":CN.isTablet?"tablet":"desktop"},getUnitsInDom:function(){for(var b=a.getUnits(),c=0,d=0;d<b.length;d++){var e=document.getElementById(b[d]);e?c++:a.missingUnits.push(b[d])}return c},report:function(){var b=a.getUnits(),c=a.getUnitsInDom(),d=a.getDevice().toUpperCase(),e=a.missingUnits,g=window.CN?" on "+window.CN.site.env:"";f.log("Promotheus: "+b.length+" declared Units with "+c+" present in page for "+d+g+"."),e.length>0}};return a};TNY.debug.Promotheus=new z,navigator.userAgent&&navigator.userAgent.match(/Firefox/)&&a(document.getElementsByTagName("html")).addClass("reduce-descender-spacing"),"object"==typeof f&&f.log("The New Yorker")}(jQuery,window,document),function(a){"use strict";
function b(b){b||(b=window.event),console.log(b),b.preventDefault(),d.each(function(b,c){a(c).toggleClass("isVisible")}),c.each(function(b,c){a(c).toggleClass("closing")}),a(b.srcElement).hasClass("bignav-search")?f.focus():e.focus()}var c=a(".search-toggle"),d=a(".navSearch"),e=a(c[0]).find("input:text"),f=a(c[1]).find("input:text");document.getElementById("cse")&&(google.load("search","1",{language:"en",nocss:!0}),google.setOnLoadCallback(function(){var a="007727838613746720673:smnx4xhvj6a",b={},c={};c.keys=[{label:"Relevance",key:""},{label:"Date",key:"date"}],b.enableOrderBy=!0,b.orderByOptions=c,b.enableImageSearch=!1;var d=new google.search.CustomSearchControl(a,b);d.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);var e=new google.search.DrawOptions;e.setAutoComplete(!0),d.draw("cse",e),TNY.urlParams.q&&d.execute(TNY.urlParams.q)},!0)),c.on("click",b)}(jQuery),function(a,b,c,d){"use strict";b.TNY||(b.TNY={});var e=b.TNY;window.addEventListener=window.addEventListener||window.attachEvent;var f=function(){var a=e.utils.parseTemplate,b=function(){},c='<div class="fb-share-button" data-href="{{{linkURL}}}" data-type="{{{type}}}"></div>',f='<a href="http://twitter.com/share" class="twitter-share-button" data-size="{{{size}}}" data-align="{{{align}}}" data-url="{{{linkURL}}}" data-counturl="{{{linkURL}}}" data-text="{{{text}}}" data-count="horizontal" data-via="NewYorker" data-related="NewYorker"></a>',g='<g:plusone data-href="{{{href}}}" data-annotation="{{{annotation}}}" data-size="{{{size}}}" data-width="{{{width}}}"" data-align="{{{left}}}" data-callback="{{{callback}}}" data-recommendations="{{{recommendations}}}"></g:plusone>',h='<script type="IN/Share" data-url="{{{url}}}" data-counter="{{{counter}}}" data-showzero={{{showzero}}} data-onsuccess="{{{onsuccess}}}" data-onerror="{{{onerror}}}"></script>',i='<a href="//www.pinterest.com/pin/create/button/?url={{{linkURL}}}&media={{{imageURL}}}&description={{{description}}}" target="_blank" data-pin-do="buttonPin" data-pin-config="{{{pinLoc}}}"><img src="//assets.pinterest.com/images/pidgets/pin_it_button.png" /></a>';return{createFBButton:function(b,d,e,f){var g;if(e=e||{},b="string"==typeof b?document.querySelector(b):b,!b)throw new Error("No provided 'el'.");b.innerHTML="",g=a(c,{linkURL:d||window.location.href,type:e.type||"button-count"}),b.innerHTML=g,"undefined"!=typeof FB&&"undefined"!=typeof FB.XFBML&&(FB.XFBML.parse(b),f&&f())},createGPlusButton:function(b,c,d,e){var f,h={href:c||window.location.href,size:"medium",annotation:"none",width:"",align:"left",expandTo:"",callback:e&&"function"==typeof e?e:"",recommendations:"false"};if(b="string"==typeof b?document.querySelector(b):b,!b)throw new Error("No provided 'el'.");if(d)for(var i in d)h[i]=d[i];b.innerHTML="","undefined"!=typeof gapi&&"undefined"!=typeof gapi.plusone?gapi.plusone.render(b,h):(f=a(g,h),b.innerHTML=f)},createTwitterButton:function(b,c,e,g){var h,i=c||window.location.href,j={align:"left",count:"horizontal",size:"medium",counturl:d,text:"New Yorker"};if(b="string"==typeof b?document.querySelector(b):b,!b)throw new Error("No provided 'el'.");if(e)for(var k in e)j[k]=e[k];b.innerHTML="","undefined"!=typeof twttr&&"undefined"!=typeof twttr.widgets?(g||(g=null),twttr.widgets.createShareButton(i,b,g,j)):(j.linkURL=i,h=a(f,j),b.innerHTML=h)},createLinkedInButton:function(c,d,e,f){var g,i={url:d||window.location.href,onsuccess:f||b,onerror:f||b,counter:"right",showzero:!0};if(c="string"==typeof c?document.querySelector(c):c,!c)throw new Error("No provided 'el'.");if(e)for(var j in e)i[j]=e[j];c.innerHTML="",g=a(h,i),c.innerHTML=g,"undefined"!=typeof IN&&IN.init()},createPinItButton:function(b,c,d,e,f){var g,h={linkURL:d||window.location.href,imageURL:c||null,pinLoc:"none",description:"The New Yorker"};if(b="string"==typeof b?document.querySelector(b):b,!b||!h.imageURL)throw new Error("No provided 'el'. or 'imageURL'");if(h.linkURL=encodeURIComponent(h.linkURL),h.imageURL=encodeURIComponent(h.imageURL),e)for(var j in e)h[j]=e[j];b.innerHTML="",g=a(i,h),b.innerHTML=g,f&&f()}}}();e.Jovial=f}(jQuery,window,document),function(){window.TNY||(window.TNY={});var a=window.TNY,b={opts:{ID:"main"},parentObj:null,init:function(a){var b=this.opts,c=null;if(a)for(var d in a)b[d]&&(b[d]=a[d]);c=document.querySelectorAll(".lazy-image");for(var e=0,f=c.length;f>e;e++)this.loadImage(c[e])},loadImage:function(a){var b,c=a.getAttribute("data-lazy-src");c&&(b=new Image,b.onload=function(){a.parent?a.parent.replaceChild(b,a):a.src=c},b.src=c)}};a.LazyImg=b}(),TNY.LazyImg.init(),function(a){"use strict";function b(a){for(var b=[],c=a.length>>>0;c--;)b[c]=a[c];return b}var c={init:function(){for(var a=document.querySelectorAll(".lazy-module"),b=0,c=a.length;c>b;b++)this.loadModule(a[b])},loadModule:function(b,c,d,e){var f=a(b),g=this.replaceModule;return d=d||JSON.stringify(f.data("reqData")),(c=c||f.data("reqUrl"))?void a.get(c,d,function(a){g(b,a),e&&e()}):!1},replaceModule:function(a,c){if(!c)return!1;var d,e=document.createElement("div"),f=(document.createDocumentFragment(),a.parentNode),g=null,h=null;e.innerHTML=c,g=b(e.children),d=g.length,h=a;for(var i=0;d>i;i++)h=f.insertBefore(g[i],h.nextSibling);f.removeChild(a)}};TNY.LazyModule=c}(jQuery),window.addEventListener("DOMContentLoaded",TNY.LazyModule.init.bind(TNY.LazyModule),!1),function(a,b,c){"use strict";a.TNY||(a.TNY={});var d=a.TNY;a.console=a.console||{};var e=function(){function a(){yepnope.injectJs("http://admin.brightcove.com/js/BrightcoveExperiences.js",function(){brightcove.createExperiences()}),g=!0}var b,f={base:"http://api.brightcove.com/services/library?",token:"&token=VVIgQcePgLXb617cBHL7WxnGVXBdIk2z4SK4q3TaMqQ.",videoById:"find_video_by_id&video_id=",playlistsById:"find_playlists_by_ids&playlist_ids=",videosByTag:"search_videos&any=tag:"},g=!1,h={};return null!==document.querySelector(".BrightcoveExperience")&&a(),{init:function(){b=this},sendRequest:function(a,b){var d=f.base+"command="+b+f.token;c.ajax({url:d,dataType:"jsonp",crossDomain:!0,success:function(b){a(b?b:null)},error:function(b){a(b)}})},getVideoData:function(a,b,c){var d=f.videoById+b;if(c)for(var g in c)d+=g+"="+c[g];e.sendRequest(a,d)},getPlaylistData:function(a,b,c){var d=f.playlistsById+b;if(c)for(var g in c)d+=g+"="+c[g];e.sendRequest(a,d)},getTagData:function(a,b,c){var d=f.videosByTag+b;if(c)for(var g in c)d+=g+"="+c[g];e.sendRequest(a,d)},getVideoObject:function(a){return h[a]},loadedCallback:function(){},readyCallback:function(){},templateLoaded:function(a){h[a]={player:brightcove.api.getExperience(a),APIModules:brightcove.api.modules.APIModules},d.trackEvent("videoLoaded","loaded","brightcoveVideo"),b.loadedCallback(a)},templateReady:function(a){var e,f=a||window.event,g=f.target.experience.id;c(document.getElementById(g).parentNode).fitVids(),h[g]&&(e=h[g].videoPlayer=h[g].player.getModule(h[g].APIModules.VIDEO_PLAYER)),d.trackEvent("videoReady","ready","brightcoveVideo"),b.readyCallback(g)},createVideo:function(b,c,e,f,h){var i='<object id="myExperience{{{vID}}}" class="BrightcoveExperience"><param name="bgcolor" value="#FFFFFF" /><param name="width" value="{{{width}}}" /><param name="height" value="{{{height}}}" /><param name="playerID" value="{{{pID}}}" /><param name="playerKey" value="AQ~~,AAAAAF1454s~,QH_ygumSKiUSM5umxH7QftbSQjDYIwCl" /><param name="isVid" value="true" /><param name="isUI" value="true" /><param name="dynamicStreaming" value="true" /><param name="@videoPlayer" value="{{{vID}}}" /><param name="includeAPI" value="true" /><param name="templateLoadHandler" value="TNY.Brightcove.templateLoaded" /><param name="templateReadyHandler" value="TNY.Brightcove.templateReady" /></object>',j=c,k=e||2323364781001,l={vID:j,pID:k,height:f||370,width:h||670};g===!1&&a(),"string"==typeof b&&(b=document.getElementById(b)),i=d.utils.parseTemplate(i,l),console.log(i),b.innerHTML=i,"undefined"!=typeof brightcove&&brightcove.createExperiences()},deleteVideoObject:function(a){h[a]&&delete h[a]}}}();d.Brightcove=e,d.Brightcove.init()}(window,document,jQuery),function(a){"use strict";function b(a){if(!a)return null;var b=this.processSubmit.bind(this);this.form=a,this.processing=!1,this.messanger=a.parentNode.querySelector(e),this.messangerOriginalClass=this.messanger.className,this.newsletterId=[],this.form.addEventListener("submit",b),this.form.email.addEventListener("keypress",function(a){13==a.which&&(a.preventDefault(),b(a))})}b.prototype.processSubmit=function(a){return a.preventDefault(),this.processing?!1:(this.clearMessage(),this.validate()?void this.signUpNewsletters():!1)},b.prototype.signUpNewsletters=function(){var b=(this.form,{}),c=this.afterPost.bind(this);this.processing=!0,a(this.form).find("input").each(function(){b[this.name]=a(this).val()}),b["newsletterId[]"]=this.newsletterId,b=a.param(b),a.post("/wp-admin/admin-ajax.php",b,c)},b.prototype.afterPost=function(b){this.processing=!1,0!==b?(a(this.form).before('<div class="newsletter-message"><span class="newsletter-thankyou">Thank you for signing up</span></div>'),this.form.style.display="none"):(a(this.form.email).addClass("error"),this.sayMessage('<span class="newsletter-error">There was an error making your request</span>')),this.analyticsNewsletterType()},b.prototype.analyticsNewsletterType=function(){for(var a,b=[],c=this.newsletterId,d=0,e=c.length;e>d;d++){switch(c[d]){case"217":a="weekly";break;case"442":a="cartoons";break;case"5122":a="daily";break;case"5129":a="borowitz";break;default:a=null}a&&b.push(a)}b=b.join(","),CN.stats.omniture.trackActionEvar("newsletterSignup",this,"list2",b),s.events="",s.list2=""},b.prototype.validate=function(){var a=this.form.email.value;return""===a||null===a.match(d)?(this.sayMessage('<span class="newsletter-error">Please enter a valid email address.</span>'),!1):(this.processIds(),this.newsletterId.length<0?(this.sayMessage('<span class="newsletter-error">Please select a newsletter preference.</span>'),!1):!0)},b.prototype.processIds=function(){var a,b;if(this.form["newsletterId[]"])for(b=0;b<this.form["newsletterId[]"].length;b++)a=this.form["newsletterId[]"][b],a.checked&&this.newsletterId.push(a.value);else{var c=f[0];if(!this.form["newsletterId[]["+c+"]"])return!1;for(b=0;b<f.length;b++)a=this.form["newsletterId[]["+f[b]+"]"],a&&""!==a.value&&this.newsletterId.push(a.value)}},b.prototype.sayMessage=function(a,b){this.messanger.innerHTML=a,b&&(this.message.className+=" "+b)},b.prototype.clearMessage=function(){this.messanger.className=this.messangerOriginalClass,this.messanger.innerHTML=""};for(var c=document.querySelectorAll(".newsletter-signup-form"),d=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,e=".newsletter-message",f=[217,442,5122,5129],g=(window.location.origin||window.location.protocol+"//"+window.location.host,[]),h=0;h<c.length;h++)g[h]=new b(c[h])}(jQuery,window,document),window.TNY||(window.TNY={});var TNY=window.TNY;!function(a,b){"use strict";var c={init:function(){var a=b.getElementById("you-might-like")||!1,c=b.querySelector("link[rel=canonical]")||!1;if(a&&c){var d=c.href;this.build(a,d)}},build:function(c){a.getJSON("http://api.parsely.com/v2/related?callback=?",{apikey:"newyorker.com",url:location.href,days:3,limit:10,page:1,sort:"score",strategy:"recency"}).done(function(d){if("undefined"!=typeof d.data){var e=b.getElementById("yml-list")||!1,f="",g=4,h=0,i="";a.each(d.data,function(a,b){function c(a){var b=a.split(".newyorker.com/")[1]||"";if(b.length>16){var c=(b.indexOf("?")>-1?"&":"?")+"intcid=mod-yml";return"//www.newyorker.com/"+b+c}return""}if(g>h){var d=b.title.replace(" : The New Yorker",""),e=c(b.image_url),j=c(b.url),k=b.section.replace("Uncategorized","&nbsp;");if(""!==j&&""!==e&&-1===i.indexOf(j)){i+=j;var l='	<article class="child'+h+' story">\n';l+="		<figure>\n",l+='			<a href="'+j+'" title="'+d+'">\n',l+='				<img src="'+e+'" alt="The New Yorker">\n',l+="			</a>\n",l+="		</figure>\n",l+="		<section>\n",l+="			<h4>"+k+"</a>\n",l+='			<h2><a href="'+j+'" itemprop="name">'+d+"</a></h2>\n",l+="			<h3>By "+b.author+"</h3>\n",l+="		</section>\n",l+="	</article>\n",f+=l,h++}}}),e.innerHTML=f,c.style.display="block"}})}};c.init()}(jQuery,document),document.getElementById("goings-on-module")&&!function(a,b){"use strict";function c(a){for(var b=document.createDocumentFragment(),c=null,e=0,f=a.length;f>e;e++)c=document.createElement("li"),a[e].featured&&(c.className="featured"),c.innerHTML=a[e].html,b.appendChild(c);l.innerHTML="",l.appendChild(b),d(),k.removeClass("loading")}function d(){m.href="food-and-drink-section"==o.id?"/magazine/"+o.id.replace("-section",""):"/goings-on-about-town/"+o.id.replace("-section",""),m.innerHTML="More Listings"}function e(a){var b=a||window.event,d=b.target;if("a"===d.tagName.toLowerCase()){b.preventDefault();var e=d.parentElement,f=e.id.replace("-section","");o.id.replace("-section",""),o.className="",o=e,o.className="selected",k.addClass("loading"),i[f]&&c(i[f])}}function f(b,d){d=d||b,a.ajax({url:p}).done(function(a){i=a,c(i[o.id.replace("-section","")])}).fail(d)}function g(){b.touch;n.addEventListener("mouseover",e,!1),d(),f(c)}var h=document.getElementById("goings-on-module"),i={},j=h.querySelector(".goings-on-content"),k=a(j),l=j.querySelector("ul"),m=document.getElementById("full-listing"),n=h.querySelector("nav"),o=n.querySelector(".selected"),p=[window.location.protocol,"//",window.location.host,"/goat-content/"].join("");g()}(jQuery,Modernizr),function(a){var b=function(){function b(b){var c=b.currentTarget,d=a(c),e=d.find("figcaption"),f=d.find("img").attr("alt")||"The New Yorker",g=d.find("a").attr("href"),h=new Image,i=e.html()||"",j=document.createElement("figcaption"),k="",l=null;h.src=g,h.alt=f,""!==i&&(j=document.createElement("figcaption"),j.className="caption",j.innerHTML=i,-1!==i.indexOf('class="caption-text"')&&(k="has-caption")),l=document.createElement("figure"),l.className=k,l.appendChild(h),j&&l.appendChild(j),s.container.className+=" overlay-image",s.inner.insertBefore(l,s.inner.firstChild),h.onload=function(a){var b=a||window.event,c=b.target,d=window.innerHeight||document.documentElement.clientHeight;c.offsetHeight>d&&(l.style.height="100%")}}function c(b){var c=b.currentTarget;d(a(c).data("ids"))}function d(b){var c=document.createElement("div"),d={ids:b,related_stories:!0},e=function(){var b,c,d=s.inner.querySelector(".owl-carousel");if(TNY.GalleryApp.setupGallery(d),p(),b=a(s.inner.querySelector(".gallery-caption")),c=b.find(".caption-container"),TNY.reajs.checkViewport("desktop")){var e=document.createElement("div"),f="300x250",g="yrailTopModal";e.className="content-ad-wrapper",e.innerHTML='<div class="advertisement"><div id="'+g+f+'_frame" class="displayAd" data-cb-ad-id="'+g+f+'+_frame"></div></div>',s.inner.appendChild(e),CN.dart.call(g,{sz:f,kws:"bottom"})}var h=document.createElement("span");h.className="toggle-caption",h.innerHTML="Show Captions",b.append(h),h.addEventListener("click",function(){if(b.toggleClass("open"),0===c.height()){var d=0;c.children().each(function(){d+=a(this).outerHeight(!0)}),c.height(d+20),h.innerHTML="Hide Caption"}else c.height(0),h.innerHTML="Show Caption"})};c.className="loading",c.innerHTML="loading",s.container.className+=" overlay-slideshow",s.inner.appendChild(c),TNY.LazyModule.loadModule(c,"/module/media-gallery",d,e)}function e(a){l(d,a)}function f(b){var c=a(b.currentTarget),d=c.data("embedCode");g(d)}function g(b){t=o,s.container.className+=" overlay-video",a(s.inner).html(b)}function h(a){l(g,a)}function i(a){return q[a]}function j(){var b=null;for(var c in q){b=document.querySelectorAll(q[c].query);for(var d=0,e=b.length;e>d;d++)r.push(b[d]),a.data(b[d],"expand-type",c),b[d].addEventListener("click",k,!1)}m()}function k(b){b.preventDefault();var c=b||window.event,d=c.currentTarget,e=a.data(d,"expand-type"),f=null;e&&(f=i(e)),f&&(l(f.cb,c),c.preventDefault())}function l(a,b){o(),a(b),u.addClass(v),setTimeout(function(){s.container.style.opacity="1"},1)}function m(){s.container=document.createElement("aside"),s.container.id="tny-overlay",s.container.className="fs-overlay",s.close=document.createElement("span"),s.close.className="modal-close",s.close.innerHTML="Close",s.inner=document.createElement("div"),s.inner.className="modal-inner",s.container.appendChild(s.close),s.container.appendChild(s.inner),s.container.addEventListener("click",n,!1),u=a(s.container),document.body.appendChild(s.container)}function n(a){var b=a||window.event,c=b.target;(c===s.close||c===s.container||c===s.inner)&&(s.container.style.opacity="0",setTimeout(function(){t&&t(),t=null,s.container.className="fs-overlay"},500))}function o(){s.inner.innerHTML=""}function p(a){if(TNY.Jovial){var b,c=s.inner.querySelectorAll(".social-buttons"),d=document.querySelector(".gallery-wrapper").getElementsByTagName("img")[0],e=d.src||d.getAttribute("data-full-src");a=a||window.location.href;for(var f=0;f<c.length;f++)b=c[f].getElementsByTagName("li"),TNY.Jovial.createFBButton(b[0],null,{type:"button"}),TNY.Jovial.createTwitterButton(b[1],{count:"none"}),TNY.Jovial.createGPlusButton(b[2]),TNY.Jovial.createPinItButton(b[3],e)}}var q={image:{query:".img-expandable",cb:b},slideshow:{query:".slideshow-expandable",cb:c},video:{query:".video-expandable",cb:f}},r=[],s={container:null,inner:null,close:null},t=null,u=null,v="show";return j(),{resetModal:o,showGalleryModal:e,showVideoModal:h}}();TNY.Modalizer=b}(jQuery),function(a,b,c,d){"use strict";function e(){function e(){return d?d.touch:"ontouchstart"in b||"onmsgesturechange"in b}var g,h=a(".mobile-nav"),i=a(".page-container"),j=c.getElementsByClassName("content-wrapper")[0],k=c.getElementsByClassName("icon-menu")[0];g=e()?"touchend":"click";var l=function(){try{var b=TNY.account.readCookie("amg_user");null===b?(a(".user-ln-status-mobi").show(),a(".user-sign-in").show(),a(".mob-sign-in").css("display","inline!important")):(a("#mobi-account-link-1").html('<a href="'+f.determineConfig("","account")+'">My account</a>').show(),a("#mobi-account-link-2").html('<a href="'+f.determineConfig("logout","account")+'" id="mobi-user-sign-out" title="Sign Out" class="mobi-account-menu-sign-out">Sign out</a></li>').show(),a(".mob-sign-in").css("display","none!important"),a(".user-ln-status-mobi").hide(),a("#mobi-account-link-2").click(function(){f.signOut()}))}catch(c){}};k.addEventListener(g,function(a){a.preventDefault(),l(),i.toggleClass("menu-open"),h.toggleClass("open")}),j.addEventListener(g,function(a){i.hasClass("menu-open")&&(a.preventDefault(),a.stopPropagation(),i.toggleClass("menu-open"),h.toggleClass("open"))})}var f=(new CustomEvent("navStateChange",{detail:{}}),b.TNY.account);f.closeSliderMenu=function(b){var c=a(".mobile-nav"),d=a(".page-container");d.toggleClass("menu-open"),c.toggleClass("open"),b&&b()},e()}(jQuery,window,document,Modernizr,TNY.reajs),function(a){"use strict";function b(){var b=document.getElementById("page-header"),d=a(document.getElementById("page-header")),e=b.querySelector(".close-button");c.addEventListener("click",function(a){a||window.event;TNY.reajs.checkViewport("mobile")&&d.toggleClass("opened")}),e.addEventListener("click",function(){d.removeClass("opened")})}var c=document.getElementById("goat-nav-close");c&&b()}(jQuery),function(a){function b(){var b={year:h.year.value,month:h.month.value,action:h.ajaxAction.value};a.ajax({url:m,type:"get",data:b}).fail(function(){console.log("fail")}).done(function(a){o=h.year.value,p=h.month.value,g(a),c(a.length)}).always(function(){l.removeClass("loading")})}function c(){}function d(){var a=i.getElementsByTagName("li")[0];i.style.height=a.offsetHeight}function e(){i.removeAttribute("style"),k.removeAttribute("style"),j.removeClass("owl-carousel owl-loaded"),q&&(q.destroy(),q=null)}function f(a){var b,c=4,d=!1;a=a||0,TNY.reajs.checkViewport("mobile")?a>1&&(d=!0,c=1):a>4&&(d=!0),d&&(b={items:4,responsiveClass:!0,responsive:{0:{items:1,nav:!0},600:{items:4,nav:!0}},lazyLoad:!1,loop:!1,dots:!1,autoplay:!1,navText:["<img src='/wp-content/assets/img/gallery/previous.svg'>","<img src='/wp-content/assets/img/gallery/next.svg'>"],margin:0},j.addClass("owl-carousel"),j.owlCarousel(b),q=j.data("owlCarousel"))}function g(a){if(a){for(var b="",c=k.getElementsByTagName("nav")[0],g=0,h=a.length;h>g;g++)b+=a[g];c&&k.removeChild(c),d(),i.innerHTML=b,e(),f(h)}}var h=document.getElementById("issueDateForm"),i=document.getElementById("allIssuesSlider");if(h&&i){var j=a(i),k=document.getElementById("all-issues-slider"),l=a(k),m=[window.location.protocol,"//",window.location.host,"/wp-admin/admin-ajax.php"].join(""),n=4,o=h.year.value,p=h.month.value,q=null;f(n),h.onchange=function(){(o!==h.year.value||p!==h.month.value)&&(l.addClass("loading"),b())}}}(jQuery),function(a,b){var c={init:function(){var a,c;if(a=b.getElementsByClassName("media-embed-wrapper"),0===a.length)return!1;for(c=a.length-1;c>=0;c--)this.makeElResponsive(a[c]);return a},makeElResponsive:function(a){var b,c,d,e=a,f=e.querySelector("iframe");f.offsetHeight||f.offsetWidth||!(isNaN(f.style.height)&&isNaN(f.style.width)||!f.style.height&&!f.style.width)||(f.height="9px",f.width="16px"),b=f.getAttribute("height")&&!isNaN(parseInt(f.getAttribute("height"),10))?parseInt(f.getAttribute("height"),10):getComputedStyle(f).height,c=f.getAttribute("width")&&!isNaN(parseInt(f.getAttribute("width"),10))?parseInt(f.getAttribute("width"),10):getComputedStyle(f).width,d=b/c,console.log(f),f.removeAttribute("height"),f.removeAttribute("width"),e.style.paddingBottom=-1!==f.src.indexOf("instagram")?"120%":100*d+"%"}};TNY.responsiveMedia=c,TNY.responsiveMedia.init()}(window,document),function(a,b,c){"use strict";function d(c){if(d.prototype._instance)return d.prototype._instance;d.prototype._instance=this;var g=a.navigator,h=g.userAgent;this.options=e({},this.defaults,c||{}),this.hasToken="#athTNY"===b.location.hash||f.test(b.location.search),this.isRetina=a.devicePixelRatio&&a.devicePixelRatio>1,this.isIDevice=/iphone|ipod|ipad/i.test(h),this.isMobileChrome=-1!==h.indexOf("Android")&&/Chrome\/[.0-9]*/.test(h),this.isMobileSafari=this.isIDevice&&-1!==h.indexOf("Safari")&&-1===h.indexOf("CriOS"),this.isTablet=this.isMobileSafari&&h.indexOf("iPad")>-1||this.isMobileChrome&&h.indexOf("Mobile")<0,this.OS=this.isIDevice?"ios":this.isMobileChrome?"android":"unsupported",this.OSVersion=h.match(/(OS|Android) (\d+[_|.]\d+)/i),this.OSVersion=this.OSVersion&&this.OSVersion[2]?+this.OSVersion[2].replace("_","."):0,this.isIosUiWebView=this.isIDevice?/(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)/i.test(h):null,this.isStandalone=g.standalone||this.isMobileChrome&&screen.height-b.documentElement.clientHeight<40,this.isCompatible=this.isIDevice&&this.OSVersion>=6&&!this.isIosUiWebView||this.isMobileChrome&&this.OSVersion>=4&&h.match(/Chrome\/(\d+)/i)[1]>31,this.message={message:this.options.message?this.options.message:"To add the New Yorker to your home screen: tap %icon then <strong>%action</strong>.",action:{ios:"Add to Home Screen",android:"Add to homescreen"}},a.addEventListener("DOMContentLoaded",this.init.bind(this),!1)}function e(){var a,b,c,d,e;for(a=Array.prototype.slice.call(arguments,0),b=a.shift(),c=0;c<a.length;c++){e=a[c];for(d in e)e.hasOwnProperty(d)&&(b[d]=e[d])}return b}var f=/[?&]ath=[^&?]*$|[?&]ath=[^&?]*/;d.prototype.init=function(){a.removeEventListener("DOMContentLoaded",this.init,!1),this.options.detectHomescreen=this.options.detectHomescreen===!0?"hash":this.options.detectHomescreen,this.options.debug&&(this.isCompatible=!0,this.OS="string"==typeof this.options.debug?this.options.debug:"unsupported"===this.OS?"ios":this.OS,this.OSVersion="ios"===this.OS?"7":"4",this.options.maxDisplayCount=this.options.displayRate=this.options.lifespan=0),this.container=b.body,this.loadSession();try{localStorage.setItem(this.options.storageKey,JSON.stringify(this.session)),this.hasLocalStorage=!0}catch(c){this.isCompatible=!1,this.hasLocalStorage=!1,this.options.onPrivate&&this.options.onPrivate.call(this)}if(this.options.validLocations[0])for(var d=this.options.validLocations.length;d--;){if(this.options.validLocations[d].test(b.location.href)){this.isValidLocation=!0;break}this.isValidLocation=!1}else this.isValidLocation=!0;if(this.isCompatible&&!this.session.optedOut&&this.isValidLocation){if(this.isStandalone)return void(this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&this.options.onAdd.call(this)));if(this.options.detectHomescreen){if(this.hasToken)return this._removeToken(),void(this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&this.options.onAdd.call(this)));this._addToken()}this.setReturningVisitor()!==!1&&(this.options.onInit&&this.options.onInit.call(this),this.options.autostart&&this.show())}},d.prototype.show=function(a){var b=Date.now();this.isReady=b-this.session.lastDisplayTime>6e4*this.options.displayRate,this.options.maxDisplayCount&&this.session.displayCount>=this.options.maxDisplayCount&&(this.isReady=!1),(a||this.isReady&&!this.shown)&&(this.shown=!0,this.session.lastDisplayTime=b,this.session.displayCount++,this.updateSession(),this.buildMessage())},d.prototype.buildMessage=function(){var c;if(this.applicationIcon||(this.applicationIcon=b.querySelector("ios"===this.OS?'head link[rel^=apple-touch-icon][sizes="152x152"], head link[rel^=apple-touch-icon][sizes="144x144"], head link[rel^=apple-touch-icon][sizes="120x120"], head link[rel^=apple-touch-icon][sizes="114x114"], head link[rel^=apple-touch-icon]':'head link[rel^="shortcut icon"][sizes="196x196"], head link[rel^=apple-touch-icon]')),-1===this.message.message.indexOf("%icon")||-1===this.message.message.indexOf("%action"))throw new Error("Custom message is missing %icon or %action");c="<p>"+this.message.message.replace("%icon",'<span class="ath-action-icon"></span>')+"</p>",c=c.replace("%action",this.message.action[this.OS]),this.element=b.createElement("div"),this.element.className="ath-container ath-"+this.OS+" ath-"+this.OS+(this.OSVersion+"").substr(0,1)+" ath-"+(this.isTablet?"tablet":"phone"),this.element.style.cssText="-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transition-timing-function:ease-out",this.element.style.webkitTransform="translate3d(0,-"+a.innerHeight+"px,0)",this.options.sticky||(this.element.style.position="absolute"),this.options.icon&&this.applicationIcon&&(this.element.className+=" ath-icon",this.img=b.createElement("img"),this.img.className="ath-application-icon",this.img.addEventListener("load",this,!1),this.img.addEventListener("error",this,!1),this.img.src=this.applicationIcon.href,this.element.appendChild(this.img)),this.element.innerHTML+=c,this.container.appendChild(this.element),this.options.testing&&(this.element.style.visibility="hidden"),this.img||this._delayedShow()},d.prototype.updateViewport=function(c){var d,e,f=b.documentElement;this.shown&&setTimeout(function(){this.orientation=f.clientWidth>f.clientHeight?"landscape":"portrait",d="ios"===this.OS?"portrait"===this.orientation?screen.width:screen.height:screen.width,e=d>f.clientWidth?1:d/a.innerWidth,this.element.style.fontSize=this.options.fontSize/e+"px"}.bind(this),"ios"!==this.OS&&c?300:0)},d.prototype.loadSession=function(){this.session=JSON.parse(localStorage.getItem(this.options.storageKey)),!this.hasToken||this.isCompatible&&this.session||(this.hasToken=!1,this._removeToken()),this.session=this.session||this.defaultSession},d.prototype.updateSession=function(){this.hasLocalStorage!==!1&&localStorage.setItem(this.options.storageKey,JSON.stringify(this.session))},d.prototype.setReturningVisitor=function(){return this.session.returningVisitor?void 0:(this.session.returningVisitor=!0,this.updateSession(),this.options.skipFirstVisit?!1:!0)},d.prototype.optOut=function(){this.session.optedOut=!0,this.updateSession()},d.prototype.optIn=function(){this.session.optedOut=!1,this.updateSession()},d.prototype.resetSession=function(){this.session=this.defaultSession,this.updateSession()},d.prototype.clearSession=function(){this.session=null,localStorage.removeItem(this.options.storageKey)},d.prototype.clearDisplayCount=function(){this.session.displayCount=0,this.updateSession()},d.prototype._delayedShow=function(){setTimeout(this._showAfterDelay.bind(this),this.options.startDelay+500)},d.prototype._showAfterDelay=function(){this.updateViewport(),a.addEventListener("orientationchange",this,!1),setTimeout(function(){this.element.addEventListener("click",this,!0)}.bind(this),1e3),this.element.style.webkitTransitionDuration="1.2s",this.element.style.webkitTransform="translate3d(0,0,0)",this.options.lifespan&&(this.removeTimer=setTimeout(this._remove.bind(this),1e3*this.options.lifespan)),this.options.onShow&&this.options.onShow.call(this)},d.prototype._remove=function(a){clearTimeout(this.removeTimer),this.img&&(this.img.removeEventListener("load",this,!1),this.img.removeEventListener("error",this,!1)),this.element.removeEventListener("click",this,!0),this.element.removeEventListener("orientationchange",this,!0),this.element.addEventListener("transitionend",this,!1),this.element.addEventListener("webkitTransitionEnd",this,!1),this.element.addEventListener("MSTransitionEnd",this,!1),this.element.style.webkitTransitionDuration="0.3s",this.element.style.opacity="0",a&&"click"===a.type&&this.optOut()},d.prototype._removeElements=function(){this.element.removeEventListener("transitionend",this,!1),this.element.removeEventListener("webkitTransitionEnd",this,!1),this.element.removeEventListener("MSTransitionEnd",this,!1),this.container.removeChild(this.element),this.shown=!1,this.options.onRemove&&this.options.onRemove.call(this)},d.prototype._addToken=function(){var c=a.history,d=a.document.title,e=b.location.href;"hash"===this.options.detectHomescreen?c.replaceState("",d,e+"#athTNY"):c.replaceState("",d,e+(b.location.search?"&":"?")+"ath=TNY")},d.prototype._removeToken=function(){var c=a.document.title,d=b.location.href;"#athTNY"===b.location.hash&&history.replaceState("",c,d.split("#")[0]),f.test(b.location.search)&&history.replaceState("",c,d.replace(f,""))},d.prototype.defaults={storageKey:"add_to_home",debug:!1,testing:!1,autostart:!0,skipFirstVisit:!1,startDelay:0,lifespan:15,sticky:!0,displayRate:1440,maxDisplayCount:0,icon:!1,fontSize:15,message:"",validLocations:[],detectHomescreen:!1,onInit:null,onShow:null,onRemove:null,onAdd:null,onPrivate:null},d.prototype.defaultSession={added:!1,optedOut:!1,displayCount:0,lastDisplayTime:0,returningVisitor:!1},d.prototype.events={load:"_delayedShow",orientationchange:"updateViewport",click:"_remove",error:"_remove",transitionend:"_removeElements",webkitTransitionEnd:"_removeElements",MSTransitionEnd:"_removeElements"},d.prototype.handleEvent=function(a){var b=this.events[a.type];b&&this[b](a)},c.ath=d}(window,document,TNY,void 0),function(){new TNY.ath}(),function(a,b,c){var d={init:function(){this.setupGallerys(),this.setupPhotoBoothModule(),this.setupVideoPlayer(),this.setupPopups()},setupVideoPlayer:function(){var d=a(".video-module-embed");if(0!==d.length){d.click(function(a){if("false"==this.getAttribute("data-ready")){a.preventDefault();var b=this.getAttribute("data-video-id"),d="cne-player-"+Math.random().toString(36).substring(7);this.id=d;var e={videoId:b,playerId:"52f2ade769702d2e17300000",target:d,autoplay:!0,companion:"cne-companion-container"},f="//player.cnevids.com/player/brand.js?";for(var g in e)f+=g+"="+escape(e[g])+"&";var h=c.createElement("script");h.type="text/javascript",h.src=f.slice(0,-1);var i=c.getElementsByTagName("script")[0];return this.innerHTML="",i.parentNode.insertBefore(h,i),this.setAttribute("data-ready","true"),!1}});var e=d.find("img")[0]||!1;if(e){var f="data-medium-src";b.innerWidth<=400&&(f="data-thumbnail-src");var g=e.getAttribute(f);g&&(e.onload=function(){d.css({height:a(this).height()+"px"})},e.src=g)}}},setupPhotoBoothModule:function(){var c=a("#photobooth-module img.photobooth-feature")[0]||!1;if(c){var d="data-medium-src";
b.innerWidth<=400&&(d="data-thumbnail-src");var e=c.getAttribute(d);e&&(c.src=e)}},setupGallery:function(c){var d={autoplay:!1,items:1,lazyLoad:!0,loop:!0,nav:!0,dots:!0,navText:["<img src='/wp-content/assets/img/gallery/previous.svg'>","<img src='/wp-content/assets/img/gallery/next.svg'>"],margin:0,startPosition:"URLHash"},e=this,f=a(c),g="data-medium-src";b.innerWidth<=400&&(g="data-thumbnail-src",f.addClass("reducedHeight")),f.find("img").each(function(a){var b=this.getAttribute(g);b&&this.setAttribute("data-src",b),this.setAttribute("data-hash","/slide/"+(a+1))}),f.on("translated.owl.carousel",function(b){var c=b.target,d=a(b.target),f=c.querySelectorAll(".owl-item")[b.item.index],g=f.getElementsByTagName("img")[0];if(g){e.checkCaption(g,d);var h=d.next(".gallery-caption");h&&(a(".gallery-caption .caption").length>0&&(h.find(".caption")[0].innerHTML=g.getAttribute("data-caption")||""),a(".gallery-caption .credit").length>0&&(h.find(".credit")[0].innerHTML=g.getAttribute("data-credit")||""))}}),"featured"===c.id&&(d.autoplay=!0),f.owlCarousel(d)},checkCaption:function(a,b){b.addClass("no-caption"),a.getAttribute("data-caption")?b.removeClass("no-caption"):b.addClass("no-caption")},setupGallerys:function(){var b=a(".owl-carousel"),c=this;0!==b.length&&b.each(function(){c.setupGallery(this)})},setupPopups:function(){var b=a(".popup-window>a"),c=this;b.length>0&&b.on("click",c.openPopup)},openPopup:function(c){var d=a(c.currentTarget),e=d.attr("href"),f=d.attr("data-width"),g=d.attr("data-height"),h=b.innerWidth>f?(b.innerWidth-f)/2:0,i=b.innerHeight>g?(b.innerHeight-g)/2:0;b.open(e,"TNYPopup","height="+g+", width="+f+", top="+i+", left="+h+", location=no, resizable=no, status=0"),c.preventDefault()}};d.init(),TNY.GalleryApp=d}(jQuery,window,document),function(a,b,c,d){"use strict";window.TNY||(window.TNY={}),window.TNY.account||(window.TNY.account={});var e=window.TNY,f=window.TNY.account,g=window.orientation,h=function(b){window.orientation!==g&&(g=window.orientation,-90==window.orientation||90==window.orientation?a(".barrier-type").css({position:"absolute",top:"10%",left:"0"}):a(".barrier-type").css("position","fixed")),b&&b()};window.addEventListener("orientationchange",h,!1),setInterval(h,2e3);var i=function(a){var b,c,d="home";switch(document.querySelector("meta[name=environment]").content){case"prod":return c="http://www.newyorker.com/",b="https://account.newyorker.com/",a==d?c:b;case"dev":return c="http://dev.newyorker.com/",b="http://localhost:8088/",a==d?c:b;case"stg":case"stag":case"staging":return c="http://stg.newyorker.com/",b="https://account-stg.newyorker.com/",a==d?c:b;default:return c="http://www.newyorker.com/",b="https://account.newyorker.com/",a==d?c:b}};f.determineConfig=function(a,b){return a=a===d?"":a,i(b)+a},f.createCookie=function(a,b,c){var d,e;if(c){var f=new Date;f.setTime(f.getTime()+24*c*60*60*1e3),d="; expires="+f.toUTCString()}else d="";var g,h=document.querySelector("meta[name=environment]").content;if("prod"==h||"stg"==h||"stag"==h){e="; domain=newyorker.com",g=a+"="+b+d+e+"; path=/";try{document.cookie=g}catch(i){return}}else if("dev"==h){e="; domain=newyorker.local",g=a+"="+b+d+e+"; path=/";try{document.cookie=g}catch(i){return}}else{g=a+"="+b+d+"; path=/";try{document.cookie=g}catch(i){return}}},f.readCookie=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return null},f.deleteCookie=function(a){f.createCookie(a,"",-1)},f.DrawAccessNav=function(b){switch(b){case"reset-signin":setTimeout(function(){a("#wrapper").css("opacity",1).removeClass("dismissal"),a("#step2").hide(),a("#forgot-pass").hide(),a("#reg-view").hide(),a("#login").show(),a(".modal-content").show()},680),a("#login-create").remove()}},f.createCORSRequest=function(a,b){var c=new XMLHttpRequest;return"withCredentials"in c?c.open(a,b,!0):"undefined"!=typeof XDomainRequest?(c=new XDomainRequest,c.open(a,b)):c=null,c},f.forgotPass=function(){a("#forgot-resp-msg").hide(),a("#forgot-pass-msg").hide();var b={username:a("#forgot-field").val(),templateId:"NYR"},c=function(){a(".forgot-header").text("Thank You"),a("#forgot-field").css("border","1px solid #000"),a("#forgot-resp-msg").hide(),a("#forgot-pass-msg").hide(),a("#final-step").html("An e-mail was sent to <b>"+b.username+"</b> with a link to reset your password.").fadeIn("fast"),a("#forgot-pass-body").fadeOut()},e=function(){a("#forgot-pass-msg").hide(),a("#forgot-field").css("margin-top","18px"),a("#forgot-resp-msg").css("opacity",0).css("color","#d22229").animate({opacity:1},{duration:360}).html('Unfortunately, we are unable to locate your account.<div></div><div class="serv-error-subtext">If you subscribed through a partner such as Apple, Amazon, or Google Play, please call 1-800-444-7570.</div>').show()},g=function(){a("#forgot-field").css("border","1px solid rgba(223, 51, 49, 1)"),a("#forgot-pass-msg").css("opacity",0).css("color","#d22229").animate({opacity:1},{duration:360}).html("Please enter a valid email address.").show()};b.username!==d&&null!==b.username&&b.username.length>1?(a("#forgot-resp-msg").hide(),a("#forgot-pass-msg").hide(),a.ajax({url:f.determineConfig("forgot-password","account"),data:b,type:"POST",statusCode:{200:function(a){c(a)},404:function(){e()}}})):g()},f.signOut=function(){try{f.deleteCookie("amg_user"),f.deleteCookie("amg_user_partner"),f.deleteCookie("ev_ss"),window.location.href=f.determineConfig("logout","account")}catch(a){throw new Error(a)}},f.makeCorsRequest=function(a,b){var c=f.createCORSRequest("POST",a);c&&(c.onload=function(){c.responseText},c.onerror=function(){},c.setRequestHeader("key","p5oL5yu3vfw0th/w5S6Mxp2yGh8="),c.setRequestHeader("Accept","application/json;ver=1.0"),c.setRequestHeader("Content-type","application/json"),c.send(JSON.stringify(b)))},f.validateForm=function(b){var c=!1,d=!1,e=!1,f=function(b,c){a("#"+b).css({opacity:"0",color:"#d22229","margin-top":"9px"}).animate({opacity:1},{duration:360}).html(c).show()},g=function(b){a("#"+b).css({opacity:"0",color:"#d22229","margin-top":"0"}).animate({opacity:1},{duration:360}).html("").hide()};switch(b){case"sign-in":var h=a("#username").val(),i=a("#userpass").val();if(d=!1,e=!1,c=!1,i.length<6)f("password-msg","Password must be at least six characters.");else if(h.length<6)f("email-msg","Please enter a valid e-mail address.");else if(i.length>=6)a("#password-msg").html(""),e=!0;else if(h.length>5&&h.indexOf("@")>-1)g("email-msg"),d=!0;else{if(!e||!d)return!1;a("#password-msg").html(""),a("#email-msg").html(""),c=!0}}},f.CheckEStatus=function(){{var b=f.readCookie("ee_status");f.determineConfig("","home")}"Active"===b?(a("#sign_in").html('<b><li class="nyer-plain-lnk big plain"><a href="'+f.determineConfig("","account")+'">My account</a></b></li><li></li><li class="nyer-plain-lnk big plain"><span id="signout" class="big plain"><a href="'+f.determineConfig("logout","account")+'">Sign out</a></span>').show(),a("#signout").click(function(){f.signOut()}),a("#link-sub-nav").hide()):(a("#sign_in").html('<b><li class="nyer-plain-lnk big plain"><a href="'+f.determineConfig("","account")+'">My account</a></b></li><li id="link-sub-nav" class="nyer-plain-lnk nav-menu">Link your subscription</li><li class="nyer-plain-lnk big plain"><span id="signout" class="big plain"><a href="'+f.determineConfig("logout","account")+'">Sign out</a></span>').show(),a("#link-sub-nav").show(),a("#signout").click(function(){f.signOut()}),a("#link-sub-nav").click(function(){/MSIE[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&redirectToLinkPage(),a("#signin-view").addClass("hidden-m-item"),e.account.linksubscriptionProcess.showModal()}),a("#link-sub-nav").show())},f.nuLogin=function(){var b=function(b,c){a("#sign_in").html('<b><li class="nyer-plain-lnk big plain"><a href="'+f.determineConfig("","account")+'">My account</a></b></li><li id="link-sub-nav" class="nyer-plain-lnk nav-menu">Link your subscription</li><li class="nyer-plain-lnk big plain"><span id="signout" class="big plain"><a href="'+f.determineConfig("logout","account")+'">Sign out</a></span>'),a("#link-sub-nav").hide(),a("#sign_in").show(),f.createCookie("ee_status",b.ee_status,1),f.createCookie("ev_ss",b.ev_sid,1),f.createCookie("amg_user",b.AMGCookie,1),f.createCookie("amg_user_partner",b.amgUUID,1),f.createCookie("nyrsess",b.nyrsess,1),a("#mobi-account-link-1").html('<a href="'+f.determineConfig("","account")+'">My account</a>').show(),a("#mobi-account-link-2").html('<a href="'+f.determineConfig("logout","account")+'" id="mobi-user-sign-out" title="Sign out" class="mobi-account-menu-sign-out">Sign out</a></li>').show(),a("#mobi-account-link-2").click(function(){f.signOut()});var d;a("#sign-in-list").html(""),a(".mob-sign-in").hide();c&&c(),f.CloseModal(),b.remembered===!0||"true"==b.remembered?(f.createCookie("ev_ss",b.ev_sid,30),f.createCookie("amg_user",b.AMGCookie,30),f.createCookie("amg_user_partner",b.amgUUID,30),f.createCookie("ee_status",b.ee_status,1),d=function(){f.signOut()},a(".mob-sign-in").hide(),a("#sign-in-list").html("")):(f.createCookie("ev_ss",b.ev_sid),f.createCookie("amg_user",b.AMGCookie),f.createCookie("amg_user_partner",b.amgUUID),f.createCookie("nyrsess",b.nyrsess),f.createCookie("ee_status",b.ee_status,1),d=function(){f.signOut()},a(".mob-sign-in").hide(),a("#sign-in-list").html(""),c&&c(),f.CloseModal()),"b-type"===document.getElementsByClassName("subscriber-spacer")[0].getAttribute("data-type")&&(a("#CM-notification").hide(),window.location.reload())},c={rememberBool:a("#rememberme").is(":checked"),username:a("#username").val(),password:a("#userpass").val()},d=a("#username").val(),e=a("#userpass").val(),g=!1,h=!1;e.length<6&&a("#password-msg").css("opacity",0).css("color","#d22229").css("margin-top","9px").animate({opacity:1},{duration:360}).html("Password must be at least six characters."),e.length>=6&&(a("#password-msg").html(""),h=!0),d.length<6&&a("#email-msg").css("opacity",0).css("color","#d22229").css("margin-top","9px").animate({opacity:1},{duration:360}).html("Please enter a valid e-mail address."),d.length&&d.indexOf("@")<1&&(a("#fancyModal").addClass("modal-form-error"),a("#email-msg").css("opacity",0).css("color","#d22229").css("margin-top","9px").animate({opacity:1},{duration:360}).html("Please enter a valid e-mail address.")),d.length>5&&d.indexOf("@")>-1&&(a("#email-msg").css("opacity",0).animate({opacity:1},{duration:360}).html(""),g=!0),h&&g&&(f.startLoadingIndicator("signIn","spinWrap-signin"),a("#password-msg").html(""),a("#email-msg").html(""),a.ajax({url:f.determineConfig("login","account"),data:c,type:"POST",statusCode:{200:function(a){f.stopLoadingIndicator("signIn","spinWrap-signin");try{CN.stats.omniture.trackActionEvar("login",!0,"eVar16","logged in")}catch(c){throw new Error(c)}var d=function(){f.CheckEStatus()};b(a,d)},405:function(){var b=function(){a("#signIn").on("click",function(){f.nuLogin()})};f.stopLoadingIndicator("signIn","spinWrap-signin",b),a("#signIn").attr("enabled","enabled"),document.getElementById("serve-resp").style.display="block",document.getElementById("serve-resp").innerHTML="Unfortunately, we are unable to locate your account.<div></div><div>If you subscribed through a partner such as Apple, Amazon, or Google Play, please call 1-800-444-7570.</div>",a("#forgot-modal-link").clone().appendTo("#serve-resp").click(function(){f.forgotPass()})},401:function(){var b=function(){a("#signIn").on("click",function(){f.nuLogin()})};f.stopLoadingIndicator("signIn","spinWrap-signin",b),a("#signIn").attr("enabled","enabled"),document.getElementById("serve-resp").style.display="block",document.getElementById("serve-resp").innerHTML='Unfortunately, we are unable to locate your account.<div></div><div class="serv-error-subtext">If you subscribed through a partner such as Apple, Amazon, or Google Play, please call 1-800-444-7570.</div>'},450:function(){var b=function(){a("#signIn").on("click",function(){f.nuLogin()})};f.stopLoadingIndicator("signIn","spinWrap-signin",b),a("#signIn").attr("enabled","enabled"),document.getElementById("serve-resp").style.display="block",document.getElementById("serve-resp").innerHTML="Unfortunately, we are unable to locate your account.<div></div><div>If you subscribed through a partner such as Apple, Amazon, or Google Play, please call 1-800-444-7570.</div>",a("#forgot-modal-link").clone().appendTo("#serve-resp").click(function(){f.forgotPass()})},failure:function(){var b=function(){a("#signIn").on("click",function(){f.nuLogin()})};f.stopLoadingIndicator("signIn","spinWrap-signin",b),a("#signIn").attr("enabled","enabled")}}}))},f.CloseModal=function(b,c){var e="#"+b;a(e).css("z-index","-1");var g=a(document.body);g.css("overflow","auto"),g.width("auto"),b===d&&(e="fancyModal"),document.body.className=document.body.className.replace("bg-modal-activated",""),a(".mobilenav").removeClass("remove-nav-shadow"),a(".page-container").css("opacity",1),a(".content-wrapper").css("opacity",1),document.getElementsByTagName("nav")[0].style.opacity=1,a("#serve-resp").html(""),a("#serve-resp").hide(),a(".page-container").css("-webkit-user-select","text").css("-moz-user-select","text").css("user-select","text").css("pointer-events","auto"),a(".content-wrapper").css("-webkit-user-select","text").css("-moz-user-select","text").css("user-select","text").css("pointer-events","auto"),a("div#email-msg").html(""),a("div#password-msg").html(""),a("#hd").removeClass("no-sticky"),new f.DrawAccessNav("reset-signin"),a(e).removeClass("link-main"),a(".page-container").css({"max-height":"none",overflow:"auto"}),a(".content-wrapper").css({"max-height":"none",overflow:"auto"}),a("#modal-overlay-full").removeClass("active-modal-step"),a("#link-subscription-modal").removeClass("showLinkSteps"),a("#PAYWALL_BARRIER_wrapper").hide(),a("body").off("click",f.detectModal),c&&c()},f.assignHandlers=function(b){switch(b){case"sign-in":a("#close-modal").click(function(){return f.CloseModal("fancyModal"),!1});break;case"barrier":a("#sign-in-barrier").click(function(){f.viewHelper("sign-in",null)})}a("#forgotpassWord").click(function(){a("#forgot-pass").show(),a("#wrapper").addClass("dismissal").css("opacity",0),a(".forgot-pass-button").click(function(){f.forgotPass()}),f.forgotFlow()}),a("#signout").click(function(){f.signOut()})},f.renderNewLinkView=function(b){a("#lookupWrapper").removeClass(" animated fadeIn"),a("#lookupWrapper").show(),a("#lookupWrapper").addClass("dismissal").css("opacity",0),a("#lookupWrapper").html(b).addClass(" animated fadeIn")},f.registerAcctGen=function(b){a("#genacct-view").show(),a(".sign-in-from-modal").show(),a("#genacct-view").html(b)},f.renderInsideModal=function(b){a("#reg-view").removeClass(" animated fadeIn"),a("#reg-view").show(),a("#reg-view").html(b).addClass(" animated fadeIn")},f.renderLinkSignin=function(b){a(".sign-in-link-holder").html(b)},f.contentSwap=function(b){switch(b){case"zipcode":new f.renderNewLinkView(TNYmodalviews.prototype.zipCode);break;case"sign-in":new f.renderInsideModal(TNYmodalviews.prototype.signIn);break;case"forgot":a("#forgot-pass").html('<h2 class="forgot-header">Forgot <div class="breakForgot"></div>Password?</h2><div id="final-step"></div><fieldset class="signin-modal" id="forgot-pass-body"><div class="forgot-info">Please enter the e-mail address associated with your newyorker.com account. We\'ll send you instructions to reset your password.</div><div class="pass-err-msg" id="forgot-resp-msg"></div><input id="forgot-field" placeholder="E-mail address" type="email"/></div><div id="forgot-pass-msg"></div><div class="signInBorder"><input type="button" value="SUBMIT" id="forgotPass" class="hover-only-button nyr-blue-button" /> </div></div><div class="modal-intro"><div class="forgot-mini-spacer"></div><div class="modal-intro"><div class="mob-breakln signin-sub">Need help? </div> Call 1-800-444-7570 &nbsp;&nbsp;|&nbsp;&nbsp; <b><a href="javascript:void(0)" onclick="javascript:window.open(\'http://cricket.bamboocricket.com:8080/ersweb/chatClientLogin?email=cdsusa_nyr@inbound2.bamboocricket.com\',\'\',\'height=520, width=500,toolbar=no,top=100,left=100, menubar=no, scrollbars=no, resizable=no, location=no, status=no\');">Live chat</a></b> &nbsp;&nbsp;|&nbsp;&nbsp; <span id="email-link"><b><a href="mailto:help@newyorker.com">Email</a></b></span></div><span class="modal-intro signin-sub"><div class="forgot-subtext-spacer"></div>We are available Mon&#8211;Fri,  8 am - 12 am E.T., and Sat&#8211;Sun, 9 am - 7 pm E.T. </span></fieldset>').addClass(" animated fadeIn"),a("input#forgot-field").keypress(function(b){13==b.which&&(b.preventDefault(),a("#forgot-resp-msg").hide(),a("#forgot-pass-msg").hide(),f.forgotPass())}),a("#forgotPass").click(function(){f.forgotPass()})}},f.linkflowHelper=function(){a("#lookupWrapper").hide(),window.addEventListener("click",f.handleReset,!1),f.contentSwap(type,null)},f.viewHelper=function(b,c){switch(b){case"sign-in":a(".modal-content").hide(),f.contentSwap(b,c);break;default:a(".modal-content").hide(),f.contentSwap(b,c)}},f.forgotFlow=function(){f.viewHelper("forgot",null)},f.launchSignInModal=function(){f.closeSliderMenu(function(){/MSIE[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&(window.location.href=f.determineConfig("","account")),a("#signin-view").removeClass("hidden-m-item"),a("#modal-overlay-full").addClass("active-modal-step"),a("#signin-view").addClass("showLinkSteps animated fadeIn"),a("body").on("click",f.detectModal);var b=function(){a("#signin-view").css({position:"absolute!important"})};document.getElementsByTagName("nav")[0].style.opacity=.12,CN.stats.omniture.trackAction("lightLogin",document,{events:"event32"}),a("input").keypress(function(a){13==a.which&&(a.preventDefault(),f.nuLogin())}),a("#create-account").click(function(){e.account.linksubscriptionProcess.showModal("dismiss-sign-in")}),f.assignHandlers("sign-in"),a("#forgotpassWord").click(function(){a("#forgot-pass").show(),a("#wrapper").addClass("dismissal").css("opacity",0),a(".forgot-pass-button").click(function(){f.forgotPass()}),f.forgotFlow()}),a("#hd").addClass("no-sticky");var c=a(document.body),d=c.innerWidth();c.css("overflow","hidden"),c.width(d),document.getElementsByTagName("nav")[0].style.opacity=.12,e.reajs.registerCallback("mobile",null,b,null)})};var j=function(){for(var b=f.readCookie("amg_user"),c=0;1>c;c++)null!==b&&b!==d&&"undefined"!=typeof b&&(a("#login-text-wrapper").hide(),a("#mobile-login-text-wrap").hide(),a(".mobile-barrier-divide-right begin-notification-msg").hide(),a(".bottom-barrier-divide-right").hide(),a("#sign-in-from-notfication-mob").hide(),a("#sign-in-from-notfication").hide(),a(".signin-from-external-mobi").hide(),a("#sign-in-from-notfication-mobilink").hide());var g=function(){window.location=f.determineConfig("retURL=","account")+encodeURIComponent(window.location.href)},h=function(){window.location=f.determineConfig("linksubscription?retURL=","account")+encodeURIComponent(window.location.href)},i=function(a,b){var c=document.createAttribute("data-type");c.value="b-type","sign-in"==a?document.getElementsByClassName("subscriber-spacer")[0].setAttributeNode(c):"link"==a&&document.getElementsByClassName("link-spacer")[0].setAttributeNode(c),b&&b()};a("#sign-in-from-notfication").on("click",function(){/MSIE[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&g(),i("sign-in",f.launchSignInModal())}),a("#sign-in-from-notfication-mobilink").on("click",function(){/MSIE[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&g(),i("sign-in",f.launchSignInModal())}),a("#linksub-from-external").on("click",function(){/MSIE[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&h(),i("link",e.account.linksubscriptionProcess.showModal())}),a(".linksub-from-external-mobi").on("click",function(){/MSIE[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&h(),i("link",e.account.linksubscriptionProcess.showModal())}),a(".signin-from-external-mobi").on("click",function(){/MSIE[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&g(),i("sign-in",f.launchSignInModal())}),a("#linksub-from-external-promo").on("click",function(){/MSIE[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&h(),i("link",e.account.linksubscriptionProcess.showModal())})};f.startLoadingIndicator=function(b,c){var d,e=document.getElementById(c),f=e.innerHTML;d='<div id="current-loading" class="spinloadWrapper">'+f+'<div class="border-gradient" style=""><div class="border-gradient-content" style="padding: 8px;border-radius: 50%;-webkit-border-radius: 50%;"></div></div></div>',"signIn"==b&&(d='<div id="current-loading" class="spinloadWrapper">'+f+'<div class="border-gradient" style="left:48%"><div class="border-gradient-content" style="padding: 8px;border-radius: 50%;-webkit-border-radius: 50%;"></div></div></div>'),e.innerHTML=d,setTimeout(function(){var c=a("#"+b);c.addClass("signIn"==b?"profile-button-start-loading-signIn":"profile-button-start-loading")},20)},f.stopLoadingIndicator=function(b,c,d){var e='<input type="button" id="'+b+'" class="profile-button small-button" value="CONTINUE" />';"signIn-link"==b||"createLogin"==b?(e='<input type="button" id="'+b+'" class="profile-button small-button" value="FINISH" />',a("#"+b).removeClass("profile-button-start-loading")):"signIn"==b&&(e='<input type="button" id="'+b+'" class="nyr-blue-button" value="SIGN IN" />',a("#"+b).removeClass("profile-button-start-loading-signIn")),setTimeout(function(){var f=document.getElementById(c);f.innerHTML=e,"signIn"==b&&a("#"+b).removeClass("profile-button-activeLoad"),d&&d()},300),setTimeout(function(){a("#"+b).addClass("hover-only-button")},900)},f.halfLegacyBarrier=function(){var b,c='<div style="min-height:41px;background-color:#000;width:100%"><div style="float:left;clear:right"><a style="color:#FFF" href="http://cnee.condenastdigital.com/registration/?device=default#app/com.condenet.newyorker/step1a">Link your subscription</div><div style="float:right;clear:left;color:#FFF">Already have a login?<a style="color:#FFF" href="'+f.determineConfig("","account")+'">Sign In</a></div></div>';b="undefined"==typeof pageAds.AMS_NYR_PAYWALL_BARRIER||typeof pageAds.AMS_NYR_PAYWALL_BARRIER===d?TNYmodalviews.prototype.barrierHalf(null):pageAds.AMS_NYR_PAYWALL_BARRIER+c;var e={containerCss:{backgroundColor:"#25bbef",height:625},autoResize:!0,maxWidth:600,opacity:85,zIndex:9999999999,maxHeight:625,overlayCss:{backgroundColor:"#FFF"},autoPosition:!0,onOpen:function(b){var c=document.getElementsByClassName("remind-later-text")[0]||!1,d=function(){a.modal.close()};c&&c.addEventListener("click",d,!1),b.overlay.fadeIn("fast",function(){b.data.hide(),b.container.fadeIn("fast",function(){b.data.slideDown("fast")})})}};a.modal(b,e),j()},f.fullLegacyBarrier=function(){var b,c='<div class="bottom-barrier-divide">\n              <div class="notification-pipe-spacer"></div>\n      <div class="mobile-bottom-barrier-divide-left">    <a id="linksub-from-external" href="http://cnee.condenastdigital.com/registration/?device=default#app/com.condenet.newyorker/step1a">    Link your <br> subscription</a> \n              </div>\n              <div class="bottom-barrier-divide-left">    <a id="linksub-from-external-promo" href="http://cnee.condenastdigital.com/registration/?device=default#app/com.condenet.newyorker/step1a">Link your subscription</a>\n              </div>\n        </div>\n        <div class="mobile-barrier-divide-right begin-notification-msg">  Have a login?\n            <br>\n              <span><a id="sign-in-from-notfication-mob" href="https://account-stg.newyorker.com/">Sign In</a></span>\n        </div>\n        <div id="login-text-wrapper" class="bottom-barrier-divide-right">  Already have a login?\n              <span><a id="sign-in-from-notfication" href="https://account-stg.newyorker.com/">Sign in</a></span>\n        </div>\n        <div class="mob-notification-container">\n                      <div class="mob-notification-item">    <a class="linksub-from-external-mobi" href="http://cnee.condenastdigital.com/registration/?device=default#app/com.condenet.newyorker/step1a" style="text-decoration:underline">Link Your<brSubscription</a>  </div>\n                      <div class="mob-notification-item pipe-spacer-image"></div>\n                      <div id="mobile-login-text-wrap" class="mob-notification-item">    Have a login?\n                        <br>    <a class="signin-from-external-mobi" id="sign-in-from-notfication-mobilink" href="https://account-stg.newyorker.com/" style="text-decoration:underline">Sign in</a>  </div>\n                </div>\n    ';b="undefined"==typeof pageAds.AMS_NYR_PAYWALL_BARRIER||typeof pageAds.AMS_NYR_PAYWALL_BARRIER===d?TNYmodalviews.prototype.barrierFull(null):pageAds.AMS_NYR_PAYWALL_BARRIER+c;var e={containerCss:{backgroundColor:"#25bbef",height:625},autoResize:!0,maxWidth:600,opacity:85,zIndex:9999999999,maxHeight:625,overlayCss:{backgroundColor:"#FFF"},autoPosition:!0,onOpen:function(a){a.overlay.fadeIn("fast",function(){a.data.hide(),a.container.fadeIn("fast",function(){a.data.slideDown("fast")})})}};a.modal(b,e),j()},f.fullBarrier=function(){var b=navigator.userAgent,c=b.indexOf("Android")>-1&&b.indexOf("Mozilla/5.0")>-1&&b.indexOf("AppleWebKit")>-1,e=function(){c&&a(".mob-message-item").css("margin-top","90px")};setInterval(h(e),2e3),a(".page-container").css("opacity",.12).css("-webkit-user-select","none").css("-moz-user-select","none").css("user-select","none").css("pointer-events","none"),a(".content-wrapper").css("-webkit-user-select","none").css("-moz-user-select","none").css("user-select","none").css("pointer-events","none"),a(".mobile-nav").addClass("remove-nav-shadow"),a("#PAYWALL_BARRIER_wrapper").html("undefined"==typeof pageAds.AMS_NYR_PAYWALL_BARRIER||typeof pageAds.AMS_NYR_PAYWALL_BARRIER===d?TNYmodalviews.prototype.barrierFull(null):pageAds.AMS_NYR_PAYWALL_BARRIER);var g=f.determineConfig("","home");a("#CM-nofication-home-link").html('<a href="'+g+'">GO TO NEWYORKER.COM<div class="small-link-chev"></div></a>'),a("#close-b-modal").css("display","none"),a("#hd").addClass("no-sticky"),a("#CM-nofication-home-link").css("display","block"),a("#CM-nofication-home-line").css("display","block"),a("#b-view").removeClass("hidden-m-item"),a("#CM-notification").css("z-index","9999000").toggleClass("show"),j()},f.halfBarrier=function(){var b=navigator.userAgent,c=b.indexOf("Android")>-1&&b.indexOf("Mozilla/5.0")>-1&&b.indexOf("AppleWebKit")>-1,e=function(){c&&a(".mob-message-item").css("margin-top","90px")};setInterval(h(e),2e3),a(".page-container").css("opacity",.12).css("-webkit-user-select","none").css("-moz-user-select","none").css("user-select","none").css("pointer-events","none"),a(".content-wrapper").css("-webkit-user-select","none").css("-moz-user-select","none").css("user-select","none").css("pointer-events","none"),a(".mobile-nav").addClass("remove-nav-shadow"),a("#PAYWALL_BARRIER_wrapper").html("undefined"==typeof pageAds.AMS_NYR_PAYWALL_BARRIER||typeof pageAds.AMS_NYR_PAYWALL_BARRIER===d||null===typeof pageAds.AMS_NYR_PAYWALL_BARRIER?TNYmodalviews.prototype.barrierHalf(null):pageAds.AMS_NYR_PAYWALL_BARRIER),a("#hd").addClass("no-sticky"),a("#CM-nofication-home-link").css("display","none"),a("#CM-nofication-home-line").css("display","none"),a("#b-view").removeClass("hidden-m-item"),a("#CM-notification").css("z-index","9999000").toggleClass("show"),j();var g=function(){a("#CM-notification").hide()};a("#close-b-modal").click(function(){f.CloseModal("CM-notification",g());var b=a(document.body);b.css("overflow","auto"),b.width("auto")}),a(".remind-later-text").click(function(){f.CloseModal("CM-notification",g());var b=a(document.body);b.css("overflow","auto"),b.width("auto")})},a(document).ready(function(){a("#signout").click(function(){f.signOut()});{var b=f.readCookie("amg_user");f.readCookie("ev_ss")}null===b?(a(".user-ln-status").show(),a(".mob-sign-in").show()):a("#mobi-account-link-2").click(function(){f.signOut()}),f.detectModal=function(b){var c,e,g=b.target.id;document.getElementsByClassName("subscriber-spacer")[0]!==d&&(c=document.getElementsByClassName("subscriber-spacer")[0].getAttribute("data-type")||!1),document.getElementsByClassName("link-spacer")[0]!==d&&(e=document.getElementsByClassName("link-spacer")[0].getAttribute("data-type")||!1);var h=function(){var b=a(document.body);b.css("overflow","auto"),b.width("auto"),a("#modal-overlay-full").removeClass("active-modal-step"),a(".mobilenav").removeClass("remove-nav-shadow"),a("#link-subscription-modal").removeClass("showLinkSteps"),a("#serve-resp").html(""),a("#serve-resp").hide(),a("div#email-msg").html(""),a("div#password-msg").html(""),a("#hd").removeClass("no-sticky"),a("div#city-msg").html(""),a("div#state-msg").html(""),a("#signin-view").removeClass("showLinkSteps"),a("#link-subscription-modal").removeClass("showLinkSteps"),a("#link-subscription-modal").removeClass("animated fadeIn"),a("#signin-view").html(TNYmodalviews.prototype.signIn(null)),a("body").off("click",f.detectModal)},i=function(){a(".page-container").css("opacity",1),a("nav").css("opacity",1),a(".page-container").css("-webkit-user-select","text").css("-moz-user-select","text").css("user-select","text").css("pointer-events","auto")};(g.indexOf("modal-overlay-full")>-1||g.indexOf("close-link-modal")>-1||g.indexOf("close-thanks-modal")>-1||g.indexOf("close-signin-modal")>-1)&&"b-type"!==c&&"b-type"!==e?(h(),i()):(g.indexOf("modal-overlay-full")>-1||g.indexOf("close-link-modal")>-1||g.indexOf("close-thanks-modal")>-1||g.indexOf("close-signin-modal")>-1)&&"b-type"==c?(h(),j()):(g.indexOf("modal-overlay-full")>-1||g.indexOf("close-link-modal")>-1||g.indexOf("close-thanks-modal")>-1||g.indexOf("close-signin-modal")>-1)&&"b-type"==e?(h(),j()):((g.indexOf("modal-overlay-full")>-1||g.indexOf("close-link-modal")>-1||g.indexOf("close-thanks-modal")>-1||g.indexOf("close-signin-modal")>-1)&&"b-type"==c||"b-type"==e)&&(h(),j())},document.getElementById("help-footer").innerHTML=TNYmodalviews.prototype.helpFooter(),a("#user-sign-in").click(function(){f.launchSignInModal()}),a("#sign-in-from-conf").click(function(){f.launchSignInModal()}),a("#sign-in").click(function(){f.launchSignInModal()}),a("#signIn").on("click",function(a){a.preventDefault();var b=function(a){document.activeElement.blur();for(var b=document.querySelectorAll("input"),c=0;c<b.length;c++)b[c].blur();a&&a()};b(f.nuLogin())})})}(jQuery,window,document),function(a){"use strict";window.TNY||(window.TNY={});var b=window.TNY,c="2Kf29hhC5mgWf62708A",d=function(){function b(){var a=document.querySelectorAll(".scPlayerContainer");if(a)for(var b=0,c=a.length;c>b;b++)d(a[b])}function d(b){var d=a(b),f=d.data("sctrack");f?e(b,f):a.get("http://api.soundcloud.com/resolve.json",{url:d.data("scurl"),client_id:c},function(a){a.id?e(b,a.id):b.innerHTML='<p class="oops">Error loading audio</p>'})}function e(b,c){var d=a(b).data("scheight"),e="ff5500";d?e="000000":d=166,b.innerHTML='<iframe width="100%" height="'+d+'" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/'+c+"&amp;color="+e+'&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false"></iframe>'}return{init:b,initPlayer:d,insertEmbed:e}}();b.lazySC=d}(jQuery),window.addEventListener("load",TNY.lazySC.init,!1),function(a){var b=function(){function b(a){a.preventDefault();var b=a.currentTarget;c(b)}function c(b){var c=b.querySelector(".scPlayerContainerEmbed");TNY.lazySC.initPlayer(c),b.className+=" activated",a("html, body").animate({scrollTop:a(c).offset().top-120},1e3)}return{handleClick:b,expandPlayer:c}}(),c=".soundcloud-expandable";embeds=document.querySelectorAll(c);for(var d=0;d<embeds.length;d++)embeds[d].addEventListener("click",b.handleClick.bind(this))}(jQuery);