/*!
 * js-logger - http://github.com/jonnyreeves/js-logger 
 * Jonny Reeves, http://jonnyreeves.co.uk/
 * js-logger may be freely distributed under the MIT license. 
 */

(function(e){var t={};t.VERSION="0.9.2";var n,r={},i=function(e,t){return function(){return t.apply(e,arguments)}},s=function(){var e=arguments,t=e[0],n,r;for(r=1;r<e.length;r++)for(n in e[r])!(n in t)&&e[r].hasOwnProperty(n)&&(t[n]=e[r][n]);return t},o=function(e,t){return{value:e,name:t}};t.DEBUG=o(1,"DEBUG"),t.INFO=o(2,"INFO"),t.WARN=o(4,"WARN"),t.ERROR=o(8,"ERROR"),t.OFF=o(99,"OFF");var u=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};u.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(t.DEBUG,arguments)},info:function(){this.invoke(t.INFO,arguments)},warn:function(){this.invoke(t.WARN,arguments)},error:function(){this.invoke(t.ERROR,arguments)},invoke:function(e,t){n&&this.enabledFor(e)&&n(t,s({level:e},this.context))}};var a=new u({filterLevel:t.OFF});(function(){var e=t;e.enabledFor=i(a,a.enabledFor),e.debug=i(a,a.debug),e.info=i(a,a.info),e.warn=i(a,a.warn),e.error=i(a,a.error),e.log=e.info})(),t.setHandler=function(e){n=e},t.setLevel=function(e){a.setLevel(e);for(var t in r)r.hasOwnProperty(t)&&r[t].setLevel(e)},t.get=function(e){return r[e]||(r[e]=new u(s({name:e},a.context)))},t.useDefaults=function(n){if(!("console"in e))return;t.setLevel(n||t.DEBUG),t.setHandler(function(n,r){var i=e.console,s=i.log;r.name&&(n[0]="["+r.name+"] "+n[0]),r.level===t.WARN&&i.warn?s=i.warn:r.level===t.ERROR&&i.error?s=i.error:r.level===t.INFO&&i.info&&(s=i.info),s.apply(i,n)})},typeof define=="function"&&define.amd?define(t):typeof module!="undefined"&&module.exports?module.exports=t:e.Logger=t})(window);