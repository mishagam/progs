!function(a){var b={galleryURL:"http://www.washingtonpost.com/pb/galleryEmbed/",responsiveMode:"extralarge",allLoaded:!1,windowHeight:0,config:{responsive:{breakpoints:{extrasmall:481,small:767,medium:968,large:1170,extralarge:1200,original:1200}}},getResponsiveMode:function(b){var c=window.innerWidth;for(var d in this.config.responsive.breakpoints)if(this.config.responsive.breakpoints[d]>=c)return d;return this.windowHeight=a(window).height(),"original"},etLazyLoad:function(){var b,c=this.getResponsiveMode(),d=document.getElementsByTagName("img"),e=a(window).scrollTop();for(var f in d)if("undefined"!=typeof d[f].className){var g=a(d[f]),h=g.offset().top;if(imgHeight=g.height(),h<e+this.windowHeight+1e3&&h+imgHeight>e-1e3){if(b=d[f].getAttribute("data-uuid")){a("#"+b).load(this.galleryURL+b+"?resType=ssiSingle"),a(d[f]).remove();try{delete d[f]}catch(i){}}if(-1!==d[f].className.indexOf("lazy-image")&&d[f].getAttribute("data-original")){d[f].getAttribute("data-right")?this.config.responsive.breakpoints[c]<768?d[f].src=d[f].getAttribute("data-original")+"&w=788":d[f].src=d[f].getAttribute("data-original")+"&w=400":d[f].src=d[f].getAttribute("data-original")+"&w="+this.config.responsive.breakpoints[c],d[f].className="image",d[f].parentNode.className="loaded relative";try{delete d[f]}catch(i){}}}}}};b.getResponsiveMode(),a(window).scroll(function(){b.etLazyLoad()});var c={$firstImages:null,$secondImages:null,hideSecond:!1,setTimeoutID:null,init:function(){this.$firstImages=a(".primary-photo"),this.$secondImages=a(".secondary-photo"),this.switchImages()},switchImages:function(){this.setTimeoutID&&clearTimeout(this.setTimeoutID);var a=this;this.hideSecond?(this.$firstImages.animate({opacity:1},1500,function(){a.$secondImages.css({opacity:0}),a.$firstImages.css({"z-index":0})}),this.hideSecond=!1):(this.$secondImages.animate({opacity:1},1500,function(){a.$firstImages.css({opacity:0,"z-index":1}),a.$secondImages.css({"z-index":0})}),this.hideSecond=!0),this.setTimeoutID=setTimeout(function(a){return function(){a.switchImages.apply(a)}}(this),4e3)}};a(document).ready(function(){c.init()}),b.etLazyLoad()}(jQuery);