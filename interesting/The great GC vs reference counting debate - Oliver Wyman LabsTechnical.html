  
<!DOCTYPE html>
<!--[if lt IE 9]><!--><html lang="en-US" class="no-js old-ie"><!--<![endif]-->
<html lang="en-US" class="no-js">
  <head>
    <meta charset="UTF-8">

    <title>  The great GC vs reference counting debate - Oliver Wyman Labs: Technical </title>
    <meta name="description" content="News, views and produce from Oliver Wyman engineers.">

    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="https://tech.labs.oliverwyman.com/wp-content/themes/owl.tech/img/icons/favicon-144.png">

    <!--[if lt IE 9]>
    <link href="https://tech.labs.oliverwyman.com/wp-content/themes/owl.tech/old-ie.css" rel="stylesheet" type="text/css">
    <![endif]-->
    <!--ttp://fast.fonts.net/cssapi/934e5029-f678-4813-962f-1e17f6d2b55d.css-->

    <link href="https://tech.labs.oliverwyman.com/wp-content/themes/owl.tech/generic.css" rel="stylesheet">
    
    <link rel="shortcut icon" href="https://tech.labs.oliverwyman.com/wp-content/themes/owl.tech/favicon.ico"/>

    <link rel='dns-prefetch' href='//ajax.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Oliver Wyman Labs: Technical &raquo; The great GC vs reference counting debate Comments Feed" href="https://tech.labs.oliverwyman.com/blog/2013/09/19/the-great-gc-vs-reference-counting-debate/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/tech.labs.oliverwyman.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.2"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='lshift-css'  href='https://tech.labs.oliverwyman.com/wp-content/themes/owl.tech/style.css?ver=1.1' type='text/css' media='all' />
<link rel='stylesheet' id='A2A_SHARE_SAVE-css'  href='https://tech.labs.oliverwyman.com/wp-content/plugins/add-to-any/addtoany.min.css?ver=1.13' type='text/css' media='all' />
<link rel='stylesheet' id='codecolorer-css'  href='https://tech.labs.oliverwyman.com/wp-content/plugins/codecolorer/codecolorer.css?ver=0.9.9' type='text/css' media='screen' />
<script type='text/javascript' src='//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js?ver=1.11.1'></script>
<script type='text/javascript' src='https://tech.labs.oliverwyman.com/wp-content/plugins/add-to-any/addtoany.min.js?ver=1.0'></script>
<link rel='https://api.w.org/' href='https://tech.labs.oliverwyman.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://tech.labs.oliverwyman.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://tech.labs.oliverwyman.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Delimited dynamic variables from call/cc' href='https://tech.labs.oliverwyman.com/blog/2013/08/31/delimited-dynamic-variables-from-callcc/' />
<link rel='next' title='Assuming there&#8217;s a user is sometimes a bad idea' href='https://tech.labs.oliverwyman.com/blog/2013/09/23/assuming-theres-a-user-is-sometimes-a-bad-idea/' />
<link rel="canonical" href="https://tech.labs.oliverwyman.com/blog/2013/09/19/the-great-gc-vs-reference-counting-debate/" />
<link rel='shortlink' href='https://tech.labs.oliverwyman.com/?p=1958' />
<link rel="alternate" type="application/json+oembed" href="https://tech.labs.oliverwyman.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Ftech.labs.oliverwyman.com%2Fblog%2F2013%2F09%2F19%2Fthe-great-gc-vs-reference-counting-debate%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://tech.labs.oliverwyman.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Ftech.labs.oliverwyman.com%2Fblog%2F2013%2F09%2F19%2Fthe-great-gc-vs-reference-counting-debate%2F&#038;format=xml" />

<script type="text/javascript">
var a2a_config=a2a_config||{};a2a_config.callbacks=a2a_config.callbacks||[];a2a_config.templates=a2a_config.templates||{};
a2a_config.onclick=1;
</script>
<script type="text/javascript" src="https://static.addtoany.com/menu/page.js" async="async"></script>

    <!--[if lt IE 9]>
    <script src="https://tech.labs.oliverwyman.com/wp-content/themes/owl.tech/js/html5shiv.min.js"></script>
    <![endif]-->

    <!--<script src="https://tech.labs.oliverwyman.com/wp-content/themes/owl.tech/js/respond.matchmedia.addListener.min.js"></script>-->
    <!--<script src="https://tech.labs.oliverwyman.com/wp-content/themes/owl.tech/js/respond.min.js"></script>-->

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-368191-4']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
<script type="text/javascript" src="https://secure.leadforensics.com/js/52668.js" ></script> 
<noscript><img alt="" src="https://secure.leadforensics.com/52668.png" style="display:none;" /></noscript>


  </head>

  <body class="lshift_blog-template-default single single-lshift_blog postid-1958 slug-the-great-gc-vs-reference-counting-debate" id="blog">
<div class="container">
  <header class="site-header">
  <div class="inner-area">
  <div class="site-header__inner">
      <h1 class="site-header__logo">
        <a target="_self" href="http://labs.oliverwyman.com/" id="logo">
            <img src="https://tech.labs.oliverwyman.com/wp-content/themes/owl.tech/img/owl-logo.png" alt="Oliver Wyman Labs"/>
        </a>
      </h1>

        <nav class="site-header__nav">
          <ul class="site-header__nav__desktop" id="desktop-nav">         
                <li>
                    <a href="http://labs.oliverwyman.com/content/oliver-wyman/oliver-wyman-labs/en.html">Home</a>
                </li>
                <li>
                    <a href="http://labs.oliverwyman.com/content/oliver-wyman/oliver-wyman-labs/en/case-studies.html">Case Studies</a>
                </li>
                <li>
                    <a href="http://labs.oliverwyman.com/content/oliver-wyman/oliver-wyman-labs/en/latest.html">Latest</a>
                </li>
                <li>
                    <a href="http://labs.oliverwyman.com/content/oliver-wyman/oliver-wyman-labs/en/the-team.html">The Team</a>
                </li>
                <li>
                    <a href="https://tech.labs.oliverwyman.com/" class="selected">Tech</a>
                </li>
                <li>
                    <a href="http://labs.oliverwyman.com/content/oliver-wyman/oliver-wyman-labs/en/contact-us.html">Contact Us</a>
                </li>
            </ul>
            <div class="site-header__nav__mobile" id="mobile-nav"></div>
        </nav>
    </div>
</div>
</header>
      <header role="banner" class="tech-header">
        <nav class="nav-header" role="navigation">

          
            <div class="main-nav">
              <div class="inner-area">
              <form class="form" id="form-search" role="search" method="get" action="https://tech.labs.oliverwyman.com">
  <input class="input-search" type="search" name="s" placeholder="Search">
  <button class="button-search" type="submit" role="button">Go</button>
</form>                <ul><li id="menu-item-4635" class="menu-item menu-item-type-post_type_archive menu-item-object-lshift_blog current-menu-item menu-item-4635 active "><a href="https://tech.labs.oliverwyman.com/blog/">Blog</a></li>
<li id="menu-item-5904" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5904"><a href="https://tech.labs.oliverwyman.com/open-source/">Open Source</a></li>
<li id="menu-item-5903" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5903"><a href="https://tech.labs.oliverwyman.com/engineers/">Engineers</a></li>
</ul> 
              </div>
            </div>


            <div class="sub-nav" id="sub-nav-blog">
              <div class="inner-area">

              
                            <select class="select select-date-filter" name="archive-dropdown" onchange="document.location.href=this.options[this.selectedIndex].value;">
                <option value="">Select Month</option>
                	<option value='https://tech.labs.oliverwyman.com/blog/2017/01/?post_type=lshift_blog'> January 2017 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2016/12/?post_type=lshift_blog'> December 2016 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2016/11/?post_type=lshift_blog'> November 2016 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2016/10/?post_type=lshift_blog'> October 2016 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2016/09/?post_type=lshift_blog'> September 2016 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2016/08/?post_type=lshift_blog'> August 2016 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2016/07/?post_type=lshift_blog'> July 2016 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2016/06/?post_type=lshift_blog'> June 2016 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2016/05/?post_type=lshift_blog'> May 2016 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2016/04/?post_type=lshift_blog'> April 2016 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2016/03/?post_type=lshift_blog'> March 2016 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2016/02/?post_type=lshift_blog'> February 2016 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2016/01/?post_type=lshift_blog'> January 2016 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2015/12/?post_type=lshift_blog'> December 2015 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2015/11/?post_type=lshift_blog'> November 2015 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2015/10/?post_type=lshift_blog'> October 2015 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2015/09/?post_type=lshift_blog'> September 2015 &nbsp;(1)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2015/08/?post_type=lshift_blog'> August 2015 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2015/07/?post_type=lshift_blog'> July 2015 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2015/06/?post_type=lshift_blog'> June 2015 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2015/05/?post_type=lshift_blog'> May 2015 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2015/04/?post_type=lshift_blog'> April 2015 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2015/03/?post_type=lshift_blog'> March 2015 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2015/02/?post_type=lshift_blog'> February 2015 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2015/01/?post_type=lshift_blog'> January 2015 &nbsp;(1)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2014/12/?post_type=lshift_blog'> December 2014 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2014/11/?post_type=lshift_blog'> November 2014 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2014/10/?post_type=lshift_blog'> October 2014 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2014/09/?post_type=lshift_blog'> September 2014 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2014/08/?post_type=lshift_blog'> August 2014 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2014/07/?post_type=lshift_blog'> July 2014 &nbsp;(1)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2014/06/?post_type=lshift_blog'> June 2014 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2014/05/?post_type=lshift_blog'> May 2014 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2014/04/?post_type=lshift_blog'> April 2014 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2014/03/?post_type=lshift_blog'> March 2014 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2014/02/?post_type=lshift_blog'> February 2014 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2014/01/?post_type=lshift_blog'> January 2014 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2013/12/?post_type=lshift_blog'> December 2013 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2013/11/?post_type=lshift_blog'> November 2013 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2013/10/?post_type=lshift_blog'> October 2013 &nbsp;(6)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2013/09/?post_type=lshift_blog'> September 2013 &nbsp;(7)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2013/08/?post_type=lshift_blog'> August 2013 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2013/07/?post_type=lshift_blog'> July 2013 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2013/06/?post_type=lshift_blog'> June 2013 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2013/05/?post_type=lshift_blog'> May 2013 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2013/04/?post_type=lshift_blog'> April 2013 &nbsp;(6)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2013/03/?post_type=lshift_blog'> March 2013 &nbsp;(7)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2013/02/?post_type=lshift_blog'> February 2013 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2013/01/?post_type=lshift_blog'> January 2013 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2012/12/?post_type=lshift_blog'> December 2012 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2012/11/?post_type=lshift_blog'> November 2012 &nbsp;(5)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2012/10/?post_type=lshift_blog'> October 2012 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2012/09/?post_type=lshift_blog'> September 2012 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2012/08/?post_type=lshift_blog'> August 2012 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2012/07/?post_type=lshift_blog'> July 2012 &nbsp;(5)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2012/06/?post_type=lshift_blog'> June 2012 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2012/05/?post_type=lshift_blog'> May 2012 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2012/04/?post_type=lshift_blog'> April 2012 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2012/03/?post_type=lshift_blog'> March 2012 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2012/02/?post_type=lshift_blog'> February 2012 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2012/01/?post_type=lshift_blog'> January 2012 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2011/12/?post_type=lshift_blog'> December 2011 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2011/11/?post_type=lshift_blog'> November 2011 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2011/10/?post_type=lshift_blog'> October 2011 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2011/09/?post_type=lshift_blog'> September 2011 &nbsp;(5)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2011/08/?post_type=lshift_blog'> August 2011 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2011/07/?post_type=lshift_blog'> July 2011 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2011/06/?post_type=lshift_blog'> June 2011 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2011/05/?post_type=lshift_blog'> May 2011 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2011/04/?post_type=lshift_blog'> April 2011 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2011/03/?post_type=lshift_blog'> March 2011 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2011/02/?post_type=lshift_blog'> February 2011 &nbsp;(7)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2011/01/?post_type=lshift_blog'> January 2011 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2010/12/?post_type=lshift_blog'> December 2010 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2010/11/?post_type=lshift_blog'> November 2010 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2010/10/?post_type=lshift_blog'> October 2010 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2010/09/?post_type=lshift_blog'> September 2010 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2010/08/?post_type=lshift_blog'> August 2010 &nbsp;(1)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2010/07/?post_type=lshift_blog'> July 2010 &nbsp;(1)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2010/06/?post_type=lshift_blog'> June 2010 &nbsp;(1)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2010/05/?post_type=lshift_blog'> May 2010 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2010/04/?post_type=lshift_blog'> April 2010 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2010/03/?post_type=lshift_blog'> March 2010 &nbsp;(5)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2010/02/?post_type=lshift_blog'> February 2010 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2010/01/?post_type=lshift_blog'> January 2010 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2009/12/?post_type=lshift_blog'> December 2009 &nbsp;(6)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2009/11/?post_type=lshift_blog'> November 2009 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2009/10/?post_type=lshift_blog'> October 2009 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2009/09/?post_type=lshift_blog'> September 2009 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2009/08/?post_type=lshift_blog'> August 2009 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2009/07/?post_type=lshift_blog'> July 2009 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2009/06/?post_type=lshift_blog'> June 2009 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2009/05/?post_type=lshift_blog'> May 2009 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2009/04/?post_type=lshift_blog'> April 2009 &nbsp;(1)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2009/03/?post_type=lshift_blog'> March 2009 &nbsp;(6)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2009/02/?post_type=lshift_blog'> February 2009 &nbsp;(7)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2009/01/?post_type=lshift_blog'> January 2009 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2008/12/?post_type=lshift_blog'> December 2008 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2008/11/?post_type=lshift_blog'> November 2008 &nbsp;(7)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2008/10/?post_type=lshift_blog'> October 2008 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2008/09/?post_type=lshift_blog'> September 2008 &nbsp;(1)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2008/07/?post_type=lshift_blog'> July 2008 &nbsp;(7)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2008/06/?post_type=lshift_blog'> June 2008 &nbsp;(6)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2008/05/?post_type=lshift_blog'> May 2008 &nbsp;(9)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2008/04/?post_type=lshift_blog'> April 2008 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2008/03/?post_type=lshift_blog'> March 2008 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2008/02/?post_type=lshift_blog'> February 2008 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2008/01/?post_type=lshift_blog'> January 2008 &nbsp;(7)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2007/12/?post_type=lshift_blog'> December 2007 &nbsp;(5)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2007/11/?post_type=lshift_blog'> November 2007 &nbsp;(6)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2007/10/?post_type=lshift_blog'> October 2007 &nbsp;(8)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2007/09/?post_type=lshift_blog'> September 2007 &nbsp;(8)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2007/08/?post_type=lshift_blog'> August 2007 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2007/07/?post_type=lshift_blog'> July 2007 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2007/06/?post_type=lshift_blog'> June 2007 &nbsp;(7)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2007/05/?post_type=lshift_blog'> May 2007 &nbsp;(1)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2007/03/?post_type=lshift_blog'> March 2007 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2007/02/?post_type=lshift_blog'> February 2007 &nbsp;(6)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2007/01/?post_type=lshift_blog'> January 2007 &nbsp;(1)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2006/12/?post_type=lshift_blog'> December 2006 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2006/11/?post_type=lshift_blog'> November 2006 &nbsp;(6)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2006/10/?post_type=lshift_blog'> October 2006 &nbsp;(1)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2006/09/?post_type=lshift_blog'> September 2006 &nbsp;(12)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2006/08/?post_type=lshift_blog'> August 2006 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2006/07/?post_type=lshift_blog'> July 2006 &nbsp;(15)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2006/06/?post_type=lshift_blog'> June 2006 &nbsp;(24)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2006/05/?post_type=lshift_blog'> May 2006 &nbsp;(14)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2006/04/?post_type=lshift_blog'> April 2006 &nbsp;(5)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2006/03/?post_type=lshift_blog'> March 2006 &nbsp;(3)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2006/01/?post_type=lshift_blog'> January 2006 &nbsp;(2)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2005/12/?post_type=lshift_blog'> December 2005 &nbsp;(6)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2005/11/?post_type=lshift_blog'> November 2005 &nbsp;(4)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2005/10/?post_type=lshift_blog'> October 2005 &nbsp;(12)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2005/09/?post_type=lshift_blog'> September 2005 &nbsp;(5)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2005/08/?post_type=lshift_blog'> August 2005 &nbsp;(11)</option>
	<option value='https://tech.labs.oliverwyman.com/blog/2005/07/?post_type=lshift_blog'> July 2005 &nbsp;(18)</option>
              </select>
            </div>
            </div>

                  </nav>
      </div>
      </header>
  <!--[if lt IE 9]>
    <div class="old-browser-alert">
      <p>For the best Oliver Wyman Labs website experience,<br/> please upgrade your browser to IE9 or later  </p>
    </div>
  <![endif]-->


  
  <div id="page" class="inner-area">

  



  <aside class="sidebar sidebar-left" id="sidebar-left-blog">

    <div class="widget widget_text" id="text-2">			<div class="textwidget"></div>
		</div>
  </aside>

  <main role="main" id="content-box">

    <article class="article article-blog" id="article-blog-post-1958">

  <header>
    <h2>The great GC vs reference counting debate</h2>
    <div class="meta">By: <span class="author"><a href="https://tech.labs.oliverwyman.com/author/david/" title="Posts by David Ireland" rel="author">David Ireland</a></span> on <span class="date">September 19, 2013</span></div>

    <div class="banner">
              <img src="https://tech.labs.oliverwyman.com/wp-content/themes/owl.tech/img/blog-default-banner.jpg" alt=""/>
            </div>
    <div class="list-categories">
      <span class="category"> <a href="https://tech.labs.oliverwyman.com/blog/categories/labshift/" rel="tag">LabShift</a></span><span class="category"><a href="https://tech.labs.oliverwyman.com/blog/categories/technology/" rel="tag">Technology</a></span>    </div>

  </header>

  <div class="content article-text">
    <p>I read a <a href="http://sealedabstract.com/rants/why-mobile-web-apps-are-slow/">blog post</a> post recently to the effect that GC is too expensive in mobile devices, Steve Jobs was right, reference counting is the way. It&#8217;s titled &#8216;why mobile web apps are slow&#8217;.</p>
<p>I&#8217;m inclined to take issue with this: It&#8217;s a long since resolved dispute, and GC won. I don&#8217;t want Steve Jobs to reach out from the grave and drag us back to the 70s. There&#8217;s nothing special about mobile phones: they are more powerful than the computers that GC won on in the first place.</p>
<p>Don&#8217;t get me wrong, Apple must have had a good reason to choose reference counting for memory management.  That reason is actually pretty obvious: Objective-C is not a safe language, so you can&#8217;t move objects. If you can&#8217;t move objects, You have to use something like malloc to minimise fragmentation: you pay a big up front cost to allocate an object in the right place. In most GC schemes, allocation is free &#8211; you just increment a pointer. This is fine, because you are going to iterate through all your objects every now and again, and it doesn&#8217;t cost a whole lot more to move some of them around at the same time. You get to compact away all the fragmentation this results in. This makes GC fairly miserly with memory too. In iOS , if you want to allocate something bigger than the largest free fragment, you die. With GC, you have to wait a while for the GC to compact everything, after which memory will be compacted 100% efficiently and there will be a single memory extent as big as all available memory. Objective-C can&#8217;t have any of these benefits, so Apple chose a different route for iOS, and put the best possible spin on it.</p>
<p>The amusing thing is, this leads us to why web apps are so slow. Reference counting requires the developer take care to avoid reference loops, because they leak memory. iOS just demands the programmer to take this care. Browsers can&#8217;t Â do that, because the ECMAScript standard doesn&#8217;t place this demand on programmers. Browsers must use GC. But they can&#8217;t move objects, because they are largely written in C, which is also not safe. The C code and javascript share a large data structure: the DOM. The ECMAScript can manipulate the DOM, so the DOM is managed memory. Fragmentation has to be managed on allocation, and on top of that we have to GC. A browser is the worst possible hybrid of memory management techniques.</p>
<p>The author of the above post doesn&#8217;t see things this way. He references Python as an example of GC, but it actually does things the same hopelessly inefficient way the web browser does, for the same reasons.Â He cites a 10 year old paper for empirical evidence on how inefficient GC is. Citations are good, but I think there&#8217;s a bit of a sample bias here. Anyway, the paper has a few problems. It says malloc takes 6 clock cycles. It does, until you allocate a certain amount of memory, configured during compilation of libc. once you pass that threshold, it starts trying to manage fragmentation. Then it takes 120 cycles. I suspect they assumed malloc takes constant time, and neglect to measure the cost of free at all. The GC test uses Jikes, and the authors pick their own GC strategies, rather than use proven ones. None of the strategies make any sense, and no rational for there selection is offered: you would expect the results to be poor. A test of the performance of the standard sun JVM strategy isn&#8217;t included.</p>
<p>Mobile apps won&#8217;t be fast until browsers are re-written in a fast, safe programming language that can share a good GC with ECMAScript. Of course browsers won&#8217;t be secure until then either, but I&#8217;m not holding my breath. There is no such language that is sufficiently popular, and Google fluffed it&#8217;s lines with Go. Maybe ECMAScript implementations will gain so much in performance, that all code that manipulates the DOM will be written in ECMAScript, and we can finally use a high performance GC.</p>
<div class="addtoany_share_save_container addtoany_content_bottom"><div class="a2a_kit a2a_kit_size_16 addtoany_list" data-a2a-url="https://tech.labs.oliverwyman.com/blog/2013/09/19/the-great-gc-vs-reference-counting-debate/" data-a2a-title="The great GC vs reference counting debate"><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Ftech.labs.oliverwyman.com%2Fblog%2F2013%2F09%2F19%2Fthe-great-gc-vs-reference-counting-debate%2F&amp;linkname=The%20great%20GC%20vs%20reference%20counting%20debate" title="Facebook" rel="nofollow" target="_blank"></a><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Ftech.labs.oliverwyman.com%2Fblog%2F2013%2F09%2F19%2Fthe-great-gc-vs-reference-counting-debate%2F&amp;linkname=The%20great%20GC%20vs%20reference%20counting%20debate" title="Twitter" rel="nofollow" target="_blank"></a><a class="a2a_button_google_plus" href="https://www.addtoany.com/add_to/google_plus?linkurl=https%3A%2F%2Ftech.labs.oliverwyman.com%2Fblog%2F2013%2F09%2F19%2Fthe-great-gc-vs-reference-counting-debate%2F&amp;linkname=The%20great%20GC%20vs%20reference%20counting%20debate" title="Google+" rel="nofollow" target="_blank"></a><a class="a2a_dd addtoany_share_save" href="https://www.addtoany.com/share" style="background:url(https://tech.labs.oliverwyman.com/wp-content/plugins/add-to-any/favicon.png) no-repeat scroll 4px 0px;padding:0 0 0 25px;display:inline-block;height:16px;vertical-align:middle"><span></span></a></div></div>  </div>

</article>
    <ul class="article-nav" id="article-nav-blog">
      <li class="previous" id="previous-article-blog"><a href="https://tech.labs.oliverwyman.com/blog/2013/08/31/delimited-dynamic-variables-from-callcc/" rel="prev"><span class="previous-text">Previous blog post</span></a></li><li class="next" id="next-article-blog"><a href="https://tech.labs.oliverwyman.com/blog/2013/09/23/assuming-theres-a-user-is-sometimes-a-bad-idea/" rel="next"><span class="next-text">Next blog post</span></a></li>    </ul>

    

  <section class="comments">

    
      <h2>13 Comments</h2>

      <ol>
        		<li class="comment even thread-even depth-1" id="comment-1178">
				<div id="div-comment-1178" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Masklinn</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://tech.labs.oliverwyman.com/blog/2013/09/19/the-great-gc-vs-reference-counting-debate/#comment-1178">
			September 19, 2013 at 8:05 pm</a>		</div>

		<p>The use of Python as an example in the post is quite funny as CPython (the main implementation, though pypy is also mentioned) is usually derided for <em>not</em> having a GC as it stuck to refcounting. Unless you create cycles (which will require the invocation of the cycle breaker to be collected) it thus has no more GC overhead than Objective-C (it has a lot of memory overhead in other places)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1179">
				<div id="div-comment-1179" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Sam Tobin-Hochstadt</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://tech.labs.oliverwyman.com/blog/2013/09/19/the-great-gc-vs-reference-counting-debate/#comment-1179">
			September 20, 2013 at 11:55 am</a>		</div>

		<p>You should look at Mozilla&#8217;s Rust and Servo projects, which are the language and web browser projects that you&#8217;re looking for.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1180">
				<div id="div-comment-1180" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://invariant.org' rel='external nofollow' class='url'>Peter Gerdes</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://tech.labs.oliverwyman.com/blog/2013/09/19/the-great-gc-vs-reference-counting-debate/#comment-1180">
			September 20, 2013 at 2:01 pm</a>		</div>

		<p>Now don&#8217;t get me wrong.  I&#8217;m all for GC in almost all applications (I have yet to see a good GC that doesn&#8217;t stop the world while allowing allocation and object sharing on many threads&#8230;but I suspect these papers are trying to solve too much rather than getting the real use cases first).</p>
<p>However, REFERENCE COUNTING MUST BE FASTER THAN GC.  Why?  Because exact GC (no mistaking ints for pointers all garbage is eventually collected) IS heavily heavily optimized reference counting.  I still reference count if I use the optimization that when I delete x I remove 3 references to x.foo and skip the code that counts them up in the delete.  GC just goes all the way and stores the reference counts in the pointer graph itself.</p>
<p>Ok, this sounds like nitpicking but I bring it up for a good reason.  The right distinction is whether humans or compilers/runtimes manage garbage not unprincipled distinctions between the kind of algorithms used. </p>
<p>The best algorithms blend aspects of both.  They trace out possible data paths and infer that no references can exist at certain places.  For certain kinds of objects they may simple store the number of paths from the root set to an object if these can be easily recognized.</p>
<p>But yah, the article stupid.  LISP GC was pretty damn good even 10 years ago.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-david bypostauthor odd alt thread-odd thread-alt depth-1" id="comment-1181">
				<div id="div-comment-1181" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://www.lshift.net/people.html#DavidIreland' rel='external nofollow' class='url'>david</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://tech.labs.oliverwyman.com/blog/2013/09/19/the-great-gc-vs-reference-counting-debate/#comment-1181">
			September 23, 2013 at 9:17 am</a>		</div>

		<p>For example: a copying collector for a language with immutable data is not reference counting: The collector never knows how many references there are, it just knows which generation any given object is in (by doing pointer comparisons).</p>
<p>Even with mutable data, and mark sweep, a GC only tags things with reachability, which is boolean: not counting.</p>
<p>I&#8217;m not aware of a GC that &#8216;stores reference counts in the pointer graph&#8217;. Can you link to one?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-tonyg even thread-even depth-1" id="comment-1182">
				<div id="div-comment-1182" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://homepages.kcbbs.gen.nz/tonyg/' rel='external nofollow' class='url'>tonyg</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://tech.labs.oliverwyman.com/blog/2013/09/19/the-great-gc-vs-reference-counting-debate/#comment-1182">
			September 23, 2013 at 9:13 pm</a>		</div>

		<p>The paper &#8220;A Unified Theory of Garbage Collection&#8221;, Bacon, Cheng and Rajan (OOPSLA 2004) is directly relevant here: <a href="http://researcher.watson.ibm.com/researcher/files/us-bacon/Bacon04Unified.pdf" rel="nofollow">http://researcher.watson.ibm.com/researcher/files/us-bacon/Bacon04Unified.pdf</a></p>
<p>From the abstract: &#8220;Tracing and reference counting are uniformly viewed as being fundamentally different approaches to garbage collection that possess very distinct performance properties. [&#8230;] they are in fact duals of each other. [&#8230;] all high-performance collectors [&#8230;] are in fact hybrids of tracing and reference counting.&#8221;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-david bypostauthor odd alt thread-odd thread-alt depth-1" id="comment-1183">
				<div id="div-comment-1183" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://www.lshift.net/people.html#DavidIreland' rel='external nofollow' class='url'>david</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://tech.labs.oliverwyman.com/blog/2013/09/19/the-great-gc-vs-reference-counting-debate/#comment-1183">
			September 24, 2013 at 9:40 am</a>		</div>

		<p>This paper keeps saying that mark sweep calculates reference counts. But admits that in a naive implementation, it doesn&#8217;t. </p>
<p>Basically, this line is a bit telling: &#8216;While this may seem slightly counter intuitive, recall that in our formulations all collectors compute reference counts, rather than just mark bits&#8217;</p>
<p>Obviously you can describe collection algorithms this way: knowing that you have > 0 references always tells you if an object is reachable, but the observation is meaningless, unless the algorithm actually uses the count.</p>
<p>One example is keeping the reference count in &#8216;remembered set&#8217; that keeps track of references from mature to nursery. Obviously you don&#8217;t need to know the reference count to know it&#8217;s non-zero, and this is enough for all the collectors I know of.</p>
<p>If you don&#8217;t know the reference count collection of cycles that cross generations is delayed. This could be really important. Or it could not be. No evidence is presented either way.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-paul even thread-even depth-1" id="comment-1184">
				<div id="div-comment-1184" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://www.lshift.net/people' rel='external nofollow' class='url'>Paul Crowley</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://tech.labs.oliverwyman.com/blog/2013/09/19/the-great-gc-vs-reference-counting-debate/#comment-1184">
			September 27, 2013 at 1:11 pm</a>		</div>

		<p>If an algorithm allows an object to be</p>
<ul>
<li>allocated simply by adding to a free pointer (checking for overrun)</li>
<li>referenced in a new object simply by writing a reference</li>
<li>freed in zero clock cycles by simple omission</li>
</ul>
<p>then it&#8217;s not in any meaningful sense reference counted. Sure, objects that survive collection are in some sense being counted (though only the 0 and &gt;0 cases matter) but the important thing from a performance point of view is that <em>very</em> little work is done for short-lived objects.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-david bypostauthor odd alt thread-odd thread-alt depth-1" id="comment-1185">
				<div id="div-comment-1185" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://www.lshift.net/people.html#DavidIreland' rel='external nofollow' class='url'>david</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://tech.labs.oliverwyman.com/blog/2013/09/19/the-great-gc-vs-reference-counting-debate/#comment-1185">
			September 27, 2013 at 2:25 pm</a>		</div>

		<p>If I was ever aware of the existence of Rust, I&#8217;d forgotten. It sounds a lot like a programming language I might use, so thanks for pointing that out.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1186">
				<div id="div-comment-1186" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ben</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://tech.labs.oliverwyman.com/blog/2013/09/19/the-great-gc-vs-reference-counting-debate/#comment-1186">
			November 17, 2013 at 11:02 am</a>		</div>

		<p>No one outside of research uses best practice ref counting &#8230;most ref count is quite simple .</p>
<p>Hybrid GCs which use Nurseries and Ref counting have great performance with low pauses , better than any GC or ref count. Examples are URC and RC-Immix .</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1187">
				<div id="div-comment-1187" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://www.lshift.net/people.html#DavidIreland' rel='external nofollow' class='url'>david</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://tech.labs.oliverwyman.com/blog/2013/09/19/the-great-gc-vs-reference-counting-debate/#comment-1187">
			November 18, 2013 at 4:22 pm</a>		</div>

		<p>I had a quick look at this paper:</p>
<p><a href="http://www.cs.utexas.edu/users/mckinley/papers/urc-oopsla-2003.pdf?" rel="nofollow"></a><a href="http://www.cs.utexas.edu/users/mckinley/papers/urc-oopsla-2003.pdf" rel="nofollow">http://www.cs.utexas.edu/users/mckinley/papers/urc-oopsla-2003.pdf</a>?</p>
<p>Is this what you mean?</p>
<p>This paper appears to refer Metronome: &#8216;Bacon, Cheng, and Rajan&#8217;. It says the write barrier hurts throughput. Metronome achieves &lt; 1ms pauses, with 70% BMU. The URC tests don&#8217;t get to 70% BMU until the pause is &gt;100ms. Metronome needs enough spare memory for all allocations during a collect pass, and passes are much bigger then pauses.</p>
<p>Or am I just misreading this somehow?</p>
<p>I&#8217;m looking for memory management solutions for a safe language implemented in a micro controller (see a later post). This seems not too complicated to implement, so it&#8217;s of interest, although I&#8217;m also looking at<br />
&#8216;Using Page Residency to Balance Tradeoffs in Tracing Garbage Collection&#8217;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-279567">
				<div id="div-comment-279567" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.ffconsultancy.com' rel='external nofollow' class='url'>Jon Harrop</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://tech.labs.oliverwyman.com/blog/2013/09/19/the-great-gc-vs-reference-counting-debate/#comment-279567">
			July 28, 2015 at 2:02 pm</a>		</div>

		<p>@Ben: &#8220;Hybrid GCs which use Nurseries and Ref counting have great performance with low pauses , better than any GC or ref count.&#8221;</p>
<p>What gave you that impression?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-279569">
				<div id="div-comment-279569" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.ffconsultancy.com' rel='external nofollow' class='url'>Jon Harrop</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://tech.labs.oliverwyman.com/blog/2013/09/19/the-great-gc-vs-reference-counting-debate/#comment-279569">
			July 28, 2015 at 2:05 pm</a>		</div>

		<p>@David Ireland: Great post. I couldn&#8217;t agree more.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-434410">
				<div id="div-comment-434410" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ram</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://tech.labs.oliverwyman.com/blog/2013/09/19/the-great-gc-vs-reference-counting-debate/#comment-434410">
			December 18, 2016 at 8:57 pm</a>		</div>

		<p>Let&#8217;s create a problem so we can bicker over the best solution! &#8230;&#8230;. Wait! &#8230;&#8230; here&#8217;s an idea! Let&#8217;s not create the problem to begin with!</p>
<p>This problem was created when newer languages started to have built in memory management.  In C++ this isn&#8217;t even an issue *IF* you put some up front thought into your data structures. This is where reference counting shines. You only use it where you need it and therefore don&#8217;t create loops in the first place.  If you need some back-pointer somewhere, just make it a weak (normal) pointer and in fact you can use weak pointers almost everywhere when passing stuff around.  Strong pointers are only used to designate ownership. &#8230;.. But you say what about new/malloc?  I&#8217;m at the mercy of the system there.  Well not really. There are many ways to speed that up using fixed size object pools and free-lists so that memory allocation can be just popping something off a stack in most cases. Such code is very easy to write. The point is you can tailor your memory management for what you need to do.  A bad solution isn&#8217;t just rammed down your throat. Sorry but in the real world if you take care of memory management yourself you are often going to get a big speed bonus and it really isn&#8217;t so hard to do. The real problem is too few people are taught how to do this properly.</p>

		
				</div>
		</li><!-- #comment-## -->
      </ol>

      
    
    
      	<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/blog/2013/09/19/the-great-gc-vs-reference-counting-debate/#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="https://tech.labs.oliverwyman.com/wp-comments-post.php?wpe-comment-post=labshift" method="post" id="commentform" class="comment-form">
				<p class="comment-notes">Your email address will not be published.</p><p class="comment-form-comment"><label class="hidden" for="comment">Your comment</label><textarea id="comment" name="comment" placeholder="Your comment" cols="45" rows="8" aria-required="true"></textarea></p><p class="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;s&gt; &lt;strike&gt; &lt;strong&gt; </code></p><p class="comment-form-author"><label class="hidden" for="author">Name</label><input id="author" name="author" placeholder="Name" type="text" value="" size="30" aria-required='true' /> <span class="required">*</span></p>
<p class="comment-form-email"><label class="hidden" for="email">Email</label><input id="email" name="email" placeholder="Email" type="text" value="" size="30" aria-required='true' /> <span class="required">*</span></p>
<p class="comment-form-url"><label class="hidden" for="url">URL</label><input id="url" name="url" placeholder="URL" type="text" value="" size="30" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='1958' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="540371012f" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="89"/></p>			</form>
			</div><!-- #respond -->
	
    

  </section>




  </main>

  <aside class="sidebar sidebar-right" id="sidebar-right-blog">

    
    <div class="list-links" id="list-links-categories">
      <h2>Categories</h2>
      <ul>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/bigwig/">Bigwig</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/c/">C</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/c-programming-technology/">C#</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/case-studies/">Case Studies</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/clojure-programming-technology-2/">Clojure</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/cryptology/">Cryptology</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/debian/">Debian</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/delphi/">Delphi</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/elm/">Elm</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/erlang/">Erlang</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/f/">F#</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/fpga/">FPGA</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/free-and-open-source-software/">Free and Open Source Software</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/git/">git</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/go/">Go</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/hardware/">Hardware</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/haskell-programming-technology/">Haskell</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/howto/">Howto</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/ios/">iOS</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/java/">Java</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/javascript/">Javascript</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/labs/">Labs</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/labshift/">LabShift</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/macosx/">MacOSX</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/mercurial-server/">mercurial-server</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/mods/">mods</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/node-js/">Node.js</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/operations/">Operations</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/lshift-sw/">Our Software</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/politics/">Politics</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/pontification/">Pontification</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/programming/">Programming</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/project-management/">Project Management</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/python/">Python</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/rabbitmq/">RabbitMQ</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/rant/">Rant</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/reflection/">Reflection</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/reviews/">Reviews</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/ruby/">Ruby</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/rust/">Rust</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/scala/">Scala</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/security/">Security</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/services/">Services</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/smalltalk-programming-technology/">Smalltalk</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/sql/">SQL</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/standards/">Standards</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/technology/">Technology</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/tools/">Tools</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/ubuntu/">Ubuntu</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/uncategorized/">Uncategorized</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/user-experience/">User Experience</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/version-control/">Version control</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/water-cooler/">Water cooler</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/web/">Web</a></li>
                    <li><a href="https://tech.labs.oliverwyman.com/blog/categories/windows/">Windows</a></li>
              </ul>
    </div>

    
     
    <div class="list-links" id="list-links-categories">
      <h2>Feeds</h2>
      <ul>
        <li><a href="https://tech.labs.oliverwyman.com/blog/feed/">Blog posts</a></li>
      </ul>
    </div>

  </aside>



    </div>
    <!-- /#page -->

  <footer class="site-footer">
<div class="inner-area">
    <div class="site-footer__logo">
        <img width="358" src="https://tech.labs.oliverwyman.com/wp-content/themes/owl.tech/img/footer-logo.png">
    </div>
    <h2 class="heading-larger-bold">WHAT'S YOUR CHALLENGE?</h2>
    <a href="http://labs.oliverwyman.com/content/oliver-wyman/oliver-wyman-labs/en/contact-us.html" class="button-cta button-cta--white">Let us help you</a>
    <div class="site-footer__social">
        <a target="_blank" class="site-footer__social__item icon-facebook" href="https://www.facebook.com/oliverwyman"><span>facebook</span></a>
        <a target="_blank" class="site-footer__social__item icon-twitter" href="https://twitter.com/oliverwyman"><span>Twitter</span></a>
        <a target="_blank" class="site-footer__social__item icon-linkedin" href="https://www.linkedin.com/company/oliver-wyman"><span>Linkedin</span></a>
        <a target="_blank" class="site-footer__social__item icon-google-plus" href="https://plus.google.com/+oliverwyman"><span>Googleplus</span></a>
    </div>
    <nav class="site-footer__nav">
        <ul>
            <li><a href="http://labs.oliverwyman.com/content/oliver-wyman/oliver-wyman-labs/en/terms-of-use.html" target="_self">TERMS OF USE</a></li>
            <li><a href="mailto:Francine.Minadeo@oliverwyman.com?subject=MEDIA%20ENQUIRIES" target="_self">MEDIA ENQUIRIES</a></li>
            <li><a href="http://www.oliverwyman.com" target="_self">OLIVERWYMAN.COM</a></li>
        </ul>
    </nav>
    <div class="site-footer__copyright">&copy; Oliver Wyman Labs</div>
</div>
</footer>

    <script type='text/javascript' src='https://tech.labs.oliverwyman.com/wp-content/plugins/akismet/_inc/form.js?ver=3.2'></script>
<script type='text/javascript' src='https://tech.labs.oliverwyman.com/wp-includes/js/wp-embed.min.js?ver=4.7.2'></script>
<script type="text/javascript">
/* <![CDATA[ */
jQuery(document).ready( function($) {
$("ul.nav-menu").not(":has(li)").hide().closest('div').hide();
});
/* ]]> */
</script>
    <!--[if lt IE 9]>
    <script src="https://tech.labs.oliverwyman.com/wp-content/themes/owl.tech/js/old-ie-fixes.js"></script>
    <![endif]-->

    <script src="https://tech.labs.oliverwyman.com/wp-content/themes/owl.tech/js/masonry.min.js"></script>
    <script src="https://tech.labs.oliverwyman.com/wp-content/themes/owl.tech/js/imagesLoaded.pkgd.min.js"></script>
    <script src="https://tech.labs.oliverwyman.com/wp-content/themes/owl.tech/js/global.min.js"></script>
    <script src="https://tech.labs.oliverwyman.com/wp-content/themes/owl.tech/js/generic.min.js"></script>
  </body>
</html>
