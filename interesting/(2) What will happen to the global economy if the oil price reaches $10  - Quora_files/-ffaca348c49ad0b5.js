/*
Name: early.js
URL: http://qsf.is.quoracdn.net/-ffaca348c49ad0b5.js
Generated: 1456258677695889
Files: /shared/loader.js, /shared/report.js, /shared/w2.timing.js, /iesux.js, /domain.js, /shared/event.js, /errors.js, /settings.js, /redirect.js, /shared/links.js, /shared/win.load.js, /shared/spin.js, /early.js
*/
this.require||function(e,t){var n=[],r={},i={},o={},a={},s={},l=s,u,f=/require\(['"]([^'"]+)['"]\)/g,c=/\/(\.?|[^\/]+\/\.\.)\//;function require(e){if(!i[e]){v("loader.require","Required",e);var exports,module=r[e];if(module){module.id=e;module.exports=exports={};module(function(t){return d(t,e)},i[e]=exports,module);if(module.exports&&module.exports!==exports){i[e]=module.exports}v("loader.require.export"+(module.lazy?".lazy":""),"Exported",e)}}o[e]=true;return i[e]}function d(e,t){return require(e=h(e,t))||p(e)}function p(e){throw e}function h(e,t){if(t&&/^\./.test(e)){e="/"+t+"/../"+e;while(e!=(t=e.replace(c,"/"))){e=t}}return e.replace(/^\//,"")}function g(module){if(!module.unmet&&module.unmet!=={}){var e=module+"",t,n=module.unmet={};f.lastIndex=0;while(t=f.exec(e)){n[t[1]]=1}return n}return module.unmet}require.debugQueue=function(){if(s==l){return}var e=Object.keys(g(s.next));console.log("Missing modules: "+e.join())};function y(module){if(typeof module==="object"||module.ready||module.seen){return true}var e,t={},n=g(module),o;for(o in n){module.seen=true;if(i[o]||r[o]&&y(r[o])){t[o]=1}else{e=1;delete module.seen;break}delete module.seen}for(o in t){delete n[o]}if(e){v("missing modules:");for(o in n){v(o)}}module.ready=!e;return!e}function m(){if(!u){try{while(s!==l&&y(s.next)){u=s;s=s.next;delete u.next;v("loader.flushQueue","Start");s(d);v("loader.flushQueue","Finish")}}finally{u=0}}}require.install=function(e,module,t){v("loader.install"+(module.lazy?".lazy":""),"Installing",e);if(t){module.unmet=t}var n=typeof module==="object"?i:r;if(!n[e]){n[e]=module;m()}if(e in a){for(var o=0;o<a[e].length;++o){a[e][o]()}}};require.enqueue=function(module){l=l.next=module;if(s.next===l&&y(module)){m()}};require.whenReady=function(e,t){if(e.constructor===Array){var n=e.length,o=function(){n--;if(n===0){t()}};for(var s=0;s<e.length;s++){require.whenReady(e[s],o)}}else{var l=e;if(l in r||l in i){t()}else{a[l]=a[l]||[];a[l].push(t)}}};require.stats=function(){var e={},t="",n="",a={},s=[],l,module;for(module in r){var u=r[module]+"";if(!(module in o)){e[module]=true;n+=u}else{t+=u}a[module]=u.length}l=t.length+n.length;for(module in r){if(!module.startsWith("internal")){s.push([module,100*a[module]/l])}}console.log("Used modules:",Object.keys(o).length,"Unused modules:",Object.keys(e).length);console.log("Used JS size:",t.length,"Unused JS size:",n.length,100*t.length/l);console.table(s);return{used:Object.keys(o),unused:Object.keys(e),installed:r,exported:i,usedJS:t,unusedJS:n,percents:s,sizes:a}};function v(){var t=e;if(t.log&&t.log.enabled){t.log.apply(t.log,arguments)}return n[n.length]={time:+new Date,tags:n.slice.call(arguments)}}v.dump=function(){return n.slice()};e.rec=v;e.require=require;v("loader","Ready")}(this);require.install("shared/report",function(require,exports,module){(function(){var e=function(e){var n=[];var r=function(e,t){n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};for(var i in e){t(i,e[i],r)}return n.join("&").replace(/%20/g,"+")};var t=function(e,n,r){if(n!==null&&typeof n==="object"){for(var i in n){t(e+"["+i+"]",n[i],r)}}else{r(e,n)}};var n=function(t){var n=e(t);var r=new XMLHttpRequest;r.onreadystatechange=function(){if(this.readyState===4&&this.status===200){if(window.localStorage){window.localStorage.removeItem("dropout")}}};r.open("POST","/e2e/dropout_3RD_PARTY_POST",true);r.setRequestHeader("Content-Type","application/x-www-form-urlencoded");r.setRequestHeader("Accept","*/*");r.send(n)};var r=function(){if(!window.performance||!window.performance.timing){return}var e={wpt:JSON.stringify(window.performance.timing),dropout_time:Date.now()};if(window.localStorage){window.localStorage.setItem("dropout",JSON.stringify(e))}n(e)};var i=function(){if(document.visibilityState=="hidden"){r()}};window.addEventListener("beforeunload",r);document.addEventListener("visibilitychange",i);window.addEventListener("load",function(){window.removeEventListener("beforeunload",r);document.removeEventListener("visibilitychange",i);if(window.localStorage){var e=window.localStorage.getItem("dropout");if(e){n(JSON.parse(e));window.localStorage.removeItem("dropout")}}})})()},{});require.install("shared/w2.timing",function(require,exports,module){var e=exports.timing={requests:[]};exports.getTime=function(){return+new Date};var t=exports.logTime=function(t,n){var r=e[t]=n===undefined?+new Date:n,i=window.log;if(i&&i.enabled&&t!="start"){i("w2.timing.logTime",t,"=",(r-e.start)/1e3,"s")}};t("start");exports.logRequestTime=function(t,n){var r=window.log,i={name:t===undefined?null:t,start:n,end:+new Date};if(!exports.stopped){e.requests.push(i)}if(r&&r.enabled&&t!="start"){r("w2.timing.logRequestTime",i.name,":",(i.start-e.start)/1e3,"..",(i.end-e.start)/1e3,"s")}};exports.stop=function(){exports.stopped=true}},{});require.install("iesux",function(require,exports,module){if(navigator.appName==="Microsoft Internet Explorer"){var e=window,t=e.open;e.open=function(n,r,i){e.original_open=t;var o;try{o=e.original_open(n,r,i)}catch(a){if(o){o.name=r=Math.random().toString(36).slice(2)}o=e.original_open(n,r)}return o}}if(!window.getComputedStyle){window.getComputedStyle=function(e){this.el=e;this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;if(t=="float"){t="styleFloat"}if(n.test(t)){t=t.replace(n,function(){return arguments[2].toUpperCase()})}return e.currentStyle[t]?e.currentStyle[t]:void 0};return this}}if(!("bind"in Function.prototype)){Function.prototype.bind=function(e){var t=this;if(arguments.length<=1){return function(){return t.apply(e,arguments)}}else{var n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,arguments.length===0?n:n.concat(Array.prototype.slice.call(arguments)))}}}}if(!("trim"in String.prototype)){String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}}if(!("startsWith"in String.prototype)){String.prototype.startsWith=function(e){return this.indexOf(e)===0}}if(!("endsWith"in String.prototype)){String.prototype.endsWith=function(e){return this.match(e+"$")==e}}if(!("indexOf"in Array.prototype)){Array.prototype.indexOf=function(e,t){if(t===undefined){t=0}if(t<0){t+=this.length}if(t<0){t=0}for(var n=this.length;t<n;t++){if(t in this&&this[t]===e){return t}}return-1}}if(!("lastIndexOf"in Array.prototype)){Array.prototype.lastIndexOf=function(e,t){if(t===undefined){t=this.length-1}if(t<0){t+=this.length}if(t>this.length-1){t=this.length-1}for(t++;t-->0;){if(t in this&&this[t]===e){return t}}return-1}}if(!("forEach"in Array.prototype)){Array.prototype.forEach=function(e,t){for(var n=0,r=this.length;n<r;n++){if(n in this){e.call(t,this[n],n,this)}}}}if(!("map"in Array.prototype)){Array.prototype.map=function(e,t){var n=new Array(this.length);for(var r=0,i=this.length;r<i;r++){if(r in this){n[r]=e.call(t,this[r],r,this)}}return n}}if(!("filter"in Array.prototype)){Array.prototype.filter=function(e,t){var n=[],r;for(var i=0,o=this.length;i<o;i++){if(i in this&&e.call(t,r=this[i],i,this)){n.push(r)}}return n}}if(!Array.prototype.reduce){Array.prototype.reduce=function(e){"use strict";if(this==null){throw new TypeError("Array.prototype.reduce called on null or undefined")}if(typeof e!=="function"){throw new TypeError(e+" is not a function")}var t=Object(this),n=t.length>>>0,r=0,i;if(arguments.length==2){i=arguments[1]}else{while(r<n&&!(r in t)){r++}if(r>=n){throw new TypeError("Reduce of empty array with no initial value")}i=t[r++]}for(;r<n;r++){if(r in t){i=e(i,t[r],r,t)}}return i}}if(!("every"in Array.prototype)){Array.prototype.every=function(e,t){for(var n=0,r=this.length;n<r;n++){if(n in this&&!e.call(t,this[n],n,this)){return false}}return true}}if(!("some"in Array.prototype)){Array.prototype.some=function(e,t){for(var n=0,r=this.length;n<r;n++){if(n in this&&e.call(t,this[n],n,this)){return true}}return false}}if(!Object.keys){Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if(typeof i!=="object"&&(typeof i!=="function"||i===null)){throw new TypeError("Object.keys called on non-object")}var o=[],a,s;for(a in i){if(e.call(i,a)){o.push(a)}}if(t){for(s=0;s<r;s++){if(e.call(i,n[s])){o.push(n[s])}}}return o}}()}},{});require("iesux");try{document.domain=/quora\.com$/i.test(location.host)?"quora.com":document.domain}catch(x){}require.install("shared/event",function(require,exports,module){var e=window.log;function t(t,n,r){var i;if(t.addEventListener){i=function(t){if(e&&e.enabled){e("event.add","On "+t.type+" (case 1), invoking",r)}if(r.call(this,t)===false){t.preventDefault();t.stopPropagation()}};t.addEventListener(n,i,false)}else if(t.attachEvent){i=function(n){n=n||window.event;if(e&&e.enabled){e("event.add","On "+n.type+" (case 2), invoking",r)}return r.call(n.srcElement||t,n)};t.attachEvent("on"+n,i)}return i}exports.add=t;exports.remove=function(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n,false)}else if(e.detachEvent){e.detachEvent("on"+t,n)}}},{});require.install("errors",function(require,exports,module){var e=[],t,n=0,r=10,i=require("shared/event"),o=i.add(window,"error",function(t){if(--r<0){i.remove(window,"error",o)}else{s(t);e.push(t);a()}});function a(){while(t&&n<e.length){t(e[n++])}}exports.setCallback=function(e){t=e;a()};function s(e){if(e.stack){return}if(window.opera&&e.message){var t=[];var n=e.message.split("\n");for(var r=0,i=n.length;r<i;r++){if(n[r].match(/^\s*[A-Za-z0-9\-_\$]+\(/)){var o=n[r];if(n[r+1]){o+=" at "+n[r+1];r++}t.push(o)}}e.stack=String.join("\n",t);return}if(e.filename){e.stack="at "+e.filename+":"+e.lineno;return}if(arguments.callee&&arguments.callee.caller){var a="";var s=arguments.callee.caller;while(s){var l=s.toString();var u=l.substring(l.indexOf("function")+9,l.indexOf("("))||"anonymous";a+=u+"\n";s=s.caller}e.stack=a;return}}},{"shared/event":true});require.whenReady("settings",function(){});require.install("redirect",function(require,exports,module){var e=window,t=document,n=require("settings"),r="smar=1",i=30,o=new RegExp("\\b"+r+"\\b"),a=e.location.href,s=e.location.domain,l=e.location.pathname,u=+new Date;function f(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return n===null?"":decodeURIComponent(n[1].replace(/\+/g," "))}if(n.mobileRedirect&&!o.test(t.cookie)&&!t.webKitHidden){setTimeout(function(){if(+new Date-u<1500){t.cookie=r+"; expires="+new Date(new Date-i*-864e5).toUTCString()+"; path=/"+"; domain=.quora.com"}if(o.test(t.cookie)){e.location=a}},1e3);t.cookie=r+"; expires="+new Date(new Date-1*-864e5).toUTCString()+"; path="+l;e.location=f("force_mobile_redirect")||n.appURL}},{settings:true});require.install("shared/links",function(require,exports,module){if(!window.Q){window.Q={}}var e=window.Q;e.openUrl=function(e){var t=window.open(e.href);t.opener=null;return false}},{});require.install("shared/win.load",function(require,exports,module){var e=this,t=[],n=false,r=false;require("shared/event").add(e,"load",function(){if(!r&&e.log&&e.log.enabled){e.log("win.load","DOM is ready.");r=true}setTimeout(function(){n=true;for(var r=0,i=t.length;r<i;++r){t[r].call(e)}t.length=0},100)});exports.add=function(r){if(n){r.call(e)}else{t.push(r)}}},{"shared/event":true});require.install("shared/spin",function(require,exports,module){module.exports.createSpinnerDom=function(t,n){n=n||"__default_loading_spinner_class";var r=' <div class=" '+n+' "/> ';var i=$(r);var o=e(t);i.append(o.el);return i};var e=module.exports.createSpinnerElement=function(e){e=e||{};var t=new module.exports.Spinner(e).spin();return t};(function(e,t){if(typeof exports=="object")module.exports.Spinner=t();else if(typeof define=="function"&&define.amd)define(t);else e.Spinner=t()})(this,function(){"use strict";var e=["webkit","Moz","ms","O"],t={},n;function r(e,t){var n=document.createElement(e||"div"),r;for(r in t)n[r]=t[r];return n}function i(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}var o=function(){var e=r("style",{type:"text/css"});i(document.getElementsByTagName("head")[0],e);return e.sheet||e.styleSheet}();function a(e,r,i,a){var s=["opacity",r,~~(e*100),i,a].join("-"),l=.01+i/a*100,u=Math.max(1-(1-e)/r*(100-l),e),f=n.substring(0,n.indexOf("Animation")).toLowerCase(),c=f&&"-"+f+"-"||"";if(!t[s]){o.insertRule("@"+c+"keyframes "+s+"{"+"0%{opacity:"+u+"}"+l+"%{opacity:"+e+"}"+(l+.01)+"%{opacity:1}"+(l+r)%100+"%{opacity:"+e+"}"+"100%{opacity:"+u+"}"+"}",o.cssRules.length);t[s]=1}return s}function s(t,n){var r=t.style,i,o;n=n.charAt(0).toUpperCase()+n.slice(1);for(o=0;o<e.length;o++){i=e[o]+n;if(r[i]!==undefined)return i}if(r[n]!==undefined)return n}function l(e,t){for(var n in t)e.style[s(e,n)||n]=t[n];return e}function u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)if(e[r]===undefined)e[r]=n[r]}return e}function f(e){var t={x:e.offsetLeft,y:e.offsetTop};while(e=e.offsetParent)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function c(e,t){return typeof e=="string"?e:e[t%e.length]}var d={lines:12,length:4,width:2,radius:5,rotate:0,corners:1,color:"#999",direction:1,speed:1,trail:70,opacity:1/4,fps:30,zIndex:999,className:"__q_spinner",top:"auto",left:"auto",position:"relative"};function p(e){if(typeof this=="undefined")return new p(e);this.opts=u(e||{},p.defaults,d)}p.defaults={};u(p.prototype,{spin:function(e){this.stop();var t=this,i=t.opts,o=t.el=l(r(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex}),a=i.radius+i.length+i.width,s,u;if(e){e.insertBefore(o,e.firstChild||null);u=f(e);s=f(o);l(o,{left:(i.left=="auto"?u.x-s.x+(e.offsetWidth>>1):parseInt(i.left,10)+a)+"px",top:(i.top=="auto"?u.y-s.y+(e.offsetHeight>>1):parseInt(i.top,10)+a)+"px"})}o.setAttribute("role","progressbar");t.lines(o,t.opts);if(!n){var c=0,d=(i.lines-1)*(1-i.direction)/2,p,h=i.fps,g=h/i.speed,y=(1-i.opacity)/(g*i.trail/100),m=g/i.lines;(function v(){c++;for(var e=0;e<i.lines;e++){p=Math.max(1-(c+(i.lines-e)*m)%g*y,i.opacity);t.opacity(o,e*i.direction+d,p,i)}t.timeout=t.el&&setTimeout(v,~~(1e3/h))})()}return t},stop:function(){var e=this.el;if(e){clearTimeout(this.timeout);if(e.parentNode)e.parentNode.removeChild(e);this.el=undefined}return this},lines:function(e,t){var o=0,s=(t.lines-1)*(1-t.direction)/2,u;function f(e,n){return l(r(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*o+t.rotate)+"deg) translate("+t.radius+"px"+",0) scale(1)",borderRadius:(t.corners*t.width>>1)+"px"})}for(;o<t.lines;o++){u=l(r(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:n&&a(t.opacity,t.trail,s+o*t.direction,t.lines)+" "+1/t.speed+"s linear infinite"});if(t.shadow)i(u,l(f("#000","0 0 4px "+"#000"),{top:2+"px"}));i(e,i(u,f(c(t.color,o),"0 0 1px rgba(0,0,0,.1)")))}return e},opacity:function(e,t,n){if(t<e.childNodes.length)e.childNodes[t].style.opacity=n}});function h(){function e(e,t){return r("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}o.addRule(".spin-vml","behavior:url(#default#VML)");p.prototype.lines=function(t,n){var r=n.length+n.width,o=2*r;function a(){return l(e("group",{coordsize:o+" "+o,coordorigin:-r+" "+-r}),{width:o,height:o})}var s=-(n.width+n.length)*2+"px",u=l(a(),{position:"absolute",top:s,left:s}),f;function d(t,o,s){i(u,i(l(a(),{rotation:360/n.lines*t+"deg",left:~~o}),i(l(e("roundrect",{arcsize:n.corners}),{width:r,height:n.width,left:n.radius,top:-n.width>>1,filter:s}),e("fill",{color:c(n.color,t),opacity:n.opacity}),e("stroke",{opacity:0}))))}if(n.shadow)for(f=1;f<=n.lines;f++)d(f,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(f=1;f<=n.lines;f++)d(f);return i(t,u)};p.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0;if(i&&t+r<i.childNodes.length){i=i.childNodes[t+r];i=i&&i.firstChild;i=i&&i.firstChild;if(i)i.opacity=n}}}var g=l(r("group"),{behavior:"url(#default#VML)"});if(!s(g,"transform")&&g.adj)h();else n=s(g,"animation");return p})},{"shared/spin":true});require.whenReady("settings",function(){require("shared/report");require("shared/w2.timing");require("iesux");require("domain");require("errors");require("redirect");require("shared/links");require("shared/win.load");require("shared/spin");require("shared/w2.timing").logTime("earlyScriptEnd")});
