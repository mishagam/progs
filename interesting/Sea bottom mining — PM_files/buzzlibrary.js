!function(t,e){t.Buzzoola=t.Buzzoola||{},t.Buzzoola.version={hash:"cf87cdc97afbe43249aa53f44a1a3b0d91f54178",timestamp:1464091743402}}(window,document),function(){var slice=[].slice;!function(t,e){var r,i,n,o;t.Buzzoola=t.Buzzoola||{},i={Modules:{Mixins:{},Widgets:{Player:{Modules:{}},TGB:{Modules:{Landing:{}}},Scroller:{Modules:{}},Carousel:{Modules:{}}}},Is:{}},n=[];for(r in i)o=i[r],n.push(t.Buzzoola[r]=o);return n}(window,document),function(w,d,b){var hidden,hiddenPrefix,j,k,len,len1,logs,method,pageVisibilityListeners,prefix,ref,visibilityChange;for(hidden=void 0,visibilityChange=void 0,hiddenPrefix=["","moz","ms","webkit"],pageVisibilityListeners=(null!=(ref=b.utils)?ref.__pageVisibilityListeners:void 0)||{},j=0,len=hiddenPrefix.length;len>j;j++)if(prefix=hiddenPrefix[j],"undefined"!=typeof d[prefix+"hidden"]){hidden=""+prefix+(prefix?"H":"h")+"idden",visibilityChange=prefix+"visibilitychange";break}if(b.utils={__pageVisibilityListeners:pageVisibilityListeners,add_event_listener:function(t,e,r){return r=r||w,r.addEventListener?r.addEventListener(t,e,!1):r.attachEvent("on"+t,e)},remove_event_listener:function(t,e,r){return r=r||w,r.removeEventListener?r.removeEventListener(t,e,!1):r.detachEvent("on"+t,e)},add_page_visibility_listener:function(t){var e,r;return"undefined"==typeof document.addEventListener||"undefined"==typeof document[hidden]?(e=function(){return setTimeout(function(){return d.activeElement!==d.body||d.hasFocus()?void 0:t("hidden")},50)},b.utils.add_event_listener("blur",e)):(e=function(){return t(d[hidden]?"hidden":"visible")},b.utils.add_event_listener(visibilityChange,e,d)),r=Math.round(1e6*Math.random()),pageVisibilityListeners[r]=e,r},remove_page_visibility_listener:function(t){var e;return e=pageVisibilityListeners[t],e?"undefined"==typeof document.addEventListener||"undefined"==typeof document[hidden]?b.utils.remove_event_listener("blur",e):b.utils.remove_event_listener(visibilityChange,e,d):void 0},throttle:function(t,e){var r;return r=!1,function(){return r?void 0:(t.call(),r=!0,setTimeout(function(){r=!1},e))}},add_class:function(t,e){var r;if(e&&e.className){if(r=e.className,-1!==r.indexOf(t))return;return r+=" "+t,e.className=r}},remove_class:function(t,e){var r,i;return e&&e.className?(r=e.className,i=new RegExp("(\\s|^)"+t,"g"),r=r.replace(i,""),e.className=r):void 0},add_stylesheet:function(t){var e,r;return e=document.head,r=document.createElement("link"),r.type="text/css",r.rel="stylesheet",r.href=t,e.appendChild(r)},XHR:w.XDomainRequest||w.XMLHttpRequest,JSON:w.JSON||{parse:function(str){var jsp;return""===str&&(str='""'),jsp={},eval("jsp="+str+";"),jsp}},load_template:function(t,e){var r;r=new b.utils.XHR,r.onload=function(){var t,e,i,n,o;for(e=r.responseText,t=document.createElement("div"),t.innerHTML=e,n=t.querySelectorAll("script"),i=0;i<n.length;)o=n[i].getAttribute("src"),console.log(o),i++},r.open("GET",t),r.send()},debounce:function(t,e,r){var i;return i=void 0,function(){var n,o,s,a;s=this,n=arguments,a=function(){i=null,r||t.apply(s,n)},o=r&&!i,clearTimeout(i),i=setTimeout(a,e),o&&t.apply(s,n)}},toUnderscore:function(t){return t.replace(/([A-Z])/g,function(t){return"_"+t.toLowerCase()})},getNamespaceObj:function(t,e){var r,i,n;if("[object String]"===Object.prototype.toString.call(e))for(i=e.split("."),r=0,n=i.length;n>r&&"undefined"!=typeof t[i[r]];)t=t[i[r]],r++;return t},initModules:function(t,e,r){var i,n,o;o=b.utils.getNamespaceObj(b.Modules,r);for(n in e)e[n]&&(i=o[n],"undefined"!=typeof i?new i(t):console.log("module "+(r&&r+"."||"")+n+" not found"))},transitionHeight:function(t,e,r){var i;t.className+=" buzz_transition_height",i=function(){return b.utils.remove_class("buzz_transition_height",t),r?r():void 0},setTimeout(function(){"ontransitionend"in w?t.addEventListener("transitionend",function(e){e.target===t&&i()},!1):setTimeout(i,500),t.style.height=e+"px"},40)},embedScript:function(t,e){var r,i,n,o,s;if(o=d.createElement("script"),o.type="text/javascript",o.innerText?o.innerText=t:o.textContent=t,null!=e?e.appendChild:void 0)return e.appendChild(o);for(s=d.getElementsByTagName("script"),r=0,i=s.length;i>r&&(n=s[r],null!=n?!n.parentNode:!void 0);r++);return(null!=n?n.parentNode:void 0)?n.parentNode.insertBefore(o,n):void 0},loadScript:function(t,e){var r;r=document.createElement("script"),r.onload=function(){return e?e():void 0},r.onerror=function(t){return e?e(!0):void 0},r.src=t,r.async=!0,d.body.appendChild(r)},getPropertyValue:function(t,e){if(t){switch(e){case"width":case"height":return e="client"+e.charAt(0).toUpperCase()+e.slice(1),t[e]+"px"}if(w.getComputedStyle)return w.getComputedStyle(t,null).getPropertyValue(e)}},loadHtml:function(t,e){b.utils.loadXHR(t,function(t,r){return e?e(r):void 0})},loadXHR:function(t,e,r,i,n,o){var s,a,l;null==r&&(r={}),null==i&&(i="GET"),null==n&&(n={}),l=new b.utils.XHR,l.timeout&&(l.timeout=15e3),l.onload=function(){e&&e(l.status>=400,l.response||l.responseText,l)},l.onerror=function(){e&&e(!0,l.response||l.responseText,l)},l.onprogress=function(){},l.ontimeout=function(){e&&e(!0,l.response||l.responseText,l)},l.open(i,t,!0);for(s in r)a=r[s],l[s]=a;for(s in n)a=n[s],l.setRequestHeader(s,a);return l.send(o),l},loadImage:function(t,e){var r;return r=document.createElement("img"),r.onerror=function(){return delete r,e?e(!0):void 0},r.onload=function(){return e?e():void 0},r.src=t},extend:function(){var t,e,r,i,n,o,s;for(n=arguments[0],t=2<=arguments.length?slice.call(arguments,1):[],e=0,i=t.length;i>e;e++)if(o=t[e])for(r in o)s=o[r],n[r]=b.utils.isObject(s)?b.utils.extend(n[r]||{},s):s;return n},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(fn)},addStyles:function(t){var e,r;return e=d.head||d.getElementsByTagName("head")[0],r=d.createElement("style"),r.type="text/css",r.styleSheet?r.styleSheet.cssText=t:r.appendChild(d.createTextNode(t)),e.appendChild(r)},guid:function(){var t;return t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},openLink:function(t,e,r){var i;return r?w.open(t):(i=e?w:w.open(),i.opener=null,i.location=t,i.focus())}},d.querySelectorAll||(d.querySelectorAll=function(t){var e,r,i;for(i=d.createElement("style"),r=[],e=void 0,d.documentElement.firstChild.appendChild(i),d._qsa=[],i.styleSheet.cssText=t+" {x-qsa:expression(d._qsa && d._qsa.push(this))}",window.scrollBy(0,0),i.parentNode.removeChild(i);d._qsa.length;)e=d._qsa.shift(),e.style.removeAttribute("x-qsa"),r.push(e);return d._qsa=null,r}),d.querySelector||(d.querySelector=function(t){var e;return e=d.querySelectorAll(t),e.length?e[0]:null}),Function.prototype.bind&&window.console&&"object"==typeof console.log)for(logs=["log","info","warn","error","assert","dir","clear","profile","profileEnd"],k=0,len1=logs.length;len1>k;k++)method=logs[k],console[method]=Function.prototype.call.bind(console[method],console)}(window,document,Buzzoola)}.call(this),!function(t){window.Buzzoola=window.Buzzoola||{},window.Buzzoola.utils=window.Buzzoola.utils||{},(window.Buzzoola.utils.airbrakeJs||(window.Buzzoola.utils.airbrakeJs={})).Client=t()}(function(){return function t(e,r,i){function n(s,a){if(!r[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return n(r?r:t)},c,c.exports,t,e,r,i)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(t,e){(function(r){var i,n,o,s;t("./internal/compat"),s=t("./internal/merge"),n=t("./internal/promise"),o=function(t){return function(e,r,i,n,o){return t.notify(o?o:{error:{message:e,fileName:r,lineNumber:i,columnNumber:n||0}})}},i=function(){function e(e){var i;null==e&&(e={}),this._projectId=e.projectId||0,this._projectKey=e.projectKey||"",this._host=e.host||"https://api.airbrake.io",this._processor=null,this._reporters=[],this._filters=[],this._processor=void 0!==e.processor?e.processor:t("./processors/stack"),void 0!==e.reporter?this.addReporter(e.reporter):(i="withCredentials"in new r.XMLHttpRequest?"compat":"jsonp",this.addReporter(i)),this.addFilter(t("./internal/default_filter"))}return e.prototype.setProject=function(t,e){return this._projectId=t,this._projectKey=e},e.prototype.setHost=function(t){return this._host=t},e.prototype.addContext=function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("airbrake: addContext is deprecated, please use addFilter"),this.addFilter(function(e){return e.context=s({},t,e.context),e})},e.prototype.setEnvironmentName=function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("airbrake: setEnvironmentName is deprecated, please use addFilter"),this.addFilter(function(e){return null==e.context.environment&&(e.context.environment=t),e})},e.prototype.addParams=function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("airbrake: addParams is deprecated, please use addFilter"),this.addFilter(function(e){return e.params=s({},t,e.params),e})},e.prototype.addEnvironment=function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("airbrake: addEnvironment is deprecated, please use addFilter"),this.addFilter(function(e){return e.environment=s({},t,e.environment),e})},e.prototype.addSession=function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("airbrake: addSession is deprecated, please use addFilter"),this.addFilter(function(e){return e.session=s({},t,e.session),e})},e.prototype.addReporter=function(e){switch(e){case"compat":e=t("./reporters/compat");break;case"xhr":e=t("./reporters/xhr");break;case"jsonp":e=t("./reporters/jsonp")}return this._reporters.push(e)},e.prototype.addFilter=function(t){return this._filters.push(t)},e.prototype.notify=function(t){var e,i,o;return e={language:"JavaScript",sourceMapEnabled:!0},(null!=(o=r.navigator)?o.userAgent:void 0)&&(e.userAgent=r.navigator.userAgent),r.location&&(e.url=String(r.location),e.rootDirectory=r.location.protocol+"//"+r.location.host),i=new n,this._processor(t.error||t,function(r){return function(n,o){var a,l,u,c,d,h,p,g,f,m,v;for(p={errors:[o],context:s(e,t.context),params:t.params||{},environment:t.environment||{},session:t.session||{}},p.context.notifier={name:"airbrake-js-"+n,version:"0.5.8",url:"https://github.com/airbrake/airbrake-js"},f=r._filters,l=0,c=f.length;c>l;l++){if(a=f[l],h=a(p),null===h||h===!1)return;null!=h.errors?p=h:"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("airbrake: filter must return notice or null to ignore the notice")}for(g={projectId:r._projectId,projectKey:r._projectKey,host:r._host},m=r._reporters,u=0,d=m.length;d>u;u++)(v=m[u])(p,g,i)}}(this)),i},e.prototype.push=function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("airbrake: push is deprecated, please use notify"),this.notify(t)},e.prototype._wrapArguments=function(t){var e,r,i,n;for(r=i=0,n=t.length;n>i;r=++i)e=t[r],"function"==typeof e&&(t[r]=this.wrap(e));return t},e.prototype.wrap=function(t){var e,r,i;if(t.__airbrake__)return t;i=this,e=function(){var e,r;e=i._wrapArguments(arguments);try{return t.apply(this,e)}catch(n){return r=n,e=Array.prototype.slice.call(arguments),i.notify({error:r,params:{arguments:e}}),null}};for(r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e.__airbrake__=!0,e.__inner__=t,e},e}(),e.exports=i}).call(this,window)},{"./internal/compat":2,"./internal/default_filter":3,"./internal/merge":5,"./internal/promise":6,"./processors/stack":8,"./reporters/compat":9,"./reporters/jsonp":10,"./reporters/xhr":11}],2:[function(){var t;null==(t=Array.prototype).indexOf&&(t.indexOf=function(t,e){var r,i,n,o;for(e=e||0,r=i=n=e,o=this.length;o>=n?o>i:i>o;r=o>=n?++i:--i)if(this[r]===t)return r;return-1})},{}],3:[function(t,e){var r,i,n=[].indexOf||function(t){for(var e=0,r=this.length;r>e;e++)if(e in this&&this[e]===t)return e;return-1};r=["Script error","Script error."],i=function(t){var e;return e=t.errors[0].message,n.call(r,e)>=0?null:t},e.exports=i},{}],4:[function(t,e){var r,i,n;i=t("./truncate"),n=function(t,e){var r,n;null==e&&(e=1e3),r={};for(n in t)r[n]=i(t[n],e=e);return r},r=function(t,e,r){var i,o;for(null==e&&(e=1e3),null==r&&(r=64e3);;){if(t.params=n(t.params,e=e),t.environment=n(t.environment,e=e),t.session=n(t.session,e=e),o=JSON.stringify(t),o.length<r)return o;if(0===e)break;e=Math.floor(e/2)}throw i=new Error("airbrake-js: cannot jsonify notice (length="+o.length+" maxLength="+r+")"),i.params={json:o.slice(0,+Math.floor(e/2)+1||9e9)+"..."},i},e.exports=r},{"./truncate":7}],5:[function(t,e){var r;r=function(){var t,e,r,i,n,o;for(o=Array.prototype.slice.call(arguments),t=o.shift()||{},e=0,i=o.length;i>e;e++){n=o[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e.exports=r},{}],6:[function(t,e){var r;r=function(){function t(t){var e,r;this._onResolved=[],this._onRejected=[],r=function(t){return function(){return t.resolve.apply(t,arguments)}}(this),e=function(t){return function(){return t.reject.apply(t,arguments)}}(this),null!=t&&t(r,e)}return t.prototype.then=function(t,e){return t&&(null!=this._resolvedWith&&t(this._resolvedWith),this._onResolved.push(t)),e&&(null!=this._rejectedWith&&e(this._resolvedWith),this._onRejected.push(e)),this},t.prototype["catch"]=function(t){return null!=this._rejectedWith&&t(this._rejectedWith),this._onRejected.push(t),this},t.prototype.resolve=function(){var t,e,r,i;for(this._resolvedWith=arguments,i=this._onResolved,e=0,r=i.length;r>e;e++)t=i[e],t.apply(this,this._resolvedWith);return this},t.prototype.reject=function(){var t,e,r,i;for(this._rejectedWith=arguments,i=this._onRejected,e=0,r=i.length;r>e;e++)t=i[e],t.apply(this,this._rejectedWith);return this},t}(),e.exports=r},{}],7:[function(t,e){var r,i;r=function(t,e){var r;try{return t[e]}catch(i){return void(r=i)}},i=function(t,e,i){var n,o,s,a,l;return null==e&&(e=1e3),null==i&&(i=5),a=0,s=[],l=[],o=function(t){var e,i,n,o,a;for(i=l.indexOf(t),o=[s[i]],e=n=a=i;0>=a?0>=n:n>=0;e=0>=a?++n:--n)l[e]&&r(l[e],o[0])===t&&(t=l[e],o.unshift(s[e]));return"~"+o.join(".")},(n=function(t,u,c){var d,h,p,g,f,m;if(null==u&&(u=""),null==c&&(c=0),a++,a>e)return"[Truncated]";if(null===t||void 0===t)return t;switch(typeof t){case"boolean":case"number":case"string":case"function":return t;case"object":break;default:return String(t)}if(t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(l.indexOf(t)>=0)return"[Circular "+o(t)+"]";if(c++,c>i)return"[Truncated]";if(s.push(u),l.push(t),a--,"[object Array]"===Object.prototype.toString.apply(t)){for(d=[],p=g=0,f=t.length;f>g&&(h=t[p],a++,!(a>=e));p=++g)d.push(n(h,u=p,c));return d}d={};for(u in t)if(Object.prototype.hasOwnProperty.call(t,u)){if(a++,a>=e)break;m=r(t,u),void 0!==m&&(d[u]=n(m,u=u,c))}return d})(t)},e.exports=i},{}],8:[function(t,e){var r,i,n;i=[{name:"v8",re:/^\s*at\s(.+?)\s\((?:(?:(.+):(\d+):(\d+))|(.+))\)$/,fn:function(t){return{"function":t[1],file:t[2]||t[5],line:t[3]&&parseInt(t[3],10)||0,column:t[4]&&parseInt(t[4],10)||0}}},{name:"firefox30",re:/^(.*)@(.+):(\d+):(\d+)$/,fn:function(t){var e,r,i,n;return i=t[1],r=t[2],e=/^(\S+)\s(line\s\d+\s>\seval.*)$/,(n=r.match(e))&&(i=i.length>0?i+" "+n[2]:n[2],r=n[1]),{"function":i,file:r,line:parseInt(t[3],10),column:parseInt(t[4],10)}}},{name:"firefox14",re:/^(.*)@(.+):(\d+)$/,fn:function(t,e,r){var i;return i=0===e?r.columnNumber||0:0,{"function":t[1],file:t[2],line:parseInt(t[3],10),column:i}}},{name:"v8-short",re:/^\s*at\s(.+):(\d+):(\d+)$/,fn:function(t){return{"function":"",file:t[1],line:parseInt(t[2],10),column:parseInt(t[3],10)}}},{name:"phantomjs",re:/^\s*at\s(.+):(\d+)$/,fn:function(t){return{"function":"",file:t[1],line:parseInt(t[2],10),column:0}}},{name:"default",re:/.+/,fn:function(t){return{"function":t[0],file:"",line:0,column:0}}}],n=/^\S+:\s.+$/,r=function(t,e){var r,o,s,a,l,u,c,d,h,p,g,f,m,v,y;for(g="nostack",m=t.stack||"",d=m.split("\n"),r=[],o=s=0,l=d.length;l>s;o=++s)if(c=d[o],""!==c)for(a=0,u=i.length;u>a;a++)if(f=i[a],h=c.match(f.re)){g=f.name,r.push(f.fn(h,o,t));break}return("v8"===g||"v8-short"===g)&&r.length>0&&r[0]["function"].match(n)&&(r=r.slice(1)),0!==r.length||null==t.fileName&&null==t.lineNumber&&null==t.columnNumber||r.push({"function":"",file:t.fileName||"",line:parseInt(t.lineNumber,10)||0,column:parseInt(t.columnNumber,10)||0}),0!==r.length||null==t.filename&&null==t.lineno&&null==t.column&&null==t.colno||r.push({"function":"",file:t.filename||"",line:parseInt(t.lineno,10)||0,column:parseInt(t.column||t.colno,10)||0}),p=null!=t.message?t.message:String(t),null!=t.name&&""!==t.name?(v=t.name,p=v+": "+p):(y=/^Uncaught\s(.+?):\s.+$/,h=p.match(y),v=h?h[1]:""),e(g,{type:v,message:p,backtrace:r})},e.exports=r},{}],9:[function(t,e){(function(r){var i,n;i=t("../internal/jsonify_notice"),n=function(t,e,n){var o,s,a;return a=e.host+"/api/v3/projects/"+e.projectId+"/create-notice?key="+e.projectKey,o=i(t),s=new r.XMLHttpRequest,s.open("POST",a,!0),s.send(o),s.onreadystatechange=function(){var e;return 4===s.readyState&&200===s.status?(e=JSON.parse(s.responseText),t.id=e.id,n.resolve(t)):void 0}},e.exports=n}).call(this,window)},{"../internal/jsonify_notice":4}],10:[function(t,e){(function(r){var i,n,o;n=t("../internal/jsonify_notice"),i=0,o=function(t,e,o){var s,a,l,u,c,d,h;return i++,s="airbrakeCb"+String(i),r[s]=function(e){var i;t.id=e.id,o.resolve(t);try{return delete r[s]}catch(n){return i=n,r[s]=void 0}},u=encodeURIComponent(n(t)),h=e.host+"/api/v3/projects/"+e.projectId+"/create-notice?key="+e.projectKey+"&callback="+s+"&body="+u,a=r.document,l=a.getElementsByTagName("head")[0],d=a.createElement("script"),d.src=h,c=function(){return l.removeChild(d)},d.onload=c,d.onerror=c,l.appendChild(d)},e.exports=o}).call(this,window)},{"../internal/jsonify_notice":4}],11:[function(t,e){(function(r){var i,n;i=t("../internal/jsonify_notice"),n=function(t,e,n){var o,s,a;return a=e.host+"/api/v3/projects/"+e.projectId+"/notices?key="+e.projectKey,o=i(t),s=new r.XMLHttpRequest,s.open("POST",a,!0),s.setRequestHeader("Content-Type","application/json"),s.send(o),s.onreadystatechange=function(){var e;return 4===s.readyState&&201===s.status?(e=JSON.parse(s.responseText),t.id=e.id,n.resolve(t)):void 0}},e.exports=n}).call(this,window)},{"../internal/jsonify_notice":4}]},{},[1])(1)}),function(t,e){window.Buzzoola=window.Buzzoola||{},window.Buzzoola.utils=window.Buzzoola.utils||{},window.Buzzoola.utils.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,r,i,n,o,s,a,l="",u=0;for(t=window.Buzzoola.utils.Base64._utf8_encode(t);u<t.length;)e=t.charCodeAt(u++),r=t.charCodeAt(u++),i=t.charCodeAt(u++),n=e>>2,o=(3&e)<<4|r>>4,s=(15&r)<<2|i>>6,a=63&i,isNaN(r)?s=a=64:isNaN(i)&&(a=64),l=l+this._keyStr.charAt(n)+this._keyStr.charAt(o)+this._keyStr.charAt(s)+this._keyStr.charAt(a);return l},decode:function(t){var e,r,i,n,o,s,a,l="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)n=this._keyStr.indexOf(t.charAt(u++)),o=this._keyStr.indexOf(t.charAt(u++)),s=this._keyStr.indexOf(t.charAt(u++)),a=this._keyStr.indexOf(t.charAt(u++)),e=n<<2|o>>4,r=(15&o)<<4|s>>2,i=(3&s)<<6|a,l+=String.fromCharCode(e),64!=s&&(l+=String.fromCharCode(r)),64!=a&&(l+=String.fromCharCode(i));return l=window.Buzzoola.utils.Base64._utf8_decode(l)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",r=0;r<t.length;r++){var i=t.charCodeAt(r);128>i?e+=String.fromCharCode(i):i>127&&2048>i?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},_utf8_decode:function(t){for(var e="",r=0,i=c1=c2=0;r<t.length;)i=t.charCodeAt(r),128>i?(e+=String.fromCharCode(i),r++):i>191&&224>i?(c2=t.charCodeAt(r+1),e+=String.fromCharCode((31&i)<<6|63&c2),r+=2):(c2=t.charCodeAt(r+1),c3=t.charCodeAt(r+2),e+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),r+=3);return e}}}(window,document),!function(t,e){window.Buzzoola.utils[t]=e()}("bowser",function(){function t(t){function r(e){var r=t.match(e);return r&&r.length>1&&r[1]||""}function i(e){var r=t.match(e);return r&&r.length>1&&r[2]||""}var n,o=r(/(ipod|iphone|ipad)/i).toLowerCase(),s=/like android/i.test(t),a=!s&&/android/i.test(t),l=r(/edge\/(\d+(\.\d+)?)/i),u=r(/version\/(\d+(\.\d+)?)/i),c=/tablet/i.test(t),d=!c&&/[^-]mobi/i.test(t);/opera|opr/i.test(t)?n={name:"Opera",opera:e,version:u||r(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?n={name:"Yandex Browser",yandexbrowser:e,version:u||r(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(t)?(n={name:"Windows Phone",windowsphone:e},l?(n.msedge=e,n.version=l):(n.msie=e,n.version=r(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?n={name:"Internet Explorer",msie:e,version:r(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(t)?n={name:"Microsoft Edge",msedge:e,version:l}:/chrome|crios|crmo/i.test(t)?n={name:"Chrome",chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:o?(n={name:"iphone"==o?"iPhone":"ipad"==o?"iPad":"iPod"},u&&(n.version=u)):/sailfish/i.test(t)?n={name:"Sailfish",sailfish:e,version:r(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?n={name:"SeaMonkey",seamonkey:e,version:r(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(t)?(n={name:"Firefox",firefox:e,version:r(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(n.firefoxos=e)):/silk/i.test(t)?n={name:"Amazon Silk",silk:e,version:r(/silk\/(\d+(\.\d+)?)/i)}:a?n={name:"Android",version:u}:/phantom/i.test(t)?n={name:"PhantomJS",phantom:e,version:r(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?n={name:"BlackBerry",blackberry:e,version:u||r(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(t)?(n={name:"WebOS",webos:e,version:u||r(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(n.touchpad=e)):n=/bada/i.test(t)?{name:"Bada",bada:e,version:r(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(t)?{name:"Tizen",tizen:e,version:r(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||u}:/safari/i.test(t)?{name:"Safari",safari:e,version:u}:{name:r(/^(.*)\/(.*) /),version:i(/^(.*)\/(.*) /)},!n.msedge&&/(apple)?webkit/i.test(t)?(n.name=n.name||"Webkit",n.webkit=e,!n.version&&u&&(n.version=u)):!n.opera&&/gecko\//i.test(t)&&(n.name=n.name||"Gecko",n.gecko=e,n.version=n.version||r(/gecko\/(\d+(\.\d+)?)/i)),n.msedge||!a&&!n.silk?o&&(n[o]=e,n.ios=e):n.android=e;var h="";n.windowsphone?h=r(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):o?(h=r(/os (\d+([_\s]\d+)*) like mac os x/i),h=h.replace(/[_\s]/g,".")):a?h=r(/android[ \/-](\d+(\.\d+)*)/i):n.webos?h=r(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):n.blackberry?h=r(/rim\stablet\sos\s(\d+(\.\d+)*)/i):n.bada?h=r(/bada\/(\d+(\.\d+)*)/i):n.tizen&&(h=r(/tizen[\/\s](\d+(\.\d+)*)/i)),h&&(n.osversion=h);var p=h.split(".")[0];return c||"ipad"==o||a&&(3==p||4==p&&!d)||n.silk?n.tablet=e:(d||"iphone"==o||"ipod"==o||a||n.blackberry||n.webos||n.bada)&&(n.mobile=e),n.msedge||n.msie&&n.version>=10||n.yandexbrowser&&n.version>=15||n.chrome&&n.version>=20||n.firefox&&n.version>=20||n.safari&&n.version>=6||n.opera&&n.version>=10||n.ios&&n.osversion&&n.osversion.split(".")[0]>=6||n.blackberry&&n.version>=10.1?n.a=e:n.msie&&n.version<10||n.chrome&&n.version<20||n.firefox&&n.version<20||n.safari&&n.version<6||n.opera&&n.version<10||n.ios&&n.osversion&&n.osversion.split(".")[0]<6?n.c=e:n.x=e,n}var e=!0,r=t("undefined"!=typeof navigator?navigator.userAgent:"");return r.test=function(t){for(var e=0;e<t.length;++e){var i=t[e];if("string"==typeof i&&i in r)return!0}return!1},r._detect=t,r}),function(){!function(t,e){return t.Buzzoola=t.Buzzoola||{},t.Buzzoola.YoutubePlayer=function(){function r(t){var e,r,i;null==t&&(t={}),this.initialWidth=(null!=t?t.initialWidth:void 0)||445,this.initialHeight=(null!=t?t.initialHeight:void 0)||250,this.videoID=(null!=t?t.videoID:void 0)||"",this.ytDivId=(null!=t?t.ytDivId:void 0)||"yt_"+Math.floor(1e6*Math.random()),this.changeStateCb=t.changeState,this.container=t.container,this.youtubeIframe=null,this.data={ready:!1,started:!1,state:"loading"},this.playerVars={html5:1,rel:0,autoplay:+t.auto_play||0},r=t.isIos?{playsinline:1,controls:0,modestbranding:0}:{controls:null!=t?t.showPanels:void 0,showinfo:0,wmode:"opaque"};for(e in r)i=r[e],this.playerVars[e]=i}return r.prototype.loadVideo=function(){var r;return t.YT&&"[object Function]"===Object.prototype.toString.call(t.YT.Player)?setTimeout(function(t){return function(){return t.initPlayer()}}(this),0):(t.onYouTubeIframeAPIReady=function(t){return function(e){return function(){var r,i;if(e)try{e()}catch(i){r=i,console.error(r)}return t.initPlayer()}}}(this)(t.onYouTubeIframeAPIReady),r=e.createElement("script"),r.src="https://www.youtube.com/iframe_api?wmode=transparent&enablejsapi=1&rel=0&controls=1&showinfo=0&origin="+window.location.origin,e.body.appendChild(r))},r.prototype.initPlayer=function(){var t,r,i,n;if(!this.player){n=e.createElement("div"),this.container||(this.container=n),r={background:"black",backgroundImage:"url('http://i.ytimg.com/vi/"+this.videoID+"/sddefault.jpg')",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"};for(t in r)i=r[t],this.container[t]=i;return n.id=this.ytDivId,n.style.position="absolute",n.style.display="inline-block",n.style.height="0",n.style.overflow="hidden",n.style.top="0",n.style.left="0",e.body.appendChild(n),this.player=new YT.Player(this.ytDivId,{width:this.initialWidth,height:this.initialHeight,videoId:this.videoID,playerVars:this.playerVars,events:{onReady:function(t){return function(){return t.onReady()}}(this),onStateChange:function(t){return function(e){return t.onStateChange(e)}}(this),onError:function(t){return function(e){return t.onError(e)}}(this)}}),this.youtubeIframe=this.player.getIframe(),setTimeout(function(t){return function(){return t.container.appendChild(t.youtubeIframe)}}(this),0),this.resize(this.initialWidth,this.initialHeight)}},r.prototype.changeState=function(t,e){return this.data.state!==t&&this.changeStateCb?this.changeStateCb(this.data.state=t,e):void 0},r.prototype.play=function(){return this.player?this.player.playVideo():void 0},r.prototype.pause=function(){return this.player&&"pause"!==this.data.state?this.player.pauseVideo():void 0},r.prototype.setVolume=function(t){return this.player?this.player.setVolume(t):void 0},r.prototype.stop=function(){return this.player.stopVideo()},r.prototype.resize=function(t,e){return this.player?(this.player.setSize(t,e),this.youtubeIframe?this.youtubeIframe.setAttribute("style","width: "+t+"px !important"):void 0):(this.initialWidth=t,this.initialHeight=e)},r.prototype.getCurrentTime=function(){return this.player?this.player.getCurrentTime():-1},r.prototype.getTotalTime=function(){return this.player?this.player.getDuration():-1},r.prototype.onError=function(t){return this.changeState("error",null!=t?t.data:void 0)},r.prototype.onReady=function(){return this.data.ready?void 0:(this.data.ready=!0,this.changeState("loaded"),this.changeState("ready"))},r.prototype.onStateChange=function(t){switch(t.data){case 0:return this.changeState("finish");case 1:return this.data.started||(this.data.started=!0,this.changeState("start"),this.changeState("duration")),this.changeState("play");case 2:if(Math.round(this.getCurrentTime())!==Math.round(this.getTotalTime()))return this.changeState("pause")}},r}()}(window,document)}.call(this),"document"in self&&("classList"in document.createElement("_")?!function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var r,i=arguments.length;for(r=0;i>r;r++)t=arguments[r],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:r.call(this,t)}}t=null}():!function(t){"use strict";if("Element"in t){var e="classList",r="prototype",i=t.Element[r],n=Object,o=String[r].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[r].indexOf||function(t){for(var e=0,r=this.length;r>e;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},u=function(t){for(var e=o.call(t.getAttribute("class")||""),r=e?e.split(/\s+/):[],i=0,n=r.length;n>i;i++)this.push(r[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},c=u[r]=[],d=function(){return new u(this)};if(a[r]=Error[r],c.item=function(t){return this[t]||null},c.contains=function(t){return t+="",-1!==l(this,t)},c.add=function(){var t,e=arguments,r=0,i=e.length,n=!1;do t=e[r]+"",-1===l(this,t)&&(this.push(t),n=!0);while(++r<i);n&&this._updateClassName()},c.remove=function(){var t,e,r=arguments,i=0,n=r.length,o=!1;do for(t=r[i]+"",e=l(this,t);-1!==e;)this.splice(e,1),o=!0,e=l(this,t);while(++i<n);o&&this._updateClassName()},c.toggle=function(t,e){t+="";var r=this.contains(t),i=r?e!==!0&&"remove":e!==!1&&"add";return i&&this[i](t),e===!0||e===!1?e:!r},c.toString=function(){return this.join(" ")},n.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{n.defineProperty(i,e,h)}catch(p){-2146823252===p.number&&(h.enumerable=!1,n.defineProperty(i,e,h))}}else n[r].__defineGetter__&&i.__defineGetter__(e,d)}}(self)),function(t,e,r){!function(){function t(t){var e=t.__resizeTriggers__;if(e){var r=e.firstElementChild,i=e.lastElementChild;if(r&&i){var n=r.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,n&&(n.style.width=r.offsetWidth+1+"px",n.style.height=r.offsetHeight+1+"px")}}}function e(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height}function i(r){var i=this;t(this),this.__resizeRAF__&&l(this.__resizeRAF__),this.__resizeRAF__=a(function(){e(i)&&(i.__resizeLast__.width=i.offsetWidth,i.__resizeLast__.height=i.offsetHeight,i.__resizeListeners__.forEach(function(t){t.call(i,r)}))})}function n(){if(!s){var t=(_?_:"")+".resize-triggers { "+(w?w:"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: -1000%; left: -1000%; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t)),e.appendChild(r),s=!0}}var o=document.attachEvent,s=!1;if(!o){var a=function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};return function(e){return t(e)}}(),l=function(){var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(e){return t(e)}}(),u=!1,c="animation",d="",h="animationstart",p="Webkit Moz O ms".split(" "),g="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f="",m=document.createElement("fakeelement");
if(void 0!==m.style.animationName&&(u=!0),u===!1)for(var v=0;v<p.length;v++)if(void 0!==m.style[p[v]+"AnimationName"]){f=p[v],c=f+"Animation",d="-"+f.toLowerCase()+"-",h=g[v],u=!0;break}var y="resizeanim",_="@"+d+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",w=d+"animation: 1ms "+y+"; "}r.utils.add_resize_listener=function(e,r){o?e.attachEvent("onresize",r):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),n(),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),t(e),e.addEventListener("scroll",i,!0),h&&e.__resizeTriggers__.addEventListener(h,function(r){r.animationName==y&&t(e)})),e.__resizeListeners__.push(r))},r.utils.remove_resize_listener=function(t,e){try{t&&(o?t.detachEvent("onresize",e):t.__resizeListeners__&&(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||(t.removeEventListener("scroll",i,!0),t.__resizeTriggers__&&(t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)))))}catch(r){}}}()}(window,document,Buzzoola),function(t,e,r,i){"use strict";function n(t,e,r){return setTimeout(c(t,r),e)}function o(t,e,r){return Array.isArray(t)?(s(t,r[e],r),!0):!1}function s(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==i)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function a(t,e,r){for(var n=Object.keys(e),o=0;o<n.length;)(!r||r&&t[n[o]]===i)&&(t[n[o]]=e[n[o]]),o++;return t}function l(t,e){return a(t,e,!0)}function u(t,e,r){var i,n=e.prototype;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&a(i,r)}function c(t,e){return function(){return t.apply(e,arguments)}}function d(t,e){return typeof t==ct?t.apply(e?e[0]||i:i,e):t}function h(t,e){return t===i?e:t}function p(t,e,r){s(v(e),function(e){t.addEventListener(e,r,!1)})}function g(t,e,r){s(v(e),function(e){t.removeEventListener(e,r,!1)})}function f(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function v(t){return t.trim().split(/\s+/g)}function y(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var i=0;i<t.length;){if(r&&t[i][r]==e||!r&&t[i]===e)return i;i++}return-1}function _(t){return Array.prototype.slice.call(t,0)}function w(t,e,r){for(var i=[],n=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];y(n,s)<0&&i.push(t[o]),n[o]=s,o++}return r&&(i=e?i.sort(function(t,r){return t[e]>r[e]}):i.sort()),i}function b(t,e){for(var r,n,o=e[0].toUpperCase()+e.slice(1),s=0;s<lt.length;){if(r=lt[s],n=r?r+o:e,n in t)return n;s++}return i}function z(){return gt++}function S(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function k(t,e){var r=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){d(t.options.enable,[t])&&r.handler(e)},this.init()}function x(t){var e,r=t.options.inputClass;return new(e=r?r:vt?R:yt?D:mt?U:W)(t,M)}function M(t,e,r){var i=r.pointers.length,n=r.changedPointers.length,o=e&kt&&i-n===0,s=e&(Mt|Tt)&&i-n===0;r.isFirst=!!o,r.isFinal=!!s,o&&(t.session={}),r.eventType=e,T(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function T(t,e){var r=t.session,i=e.pointers,n=i.length;r.firstInput||(r.firstInput=C(e)),n>1&&!r.firstMultiple?r.firstMultiple=C(e):1===n&&(r.firstMultiple=!1);var o=r.firstInput,s=r.firstMultiple,a=s?s.center:o.center,l=e.center=B(i);e.timeStamp=pt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=N(a,l),e.distance=P(a,l),I(r,e),e.offsetDirection=L(e.deltaX,e.deltaY),e.scale=s?F(s.pointers,i):1,e.rotation=s?O(s.pointers,i):0,E(r,e);var u=t.element;f(e.srcEvent.target,u)&&(u=e.srcEvent.target),e.target=u}function I(t,e){var r=e.center,i=t.offsetDelta||{},n=t.prevDelta||{},o=t.prevInput||{};(e.eventType===kt||o.eventType===Mt)&&(n=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=n.x+(r.x-i.x),e.deltaY=n.y+(r.y-i.y)}function E(t,e){var r,n,o,s,a=t.lastInterval||e,l=e.timeStamp-a.timeStamp;if(e.eventType!=Tt&&(l>St||a.velocity===i)){var u=a.deltaX-e.deltaX,c=a.deltaY-e.deltaY,d=A(l,u,c);n=d.x,o=d.y,r=ht(d.x)>ht(d.y)?d.x:d.y,s=L(u,c),t.lastInterval=e}else r=a.velocity,n=a.velocityX,o=a.velocityY,s=a.direction;e.velocity=r,e.velocityX=n,e.velocityY=o,e.direction=s}function C(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:dt(t.pointers[r].clientX),clientY:dt(t.pointers[r].clientY)},r++;return{timeStamp:pt(),pointers:e,center:B(e),deltaX:t.deltaX,deltaY:t.deltaY}}function B(t){var e=t.length;if(1===e)return{x:dt(t[0].clientX),y:dt(t[0].clientY)};for(var r=0,i=0,n=0;e>n;)r+=t[n].clientX,i+=t[n].clientY,n++;return{x:dt(r/e),y:dt(i/e)}}function A(t,e,r){return{x:e/t||0,y:r/t||0}}function L(t,e){return t===e?It:ht(t)>=ht(e)?t>0?Et:Ct:e>0?Bt:At}function P(t,e,r){r||(r=Ot);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return Math.sqrt(i*i+n*n)}function N(t,e,r){r||(r=Ot);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return 180*Math.atan2(n,i)/Math.PI}function O(t,e){return N(e[1],e[0],Ft)-N(t[1],t[0],Ft)}function F(t,e){return P(e[0],e[1],Ft)/P(t[0],t[1],Ft)}function W(){this.evEl=Rt,this.evWin=Ht,this.allow=!0,this.pressed=!1,k.apply(this,arguments)}function R(){this.evEl=jt,this.evWin=Ut,k.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function H(){this.evTarget=Xt,this.evWin=Gt,this.started=!1,k.apply(this,arguments)}function V(t,e){var r=_(t.touches),i=_(t.changedTouches);return e&(Mt|Tt)&&(r=w(r.concat(i),"identifier",!0)),[r,i]}function D(){this.evTarget=Jt,this.targetIds={},k.apply(this,arguments)}function j(t,e){var r=_(t.touches),i=this.targetIds;if(e&(kt|xt)&&1===r.length)return i[r[0].identifier]=!0,[r,r];var n,o,s=_(t.changedTouches),a=[],l=this.target;if(o=r.filter(function(t){return f(t.target,l)}),e===kt)for(n=0;n<o.length;)i[o[n].identifier]=!0,n++;for(n=0;n<s.length;)i[s[n].identifier]&&a.push(s[n]),e&(Mt|Tt)&&delete i[s[n].identifier],n++;return a.length?[w(o.concat(a),"identifier",!0),a]:void 0}function U(){k.apply(this,arguments);var t=c(this.handler,this);this.touch=new D(this.manager,t),this.mouse=new W(this.manager,t)}function q(t,e){this.manager=t,this.set(e)}function X(t){if(m(t,ee))return ee;var e=m(t,re),r=m(t,ie);return e&&r?re+" "+ie:e||r?e?re:ie:m(t,te)?te:Qt}function G(t){this.id=z(),this.manager=null,this.options=l(t||{},this.defaults),this.options.enable=h(this.options.enable,!0),this.state=ne,this.simultaneous={},this.requireFail=[]}function Y(t){return t&ue?"cancel":t&ae?"end":t&se?"move":t&oe?"start":""}function J(t){return t==At?"down":t==Bt?"up":t==Et?"left":t==Ct?"right":""}function $(t,e){var r=e.manager;return r?r.get(t):t}function Z(){G.apply(this,arguments)}function K(){Z.apply(this,arguments),this.pX=null,this.pY=null}function Q(){Z.apply(this,arguments)}function tt(){G.apply(this,arguments),this._timer=null,this._input=null}function et(){Z.apply(this,arguments)}function rt(){Z.apply(this,arguments)}function it(){G.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function nt(t,e){return e=e||{},e.recognizers=h(e.recognizers,nt.defaults.preset),new ot(t,e)}function ot(t,e){e=e||{},this.options=l(e,nt.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=x(this),this.touchAction=new q(this,this.options.touchAction),st(this,!0),s(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function st(t,e){var r=t.element;s(t.options.cssProps,function(t,i){r.style[b(r.style,i)]=e?t:""})}function at(t,r){var i=e.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=r,r.target.dispatchEvent(i)}var lt=["","webkit","moz","MS","ms","o"],ut=e.createElement("div"),ct="function",dt=Math.round,ht=Math.abs,pt=Date.now,gt=1,ft=/mobile|tablet|ip(ad|hone|od)|android/i,mt="ontouchstart"in t,vt=b(t,"PointerEvent")!==i,yt=mt&&ft.test(navigator.userAgent),_t="touch",wt="pen",bt="mouse",zt="kinect",St=25,kt=1,xt=2,Mt=4,Tt=8,It=1,Et=2,Ct=4,Bt=8,At=16,Lt=Et|Ct,Pt=Bt|At,Nt=Lt|Pt,Ot=["x","y"],Ft=["clientX","clientY"];k.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(S(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(S(this.element),this.evWin,this.domHandler)}};var Wt={mousedown:kt,mousemove:xt,mouseup:Mt},Rt="mousedown",Ht="mousemove mouseup";u(W,k,{handler:function(t){var e=Wt[t.type];e&kt&&0===t.button&&(this.pressed=!0),e&xt&&1!==t.which&&(e=Mt),this.pressed&&this.allow&&(e&Mt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:bt,srcEvent:t}))}});var Vt={pointerdown:kt,pointermove:xt,pointerup:Mt,pointercancel:Tt,pointerout:Tt},Dt={2:_t,3:wt,4:bt,5:zt},jt="pointerdown",Ut="pointermove pointerup pointercancel";t.MSPointerEvent&&(jt="MSPointerDown",Ut="MSPointerMove MSPointerUp MSPointerCancel"),u(R,k,{handler:function(t){var e=this.store,r=!1,i=t.type.toLowerCase().replace("ms",""),n=Vt[i],o=Dt[t.pointerType]||t.pointerType,s=o==_t,a=y(e,t.pointerId,"pointerId");n&kt&&(0===t.button||s)?0>a&&(e.push(t),a=e.length-1):n&(Mt|Tt)&&(r=!0),0>a||(e[a]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),r&&e.splice(a,1))}});var qt={touchstart:kt,touchmove:xt,touchend:Mt,touchcancel:Tt},Xt="touchstart",Gt="touchstart touchmove touchend touchcancel";u(H,k,{handler:function(t){var e=qt[t.type];if(e===kt&&(this.started=!0),this.started){var r=V.call(this,t,e);e&(Mt|Tt)&&r[0].length-r[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:r[0],changedPointers:r[1],pointerType:_t,srcEvent:t})}}});var Yt={touchstart:kt,touchmove:xt,touchend:Mt,touchcancel:Tt},Jt="touchstart touchmove touchend touchcancel";u(D,k,{handler:function(t){var e=Yt[t.type],r=j.call(this,t,e);r&&this.callback(this.manager,e,{pointers:r[0],changedPointers:r[1],pointerType:_t,srcEvent:t})}}),u(U,k,{handler:function(t,e,r){var i=r.pointerType==_t,n=r.pointerType==bt;if(i)this.mouse.allow=!1;else if(n&&!this.mouse.allow)return;e&(Mt|Tt)&&(this.mouse.allow=!0),this.callback(t,e,r)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var $t=b(ut.style,"touchAction"),Zt=$t!==i,Kt="compute",Qt="auto",te="manipulation",ee="none",re="pan-x",ie="pan-y";q.prototype={set:function(t){t==Kt&&(t=this.compute()),Zt&&(this.manager.element.style[$t]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return s(this.manager.recognizers,function(e){d(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),X(t.join(" "))},preventDefaults:function(t){if(!Zt){var e=t.srcEvent,r=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,n=m(i,ee),o=m(i,ie),s=m(i,re);return n||o&&r&Lt||s&&r&Pt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ne=1,oe=2,se=4,ae=8,le=ae,ue=16,ce=32;G.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=$(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=$(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=$(t,this),-1===y(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=$(t,this);var e=y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){r.manager.emit(r.options.event+(e?Y(i):""),t)}var r=this,i=this.state;ae>i&&e(!0),e(),i>=ae&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ce)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ce|ne)))return!1;t++}return!0},recognize:function(t){var e=a({},t);return d(this.options.enable,[this,e])?(this.state&(le|ue|ce)&&(this.state=ne),this.state=this.process(e),void(this.state&(oe|se|ae|ue)&&this.tryEmit(e))):(this.reset(),void(this.state=ce))},process:function(t){},getTouchAction:function(){},reset:function(){}},u(Z,G,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,r=t.eventType,i=e&(oe|se),n=this.attrTest(t);return i&&(r&Tt||!n)?e|ue:i||n?r&Mt?e|ae:e&oe?e|se:oe:ce}}),u(K,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Nt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Lt&&e.push(ie),t&Pt&&e.push(re),e},directionTest:function(t){var e=this.options,r=!0,i=t.distance,n=t.direction,o=t.deltaX,s=t.deltaY;return n&e.direction||(e.direction&Lt?(n=0===o?It:0>o?Et:Ct,r=o!=this.pX,i=Math.abs(t.deltaX)):(n=0===s?It:0>s?Bt:At,r=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=n,r&&i>e.threshold&&n&e.direction},attrTest:function(t){return Z.prototype.attrTest.call(this,t)&&(this.state&oe||!(this.state&oe)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=J(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),u(Q,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&oe)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),u(tt,G,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Qt]},process:function(t){var e=this.options,r=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!i||!r||t.eventType&(Mt|Tt)&&!o)this.reset();else if(t.eventType&kt)this.reset(),this._timer=n(function(){this.state=le,this.tryEmit()},e.time,this);else if(t.eventType&Mt)return le;return ce},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===le&&(t&&t.eventType&Mt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=pt(),this.manager.emit(this.options.event,this._input)))}}),u(et,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&oe)}}),u(rt,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Lt|Pt,pointers:1},getTouchAction:function(){return K.prototype.getTouchAction.call(this)},attrTest:function(t){var e,r=this.options.direction;return r&(Lt|Pt)?e=t.velocity:r&Lt?e=t.velocityX:r&Pt&&(e=t.velocityY),this._super.attrTest.call(this,t)&&r&t.direction&&t.distance>this.options.threshold&&ht(e)>this.options.velocity&&t.eventType&Mt},emit:function(t){var e=J(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),u(it,G,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[te]},process:function(t){var e=this.options,r=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&kt&&0===this.count)return this.failTimeout();if(i&&o&&r){if(t.eventType!=Mt)return this.failTimeout();var s=this.pTime?t.timeStamp-this.pTime<e.interval:!0,a=!this.pCenter||P(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;var l=this.count%e.taps;if(0===l)return this.hasRequireFailures()?(this._timer=n(function(){this.state=le,this.tryEmit()},e.interval,this),oe):le}return ce},failTimeout:function(){return this._timer=n(function(){this.state=ce},this.options.interval,this),ce},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==le&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),nt.VERSION="2.0.4",nt.defaults={domEvents:!1,touchAction:Kt,enable:!0,inputTarget:null,inputClass:null,preset:[[et,{enable:!1}],[Q,{enable:!1},["rotate"]],[rt,{direction:Lt}],[K,{direction:Lt},["swipe"]],[it],[it,{event:"doubletap",taps:2},["tap"]],[tt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var de=1,he=2;ot.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?he:de},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var r,i=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&le)&&(n=e.curRecognizer=null);for(var o=0;o<i.length;)r=i[o],e.stopped===he||n&&r!=n&&!r.canRecognizeWith(n)?r.reset():r.recognize(t),!n&&r.state&(oe|se|ae)&&(n=e.curRecognizer=r),o++}},get:function(t){if(t instanceof G)return t;for(var e=this.recognizers,r=0;r<e.length;r++)if(e[r].options.event==t)return e[r];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(y(e,t),1),this.touchAction.update(),this},on:function(t,e){var r=this.handlers;return s(v(t),function(t){r[t]=r[t]||[],r[t].push(e)}),this},off:function(t,e){var r=this.handlers;return s(v(t),function(t){e?r[t].splice(y(r[t],e),1):delete r[t]}),this},emit:function(t,e){this.options.domEvents&&at(t,e);var r=this.handlers[t]&&this.handlers[t].slice();if(r&&r.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<r.length;)r[i](e),i++}},destroy:function(){this.element&&st(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(nt,{INPUT_START:kt,INPUT_MOVE:xt,INPUT_END:Mt,INPUT_CANCEL:Tt,STATE_POSSIBLE:ne,STATE_BEGAN:oe,STATE_CHANGED:se,STATE_ENDED:ae,STATE_RECOGNIZED:le,STATE_CANCELLED:ue,STATE_FAILED:ce,DIRECTION_NONE:It,DIRECTION_LEFT:Et,DIRECTION_RIGHT:Ct,DIRECTION_UP:Bt,DIRECTION_DOWN:At,DIRECTION_HORIZONTAL:Lt,DIRECTION_VERTICAL:Pt,DIRECTION_ALL:Nt,Manager:ot,Input:k,TouchAction:q,TouchInput:D,MouseInput:W,PointerEventInput:R,TouchMouseInput:U,SingleTouchInput:H,Recognizer:G,AttrRecognizer:Z,Tap:it,Pan:K,Swipe:rt,Pinch:Q,Rotate:et,Press:tt,on:p,off:g,each:s,merge:l,extend:a,inherit:u,bindFn:c,prefixed:b}),typeof define==ct&&define.amd?define(function(){return nt}):"undefined"!=typeof module&&module.exports?module.exports=nt:t.Buzzoola.utils[r]=nt}(window,document,"Hammer"),function(t,e){t.Mustache={},e(t.Mustache)}(window.Buzzoola.utils,function(t){function e(t){return"function"==typeof t}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(t,e){return null!=t&&"object"==typeof t&&e in t}function n(t,e){return f.call(t,e)}function o(t){return!n(m,t)}function s(t){return String(t).replace(/[&<>"'\/]/g,function(t){return v[t]})}function a(e,i){function n(){if(v&&!S)for(;m.length;)delete f[m.pop()];else m=[];v=!1,S=!1}function s(t){if("string"==typeof t&&(t=t.split(_,2)),!g(t)||2!==t.length)throw new Error("Invalid tags: "+t);a=new RegExp(r(t[0])+"\\s*"),d=new RegExp("\\s*"+r(t[1])),h=new RegExp("\\s*"+r("}"+t[1]))}if(!e)return[];var a,d,h,p=[],f=[],m=[],v=!1,S=!1;s(i||t.tags);for(var k,x,M,T,I,E,C=new c(e);!C.eos();){if(k=C.pos,M=C.scanUntil(a))for(var B=0,A=M.length;A>B;++B)T=M.charAt(B),o(T)?m.push(f.length):S=!0,f.push(["text",T,k,k+1]),k+=1,"\n"===T&&n();if(!C.scan(a))break;if(v=!0,x=C.scan(z)||"name",C.scan(y),"="===x?(M=C.scanUntil(w),C.scan(w),C.scanUntil(d)):"{"===x?(M=C.scanUntil(h),C.scan(b),C.scanUntil(d),x="&"):M=C.scanUntil(d),!C.scan(d))throw new Error("Unclosed tag at "+C.pos);if(I=[x,M,k,C.pos],f.push(I),"#"===x||"^"===x)p.push(I);else if("/"===x){if(E=p.pop(),!E)throw new Error('Unopened section "'+M+'" at '+k);if(E[1]!==M)throw new Error('Unclosed section "'+E[1]+'" at '+k)}else"name"===x||"{"===x||"&"===x?S=!0:"="===x&&s(M)}if(E=p.pop())throw new Error('Unclosed section "'+E[1]+'" at '+C.pos);return u(l(f))}function l(t){for(var e,r,i=[],n=0,o=t.length;o>n;++n)e=t[n],e&&("text"===e[0]&&r&&"text"===r[0]?(r[1]+=e[1],r[3]=e[3]):(i.push(e),r=e));return i}function u(t){for(var e,r,i=[],n=i,o=[],s=0,a=t.length;a>s;++s)switch(e=t[s],e[0]){case"#":case"^":n.push(e),o.push(e),n=e[4]=[];break;case"/":r=o.pop(),r[5]=e[2],n=o.length>0?o[o.length-1][4]:i;break;default:n.push(e)}return i}function c(t){this.string=t,this.tail=t,this.pos=0}function d(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function h(){this.cache={}}var p=Object.prototype.toString,g=Array.isArray||function(t){return"[object Array]"===p.call(t)},f=RegExp.prototype.test,m=/\S/,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},y=/\s*/,_=/\s+/,w=/\s*=/,b=/\s*\}/,z=/#|\^|\/|>|\{|&|=|!/;c.prototype.eos=function(){return""===this.tail},c.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var r=e[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r},c.prototype.scanUntil=function(t){var e,r=this.tail.search(t);switch(r){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=e.length,e},d.prototype.push=function(t){return new d(t,this)},d.prototype.lookup=function(t){var r,n=this.cache;if(n.hasOwnProperty(t))r=n[t];else{for(var o,s,a=this,l=!1;a;){if(t.indexOf(".")>0)for(r=a.view,o=t.split("."),s=0;null!=r&&s<o.length;)s===o.length-1&&(l=i(r,o[s])),r=r[o[s++]];else r=a.view[t],l=i(a.view,t);if(l)break;a=a.parent}n[t]=r}return e(r)&&(r=r.call(this.view)),r},h.prototype.clearCache=function(){this.cache={}},h.prototype.parse=function(t,e){var r=this.cache,i=r[t];return null==i&&(i=r[t]=a(t,e)),i},h.prototype.render=function(t,e,r){var i=this.parse(t),n=e instanceof d?e:new d(e);return this.renderTokens(i,n,r,t)},h.prototype.renderTokens=function(t,e,r,i){for(var n,o,s,a="",l=0,u=t.length;u>l;++l)s=void 0,n=t[l],o=n[0],"#"===o?s=this.renderSection(n,e,r,i):"^"===o?s=this.renderInverted(n,e,r,i):">"===o?s=this.renderPartial(n,e,r,i):"&"===o?s=this.unescapedValue(n,e):"name"===o?s=this.escapedValue(n,e):"text"===o&&(s=this.rawValue(n)),void 0!==s&&(a+=s);return a},h.prototype.renderSection=function(t,r,i,n){function o(t){return s.render(t,r,i)}var s=this,a="",l=r.lookup(t[1]);if(l){if(g(l))for(var u=0,c=l.length;c>u;++u)a+=this.renderTokens(t[4],r.push(l[u]),i,n);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)a+=this.renderTokens(t[4],r.push(l),i,n);else if(e(l)){if("string"!=typeof n)throw new Error("Cannot use higher-order sections without the original template");l=l.call(r.view,n.slice(t[3],t[5]),o),null!=l&&(a+=l)}else a+=this.renderTokens(t[4],r,i,n);return a}},h.prototype.renderInverted=function(t,e,r,i){var n=e.lookup(t[1]);return!n||g(n)&&0===n.length?this.renderTokens(t[4],e,r,i):void 0},h.prototype.renderPartial=function(t,r,i){if(i){var n=e(i)?i(t[1]):i[t[1]];return null!=n?this.renderTokens(this.parse(n),r,i,n):void 0}},h.prototype.unescapedValue=function(t,e){var r=e.lookup(t[1]);return null!=r?r:void 0},h.prototype.escapedValue=function(e,r){var i=r.lookup(e[1]);return null!=i?t.escape(i):void 0},h.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.1.2",t.tags=["{{","}}"];var S=new h;t.clearCache=function(){return S.clearCache()},t.parse=function(t,e){return S.parse(t,e)},t.render=function(t,e,r){return S.render(t,e,r)},t.to_html=function(r,i,n,o){var s=t.render(r,i,n);return e(o)?void o(s):s},t.escape=s,t.Scanner=c,t.Context=d,t.Writer=h});var buzz_swfobject=function(){function t(){if(!j){try{var t=O.getElementsByTagName("body")[0].appendChild(m("span"));t.parentNode.removeChild(t)}catch(e){return}j=!0;for(var r=R.length,i=0;r>i;i++)R[i]()}}function e(t){j?t():R[R.length]=t}function r(t){if(typeof N.addEventListener!=I)N.addEventListener("load",function(){N.removeEventListener("load",arguments.callee,!1),t()},!1);else if(typeof O.addEventListener!=I)O.addEventListener("load",function(){O.removeEventListener("load",arguments.callee,!1),t()},!1);else if(typeof N.attachEvent!=I)v(N,"onload",t);else if("function"==typeof N.onload){var e=N.onload;N.onload=function(){e(),t()}}else N.onload=t}function i(){W?n():o()}function n(){var t=O.getElementsByTagName("body")[0],e=m(E);e.setAttribute("type",A);var r=t.appendChild(e);if(r){var i=0;!function(){if(typeof r.GetVariable!=I){var n=r.GetVariable("$version");n&&(n=n.split(" ")[1].split(","),X.pv=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)])}else if(10>i)return i++,void setTimeout(arguments.callee,10);t.removeChild(e),r=null,o()}()}else o()}function o(){var t=H.length;if(t>0)for(var e=0;t>e;e++){var r=H[e].id,i=H[e].callbackFn,n={success:!1,id:r};if(X.pv[0]>0){var o=f(r);if(o)if(!y(H[e].swfVersion)||X.wk&&X.wk<312)if(H[e].expressInstall&&a()){var c={};c.data=H[e].expressInstall,c.width=o.getAttribute("width")||"0",c.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(c.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(c.align=o.getAttribute("align"));for(var d={},h=o.getElementsByTagName("param"),p=h.length,g=0;p>g;g++)"movie"!=h[g].getAttribute("name").toLowerCase()&&(d[h[g].getAttribute("name")]=h[g].getAttribute("value"));l(c,d,r,i)}else u(o),i&&i(n);else w(r,!0),i&&(n.success=!0,n.ref=s(r),i(n))}else if(w(r,!0),i){var m=s(r);m&&typeof m.SetVariable!=I&&(n.success=!0,n.ref=m),i(n)}}}function s(t){var e=null,r=f(t);if(r&&"OBJECT"==r.nodeName)if(typeof r.SetVariable!=I)e=r;else{var i=r.getElementsByTagName(E)[0];i&&(e=i)}return e}function a(){return!U&&y("6.0.65")&&(X.win||X.mac)&&!(X.wk&&X.wk<312)}function l(t,e,r,i){U=!0,k=i||null,x={success:!1,id:r};var n=f(r);if(n){"OBJECT"==n.nodeName?(z=c(n),S=null):(z=n,S=r),t.id=L,(typeof t.width==I||!/%$/.test(t.width)&&parseInt(t.width,10)<310)&&(t.width="310"),(typeof t.height==I||!/%$/.test(t.height)&&parseInt(t.height,10)<137)&&(t.height="137"),O.title=O.title.slice(0,47)+" - Flash Player Installation";var o=X.ie&&X.win?"ActiveX":"PlugIn",s="MMredirectURL="+N.location.toString().replace(/&/g,"%26")+"&MMplayerType="+o+"&MMdoctitle="+O.title;if(typeof e.flashvars!=I?e.flashvars+="&"+s:e.flashvars=s,X.ie&&X.win&&4!=n.readyState){var a=m("div");r+="SWFObjectNew",a.setAttribute("id",r),n.parentNode.insertBefore(a,n),n.style.display="none",function(){4==n.readyState?n.parentNode.removeChild(n):setTimeout(arguments.callee,10)}()}d(t,e,r)}}function u(t){if(X.ie&&X.win&&4!=t.readyState){var e=m("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(c(t),e),t.style.display="none",function(){4==t.readyState?t.parentNode.removeChild(t):setTimeout(arguments.callee,10)}()}else t.parentNode.replaceChild(c(t),t)}function c(t){var e=m("div");if(X.win&&X.ie)e.innerHTML=t.innerHTML;else{var r=t.getElementsByTagName(E)[0];if(r){var i=r.childNodes;if(i)for(var n=i.length,o=0;n>o;o++)1==i[o].nodeType&&"PARAM"==i[o].nodeName||8==i[o].nodeType||e.appendChild(i[o].cloneNode(!0))}}return e}function d(t,e,r){var i,n=f(r);if(X.wk&&X.wk<312)return i;if(n)if(typeof t.id==I&&(t.id=r),X.ie&&X.win){var o="";for(var s in t)t[s]!=Object.prototype[s]&&("data"==s.toLowerCase()?e.movie=t[s]:"styleclass"==s.toLowerCase()?o+=' class="'+t[s]+'"':"classid"!=s.toLowerCase()&&(o+=" "+s+'="'+t[s]+'"'));var a="";for(var l in e)e[l]!=Object.prototype[l]&&(a+='<param name="'+l+'" value="'+e[l]+'" />');n.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+o+">"+a+"</object>",V[V.length]=t.id,i=f(t.id)}else{var u=m(E);u.setAttribute("type",A);for(var c in t)t[c]!=Object.prototype[c]&&("styleclass"==c.toLowerCase()?u.setAttribute("class",t[c]):"classid"!=c.toLowerCase()&&u.setAttribute(c,t[c]));for(var d in e)e[d]!=Object.prototype[d]&&"movie"!=d.toLowerCase()&&h(u,d,e[d]);n.parentNode.replaceChild(u,n),i=u}return i}function h(t,e,r){var i=m("param");i.setAttribute("name",e),i.setAttribute("value",r),t.appendChild(i)}function p(t){var e=f(t);e&&"OBJECT"==e.nodeName&&(X.ie&&X.win?(e.style.display="none",function(){4==e.readyState?g(t):setTimeout(arguments.callee,10)}()):e.parentNode.removeChild(e))}function g(t){var e=f(t);if(e){for(var r in e)"function"==typeof e[r]&&(e[r]=null);e.parentNode.removeChild(e)}}function f(t){var e=null;try{e=O.getElementById(t)}catch(r){}return e}function m(t){return O.createElement(t)}function v(t,e,r){t.attachEvent(e,r),D[D.length]=[t,e,r]}function y(t){var e=X.pv,r=t.split(".");return r[0]=parseInt(r[0],10),r[1]=parseInt(r[1],10)||0,r[2]=parseInt(r[2],10)||0,e[0]>r[0]||e[0]==r[0]&&e[1]>r[1]||e[0]==r[0]&&e[1]==r[1]&&e[2]>=r[2]?!0:!1}function _(t,e,r,i){if(!X.ie||!X.mac){var n=O.getElementsByTagName("head")[0];if(n){var o=r&&"string"==typeof r?r:"screen";if(i&&(M=null,T=null),!M||T!=o){var s=m("style");s.setAttribute("type","text/css"),s.setAttribute("media",o),M=n.appendChild(s),X.ie&&X.win&&typeof O.styleSheets!=I&&O.styleSheets.length>0&&(M=O.styleSheets[O.styleSheets.length-1]),T=o}X.ie&&X.win?M&&typeof M.addRule==E&&M.addRule(t,e):M&&typeof O.createTextNode!=I&&M.appendChild(O.createTextNode(t+" {"+e+"}"))}}}function w(t,e){if(q){var r=e?"visible":"hidden";j&&f(t)?f(t).style.visibility=r:_("#"+t,"visibility:"+r)}}function b(t){var e=/[\\\"<>\.;]/,r=null!=e.exec(t);return r&&typeof encodeURIComponent!=I?encodeURIComponent(t):t}var z,S,k,x,M,T,I="undefined",E="object",C="Shockwave Flash",B="ShockwaveFlash.ShockwaveFlash",A="application/x-shockwave-flash",L="SWFObjectExprInst",P="onreadystatechange",N=window,O=document,F=navigator,W=!1,R=[i],H=[],V=[],D=[],j=!1,U=!1,q=!0,X=function(){var t=typeof O.getElementById!=I&&typeof O.getElementsByTagName!=I&&typeof O.createElement!=I,e=F.userAgent.toLowerCase(),r=F.platform.toLowerCase(),i=r?/win/.test(r):/win/.test(e),n=r?/mac/.test(r):/mac/.test(e),o=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,s=!1,a=[0,0,0],l=null;if(typeof F.plugins!=I&&typeof F.plugins[C]==E)l=F.plugins[C].description,!l||typeof F.mimeTypes!=I&&F.mimeTypes[A]&&!F.mimeTypes[A].enabledPlugin||(W=!0,s=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),a[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),a[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof N.ActiveXObject!=I)try{var u=new ActiveXObject(B);u&&(l=u.GetVariable("$version"),l&&(s=!0,l=l.split(" ")[1].split(","),a=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(c){}return{w3:t,pv:a,wk:o,ie:s,win:i,mac:n}}();(function(){X.w3&&((typeof O.readyState!=I&&"complete"==O.readyState||typeof O.readyState==I&&(O.getElementsByTagName("body")[0]||O.body))&&t(),j||(typeof O.addEventListener!=I&&O.addEventListener("DOMContentLoaded",function(){O.removeEventListener("DOMContentLoaded",arguments.callee,!1),t()},!1),X.ie&&X.win&&(O.attachEvent(P,function(){"complete"==O.readyState&&(O.detachEvent(P,arguments.callee),t())}),N==top&&!function(){if(!j){try{O.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}t();
}}()),X.wk&&!function(){return j?void 0:/loaded|complete/.test(O.readyState)?void t():void setTimeout(arguments.callee,0)}(),r(t)))})(),function(){X.ie&&X.win&&window.attachEvent("onunload",function(){for(var t=D.length,e=0;t>e;e++)D[e][0].detachEvent(D[e][1],D[e][2]);for(var r=V.length,i=0;r>i;i++)p(V[i]);for(var n in X)X[n]=null;X=null;for(var o in buzz_swfobject)buzz_swfobject[o]=null;buzz_swfobject=null})}();return{registerObject:function(t,e,r,i){if(X.w3&&t&&e){var n={};n.id=t,n.swfVersion=e,n.expressInstall=r,n.callbackFn=i,H[H.length]=n,w(t,!1)}else i&&i({success:!1,id:t})},getObjectById:function(t){return X.w3?s(t):void 0},embedSWF:function(t,r,i,n,o,s,u,c,h,p){var g={success:!1,id:r};X.w3&&!(X.wk&&X.wk<312)&&t&&r&&i&&n&&o?(w(r,!1),e(function(){i+="",n+="";var e={};if(h&&typeof h===E)for(var f in h)e[f]=h[f];e.data=t,e.width=i,e.height=n;var m={};if(c&&typeof c===E)for(var v in c)m[v]=c[v];if(u&&typeof u===E)for(var _ in u)typeof m.flashvars!=I?m.flashvars+="&"+_+"="+u[_]:m.flashvars=_+"="+u[_];if(y(o)){var b=d(e,m,r);e.id==r&&w(r,!0),g.success=!0,g.ref=b}else{if(s&&a())return e.data=s,void l(e,m,r,p);w(r,!0)}p&&p(g)})):p&&p(g)},switchOffAutoHideShow:function(){q=!1},ua:X,getFlashPlayerVersion:function(){return{major:X.pv[0],minor:X.pv[1],release:X.pv[2]}},hasFlashPlayerVersion:y,createSWF:function(t,e,r){return X.w3?d(t,e,r):void 0},showExpressInstall:function(t,e,r,i){X.w3&&a()&&l(t,e,r,i)},removeSWF:function(t){X.w3&&p(t)},createCSS:function(t,e,r,i){X.w3&&_(t,e,r,i)},addDomLoadEvent:e,addLoadEvent:r,getQueryParamValue:function(t){var e=O.location.search||O.location.hash;if(e){if(/\?/.test(e)&&(e=e.split("?")[1]),null==t)return b(e);for(var r=e.split("&"),i=0;i<r.length;i++)if(r[i].substring(0,r[i].indexOf("="))==t)return b(r[i].substring(r[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(U){var t=f(L);t&&z&&(t.parentNode.replaceChild(z,t),S&&(w(S,!0),X.ie&&X.win&&(z.style.display="block")),k&&k(x)),U=!1}}}}();(function(){var t=[].slice,e=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty,i=[].indexOf||function(t){for(var e=0,r=this.length;r>e;e++)if(e in this&&this[e]===t)return e;return-1};!function(e,r,i){var n,o,s,a,l,u,c;for(i.Is.BaseClass=function(){function i(){}return i.prototype.on=function(t,e){return this.events||(this.events={}),this.events[t]||(this.events[t]=[]),this.events[t].push(e)},i.prototype.trigger=function(){var e,r,i,n,o;if(r=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],this.events||(this.events={}),this.events[r]){for(i=0,n=this.events[r].length,o=[];n>i;)this.events[r][i].apply(this,e),o.push(i++);return o}},i.prototype.log=function(t){var e;return e=r.createElement("span"),e.style.display="block",e.innerText=t,r.body.appendChild(e)},i.prototype.utils={add_event_listener:function(t,r,i){return i=i||e,i.addEventListener?i.addEventListener(t,r,!1):i.attachEvent("on"+t,r)},remove_event_listener:function(t,r,i){return i=i||e,i.removeEventListener?i.removeEventListener(t,r,!1):i.detachEvent("on"+t,r)},addStyles:function(t){var e,i;return e=r.head||r.getElementsByTagName("head")[0],i=r.createElement("style"),i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(r.createTextNode(t)),e.appendChild(i)},remove_class:function(t,e){var r,i;return r=e.className,i=new RegExp("(\\s|^)"+t+"(\\s|$)"),r=r.replace(i,""),e.className=r,e}},i}(),n=void 0,c=void 0,o=["","moz","ms","webkit"],u=[],s=0,a=o.length;a>s;s++){if(l=o[s],"undefined"!=typeof r[l+"hidden"]){n=""+l+(l?"H":"h")+"idden",c=l+"visibilitychange";break}u.push(void 0)}return u}(window,document,window.Buzzoola),function(t,r,i){return i.Is.AudioManager=function(n){function o(t){this.params=t,this.status={supported:!1,loading:!1,canplaythrough:!1,volume:this.params.volume,buffering:!1,play:!1,muted:!0,seek:!1,currentTime:0},this.config={origin:this.params.origin,timeToBuffer:6},this.initAudio()}return e(o,n),o.prototype.start=function(){var t;return this.soundBuffer?(this.stop(),this.trigger("audio:started"),this.status.play=!0,this.source=this.context.createBufferSource(),this.source.buffer=this.soundBuffer,this.volume=this.context.createGain(),this.oscFix(),this.volume.connect(this.context.destination),this.source.connect(this.volume),this.volume.gain.value=this.status.volume,this.source[this.source.start?"start":"noteOn"](0,this.status.currentTime)):(t=Date.now(),requestAnimationFrame(function(e){return function(){return e.seek(e.status.currentTime+(Date.now()-t)/1e3)}}(this)))},o.prototype.oscFix=function(){var t;return this.context?(t=this.context.createOscillator(),t.type="sine",t.frequency.value=1e5,t[t.start?"start":"noteOn"](),t[t.stop?"stop":"noteOff"]()):void 0},o.prototype.stop=function(){return this.status.play?(this.trigger("audio:paused"),this.status.play=!1,this.volume.gain.value=0,this.source&&this.source[this.source.stop?"stop":"noteOff"](0),this.volume=null,this.source=null):void 0},o.prototype.isMuted=function(){return this.status.muted},o.prototype.setMuted=function(t){return this.status.muted!==t?this.status.muted=t:void 0},o.prototype.getVolume=function(){return this.status.volume},o.prototype.setVolume=function(t,e){return this.status.volume=t,this.volume&&(this.volume.gain.value=t),this.setMuted(!!t),this[e&&t?"start":"stop"](),this.trigger("volume_changed",this.status.volume)},o.prototype.seek=function(t){return this.status.currentTime!==t&&(this.status.currentTime=t,this.status.play)?this.start():void 0},o.prototype.initAudio=function(){var e;return e=this.getSupportedAudioSource(),t.AudioContext=t.AudioContext||t.webkitAudioContext,e&&t.AudioContext?(this.context=new t.AudioContext,this.status.loading=this.status.supported=!0,this.setBuffering(!1,!0),i.utils.loadXHR(this.config.origin+"/media/audio.mp3",function(t){return function(n,o){return t.context.decodeAudioData(o,function(n){return i.utils.add_event_listener("touchstart",function(){var o;return e=t.context.createBufferSource(),e.buffer=n,o=t.context.createGain(),t.oscFix(),o.connect(t.context.destination),e.connect(o),o.gain.value=0,e[e.start?"start":"noteOn"](0,0),i.utils.remove_event_listener("touchstart",arguments.callee,r)},r)})}}(this),{responseType:"arraybuffer"}),i.utils.loadXHR(e,function(t){return function(e,r){return t.context.decodeAudioData(r,function(e){return t.status.canplaythrough=!0,t.status.loading=!1,t.soundBuffer=e,t.setBuffering(t.status.canplaythrough,!0),t.trigger("ready")})}}(this),{responseType:"arraybuffer"})):(this.status.supported=!1,this.status.canplaythrough=!0,this.trigger("ready"))},o.prototype.getSupportedAudioSource=function(){var t;return t=this.checkAudioSupport(),t?t.mp3?this.params.dataFolder+"audio.mp3":t.aac?this.params.dataFolder+"audio.aac":t.ogg?this.params.dataFolder+"audio.ogg":!1:!1},o.prototype.checkAudioSupport=function(){var t,e,i,n;i=r.createElement("audio"),t=!1;try{(t=!!i.canPlayType)&&(t=new Boolean(t),t.aac=i.canPlayType("audio/aac").replace(/^no$/,""),t.ogg=i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),t.mp3=i.canPlayType("audio/mpeg;").replace(/^no$/,""))}catch(n){e=n,this.trigger("error","audio check fail")}return t},o.prototype.checkReady=function(){return this.status.canplaythrough},o.prototype.setBuffering=function(t,e){return null==e&&(e=!0),t!==this.status.buffering?(this.status.buffering=t,e?this.trigger(t?"buffering":"buffered_enough"):void 0):void 0},o}(i.Is.BaseClass)}(window,document,window.Buzzoola),function(t,r,i){return i.Is.ControlsManager=function(t){function r(t){var e,r,n;this.params=t,this.config={SoundControlSmall:!0,PlayPause:!0},this.controls={},r=this.config;for(e in r)n=r[e],n&&(this.controls[e]=new i.Is[e](this.params,this))}return e(r,t),r.prototype.drawControls=function(t){var e,r,i,n;i=this.controls,n=[];for(r in i)e=i[r],n.push(e.draw(t));return n},r.prototype.resize=function(t,e){var r,i,n,o;this.params.width=t,this.params.height=e,n=this.controls,o=[];for(i in n)r=n[i],o.push(r.resize());return o},r}(i.Is.BaseClass),i.Is.SoundControlSmall=function(t){function n(t,e){this.params=t,this.manager=e,this.status={active:this.params.volume},this.params.audioManager.on("volume_changed",function(t){return function(e){return!!e!==t.status.active?t.changeStatus(!!e):void 0}}(this))}return e(n,t),n.prototype.changeStatus=function(t){return this.status.active=t,this.utils.remove_class("buzzplayer-icon-sound-off",this.control),this.utils.remove_class("buzzplayer-icon-sound-on",this.control),this.status.active?this.control.className+=" buzzplayer-icon-sound-on":this.control.className+=" buzzplayer-icon-sound-off"},n.prototype.draw=function(t){var e,n,o;return n=r.createElement("div"),n.style.background="transparent",this.params.overroll||!i.utils.bowser.mobile&&!i.utils.bowser.tablet&&this.params.clickthrough_URL?n.style.width=n.style.height="100px":(n.style.width=this.params.width+"px",n.style.height=this.params.height+"px"),n.style.position="absolute",n.style.cursor="pointer",n.style.zIndex=100,this.foreground=n,t.appendChild(n),e=r.createElement("span"),e.style.zIndex=101,e.style.webkitTransform=e.style.transform="translate3d(0,0,0)",e.style.width="28px",e.style.height="28px",e.style.position="absolute",n.style.right=n.style.bottom=e.style.right=e.style.bottom=0,e.className+=" buzzplayer-icon-rounded buzzplayer-icon buzzplayer-icon-bg-black",o=r.createElement("span"),e.appendChild(o),this.control=e,this.changeStatus(this.status.active),this.initEventHandlers(),t.appendChild(e)},n.prototype.resize=function(){return!this.foreground||this.params.overroll||!i.utils.bowser.mobile&&!i.utils.bowser.tablet&&this.params.clickthrough_URL?void 0:(this.foreground.style.width=this.params.width+"px",this.foreground.style.height=this.params.height+"px")},n.prototype.initEventHandlers=function(){return this.control.addEventListener("click",function(t){return function(){return t.changeStatus(!t.status.active),t.manager.trigger("toggle_sound")}}(this)),this.control.addEventListener("touchstart",function(t){return function(){return t.control.className+=" buzzplayer-icon-bg-black-touch"}}(this),!1),this.control.addEventListener("touchend",function(t){return function(){return t.utils.remove_class("buzzplayer-icon-bg-black-touch",t.control)}}(this),!1),this.foreground.addEventListener("click",function(t){return function(){return t.changeStatus(!t.status.active),t.manager.trigger("toggle_sound")}}(this))},n}(i.Is.BaseClass),i.Is.PlayPause=function(t){function i(t,e){this.params=t,this.manager=e}return e(i,t),i.prototype.draw=function(t){var e,i;return e=r.createElement("div"),e.style.background="rgba(0,0,0,.5)",e.style.width=this.params.width+"px",e.style.height=this.params.height+"px",e.style.position="absolute",e.style.top="0",e.style.zIndex=200,e.style.textAlign="center",e.style.webkitTransform=e.style.transform="translateZ(0)",i="<div style=\" content: ' '; display: inline-block; width: 0; height: 100%; vertical-align: middle; \" ></div> <div style=' display: inline-block;vertical-align: middle;line-height: 1;text-align: left; font-family:Helvetica,Arial,sans-serif; font-size:12px; color:#fff;' > <a style='color:#fff;text-decoration:none;display:block;margin-bottom:5px;white-space:nowrap;'> <span style='display:inline-block;vertical-align:middle;width:30px;height:30px;border-radius:5px;background:rgba(0,0,0,.65);margin-right:5px;border: #fff 1px solid;'> <svg style='width:30px;height:30px;' version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'><defs><path id='SVGID_1_' d='M252.7,122.4c-3.8,2.9-8.9,8.5-8.9,8.5c0,0,103.1-3,135.5,101.1c27.6,90-59.2,186.7-154.3,170.9c-53.3-8.8-92.4-35-113-76.2c-16.5-35.3,31.6-46.7,40.3-20.3c18.1,34.6,59,59.8,99.4,53.1c116.6-19.4,114-179.8-9.9-185.1c6.3,6.3,11.5,11.6,17.8,17.9c10.3,18.6-10.5,37.7-28.7,28.3c1.7,1.2-71.2-67.1-71.2-67.1c0,0,44.8-43.1,67.3-65.2C254.7,72.2,274.2,104.6,252.7,122.4L252.7,122.4z'/></defs><use xlink:href='#SVGID_1_'  overflow='visible' fill-rule='evenodd' clip-rule='evenodd' fill='#FFFFFF'/><clipPath id='SVGID_2_'><use xlink:href='#SVGID_1_'  overflow='visible'/></clipPath></svg> </span> <span style='vertical-align:middle;white-space:nowrap;'>\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0435\u0449\u0435 \u0440\u0430\u0437</span> </a>",this.params.clickthrough_URL&&(i+="<a href='"+this.params.clickthrough_URL+"' target='_blank' style='color:#fff;text-decoration:none;display:block;white-space:nowrap;'> <span style='display:inline-block;vertical-align:middle;width:30px;height:30px;border-radius:5px;background:rgba(0,0,0,.65);margin-right:5px;border: #fff 1px solid;'> <svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'><path fill-rule='evenodd' clip-rule='evenodd' fill='#FFFFFF' stroke='#FFFFFF' stroke-miterlimit='10' d='M292.6,81c109.2,22.6,181.7,131.5,130.7,249.9c-25.4,58.9-77.2,96.7-150.4,108.2C151.3,458.2,40.2,316.9,86.2,198.1c20.4-52.7,58.3-90.8,111.1-111.2C237.8,76.5,249,72,292.6,81L292.6,81z M166.8,250.2c27.5,0,55,0,82.6,0c0-51.8,0-103.6,0-155.5C203.2,103.9,169.3,192.7,166.8,250.2L166.8,250.2z M265.1,250.2c27.5,0,55,0,82.6,0c-1.3-56.5-42.2-147.3-82.6-155.5C265.1,146.6,265.1,198.4,265.1,250.2L265.1,250.2z M151.1,250.2c0.7-70.6,36.4-123.7,64.9-152.5c-69.7,23.5-116.5,67-123.8,152.5C111.7,250.2,131.4,250.2,151.1,250.2L151.1,250.2z M363.3,250.2c19.7,0,39.3,0,59,0c-4.5-17.9-3.9-34.9-9.8-50.2c-18.1-46.4-55-87.6-113-101.3C331.5,133.6,361.1,179.4,363.3,250.2L363.3,250.2z M151.1,266c-19.7,0-39.3,0-59,0c6.9,85.6,54.5,128.9,123.8,152.5C185.5,386.2,153.3,337.5,151.1,266L151.1,266z M166.8,266c1.3,57.1,40.3,144.9,82.6,155.5c0-51.8,0-103.6,0-155.5C221.8,266,194.3,266,166.8,266L166.8,266z M265.1,266c0,51.8,0,103.6,0,155.5c46-15.4,80-97.4,82.6-155.5C320.1,266,292.6,266,265.1,266L265.1,266z M363.3,266c-0.7,69.6-31,112.9-63.9,151.5c56.7-12.9,94.9-55.1,113-101.3c6-15.3,5.2-32.4,9.8-50.2C402.6,266,383,266,363.3,266L363.3,266z'/></svg> </span> <span style='vertical-align:middle;'><span>"+(this.params.action_button_title||"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")+"</span> </a>"),i+="</div>",e.innerHTML=i,this.foreground=e,this.initEventHandlers(),this.hide(),t.appendChild(e)},i.prototype.initEventHandlers=function(){var t,e,r,i,n;if(this.foreground){for(i=this.foreground.querySelectorAll("a"),this.utils.add_event_listener("click",function(t){return function(){return t.manager.trigger("play"),!1}}(this),i[0]),n=[],t=0,e=i.length;e>t;t++)r=i[t],n.push(function(t){return function(e){var r,i;return i=function(){return e.querySelector("span").style.background="rgba(255,0,0,.65)",t.utils.remove_event_listener("mouseover",i,e),t.utils.add_event_listener("mouseout",r,e)},r=function(){return e.querySelector("span").style.background="rgba(0,0,0,.65)",t.utils.add_event_listener("mouseover",i,e),t.utils.remove_event_listener("mouseout",r,e)},t.utils.add_event_listener("mouseover",i,e)}}(this)(r));return n}},i.prototype.resize=function(){return this.foreground?(this.foreground.style.width=this.params.width+"px",this.foreground.style.height=this.params.height+"px"):void 0},i.prototype.hide=function(){return this.foreground?this.foreground.style.display="none":void 0},i.prototype.show=function(){return this.foreground?this.foreground.style.display="block":void 0},i}(i.Is.BaseClass)}(window,document,window.Buzzoola),function(t,r,i){return i.Is.ImageManager=function(t){function n(t){this.params=t,this.params.simImgLoaded=6,this.params.lowImage=!1,this.data={loadedImages:[],loadingImages:[]},this.status={currentImageN:1,loadingImage:0,loading:!0}}return e(n,t),n.prototype.getLoadedImages=function(){return this.data.loadedImages},n.prototype.loadImages=function(){var t;return this.on("loaded_several_images",function(t){return function(){return t.data.loadedImages=t.data.loadedImages.concat(t.data.loadingImages),t.trigger("more_images_ready",t.data.loadingImages),t.loadNextImages()}}(this)),t=Date.now(),i.utils.loadXHR(this.params.dataFolder+this.getImageName(1),function(e){return function(r,n,o){var s;return r?e.trigger("error","not loading image"):(s=Date.now()-t,+o.getResponseHeader("Content-Length")/s<50?(e.params.lowImage=!0,i.utils.loadXHR(e.params.dataFolder+e.getImageName(1),function(t,r,i){return t&&(e.params.lowImage=!1),e.loadNextImages()})):e.loadNextImages())}}(this))},n.prototype.getImageSize=function(t){var e,i,n,o,s,a,l;return e=r.createElement("canvas"),o=e.getContext("2d"),o.imageSmoothingEnabled=o.msImageSmoothingEnabled=o.webkitImageSmoothingEnabled=o.mozImageSmoothingEnabled=!1,o.drawImage(t,0,0,t.width,t.height),s=e.toDataURL().length,i=4*s/3,a=s%3?3-s%3:0,n=2+2*(i+a)/72,l=i+a+n},n.prototype.stopLoadingImages=function(){return this.status.loading=!1},n.prototype.loadNextImages=function(){var t;return t=this.getNextImagesNumsToLoad(),t&&this.status.loading?(this.status.loadingImage=t.endN,this.loadSeveralImages(t.startN,t.endN)):void 0},n.prototype.loadSeveralImages=function(t,e){var r,i,n,o,s,a,l;for(r=e-t+1,o=function(t){return function(e,i,n){return e?setTimeout(function(){return i.src=n.src+"#"+(new Date).getTime()},1e3):(r-=1,t.data.loadingImages[n.n]=i,0>=r?(t.data.loadingImages=Object.keys(t.data.loadingImages).map(function(e){return t.data.loadingImages[e]}),t.trigger("loaded_several_images")):void 0)}}(this),this.data.loadingImages={},l=[],n=i=s=t,a=e;a>=s?a>=i:i>=a;n=a>=s?++i:--i)l.push(this.loadSeveralImage(this.params.dataFolder+this.getImageName(n),o,{n:n}));return l},n.prototype.loadSeveralImage=function(t,e,r){var i;return null==r&&(r={}),i=new Image,r[t]=t,i.onload=function(){return e?e(!1,i,r):void 0},i.onerror=function(t){return e?e(t,i,r):void 0},i.src=t},n.prototype.getNextImagesNumsToLoad=function(){var t,e,r,i;return t=this.status.loadingImage,r=this.params.totalImages,r>t?(i=t+1,e=i+Math.min(r-i,this.params.simImgLoaded-1),{startN:i,endN:e}):!1},n.prototype.getImageName=function(t){var e;return e=("00000"+t.toString()).slice(-5),"video_preview_"+e+(this.params.lowImage?"_low":"")+".jpg"},n}(i.Is.BaseClass)}(window,document,window.Buzzoola),function(r,i,n){return n.Is.Player=function(r){function o(t){this.params=t,this.params.dataFolder&&"/"!==this.params.dataFolder.slice(-1)&&(this.params.dataFolder+="/"),this.playButton=this.params.origin+"/img/play.png",this.videoParams=this.getVideoParams(),this.status={play:!1,ready:!1,drawn:!1,audio_buffering:!1,video_buffering:!1,finish:!1,volume:0,width:this.params.width,height:this.params.height},this.initPlayer()}return e(o,r),o.prototype.volumeOnClick=50,o.prototype.stepVolumeOnClick=5,o.prototype.play=function(t){return this.status.play||this.status.video_buffering||!this.status.ready||(this.status.play=!0,this.status.finish=!1,this.renderer.start(),this.getVolume()&&this.setVolume(this.getVolume()),this.controlsManager.controls.PlayPause.hide(),t)?void 0:this.trigger("play")},o.prototype.pause=function(t){return this.status.play&&(this.status.play=!1,this.renderer.stop(),this.getVolume()&&this.audioManager.stop(),!t)?this.trigger("pause"):void 0},o.prototype.getVolume=function(){return 100*this.audioManager.getVolume()},o.prototype.setVolume=function(t){return t/=100,this.syncAudio(),this.audioManager.setVolume(t,this.status.play)},o.prototype.smoothSetVolume=function(t){var e,r,i,n,o;return n=t&&this.volumeOnClick||0,e=(t?1:-1)*this.stepVolumeOnClick,i=(o=this.getVolume())?o:t?0:this.volumeOnClick,(r=function(o){return function(){return clearTimeout(o.changeVolumeTimer),i+=e,o.setVolume(i),t&&n>i||!t&&i>n?o.changeVolumeTimer=setTimeout(function(){return r()},80):void 0}}(this))()},o.prototype.resize=function(t,e){return this.renderer.resize(t,e),this.controlsManager.resize(t,e)},o.prototype.getCurrentTime=function(){return this.renderer.getCurrentTime()},o.prototype.getTotalTime=function(){return this.videoParams.totalFrames/this.videoParams.fps},o.prototype.syncAudio=function(){var t;return t=this.getCurrentTime()||0,this.audioManager.seek(t)},o.prototype.destroy=function(){return this.pause("notrigger"),this.imageManager.stopLoadingImages()},o.prototype.initPlayer=function(){return this.imageManager=new n.Is.ImageManager({totalImages:this.videoParams.images,dataFolder:this.params.dataFolder}),this.audioManager=new n.Is.AudioManager({dataFolder:this.params.dataFolder,origin:this.params.origin,volume:this.status.volume}),this.renderer=new n.Is.Renderer({videoWidth:this.status.width,videoHeight:this.status.height,framesPerImage:this.videoParams.framesPerImage,step:this.videoParams.step,audio:this.audioManager}),this.controlsManager=new n.Is.ControlsManager({width:this.status.width,height:this.status.height,volume:this.status.volume,origin:this.params.origin,audioManager:this.audioManager,clickthrough_URL:this.params.clickthrough_URL,action_button_title:this.params.action_button_title,overroll:this.params.overroll}),this.drawPlayer(),this.params.thumbnail&&this.imageManager.loadSeveralImage(this.params.thumbnail,function(t){return function(e,r){return e||!r||(t.renderer.setThumbnail(r),t.status.play)?void 0:t.renderer.drawThumbnail()}}(this)),this.initEventHandlers(),this.imageManager.loadImages()},o.prototype.initEventHandlers=function(){return this.imageManager.on("more_images_ready",function(t){return function(e){return t.renderer.addImages(e),t.getVolume()&&t.status.play&&t.setVolume(t.getVolume()),t.checkReadyToPlay(),t.status.video_buffering&&(t.status.video_buffering=!1),t.status.buffering_play?t.play("notrigger"):void 0}}(this)),this.imageManager.on("error",function(e){return function(){var r;return r=1<=arguments.length?t.call(arguments,0):[],e.trigger.apply(e,["error"].concat(r))}}(this)),this.renderer.on("no_more_frames_to_render",function(t){return function(){return t.getCurrentTime()>=t.getTotalTime()?(t.pause("notrigger"),t.renderer.drawThumbnail(),t.controlsManager.controls.PlayPause.show(),t.status.finish=!0,t.trigger("finish")):(t.status.video_buffering=!0,(t.status.buffering_play=t.status.play)?t.pause("notrigger"):void 0)}}(this)),this.audioManager.on("ready",function(t){return function(){return t.checkReadyToPlay()}}(this)),this.controlsManager.on("play",function(t){return function(){return t.play()}}(this)),this.controlsManager.on("toggle_sound",function(t){return function(){return n.utils.bowser.ios?t.setVolume(t.getVolume()?0:100):t.smoothSetVolume(!t.audioManager.isMuted())}}(this))},o.prototype.getVideoParams=function(){return{images:this.params.totalImages,fps:this.params.fps,step:1e3/this.params.fps,framesPerImage:this.params.framesPerImage,totalFrames:this.params.totalFrames}},o.prototype.drawPlayer=function(){return this.videoContainer=i.createElement("div"),this.videoContainer.className+="buzz-is-video-container",this.videoContainer.style.position="relative",this.videoContainer.style["line-height"]="0",this.renderer.drawCanvas(this.videoContainer),this.controlsManager.drawControls(this.videoContainer),this.params.container.appendChild(this.videoContainer),this.status.drawn=!0,this.checkReadyToPlay()},o.prototype.checkReadyToPlay=function(){return this.imageManager.getLoadedImages().length>8&&(this.audioManager.checkReady()||!this.getVolume())&&!this.status.ready&&this.status.drawn?(this.status.ready=!0,this.trigger("ready")):void 0},o.prototype.isBuffering=function(){return this.status.audio_buffering||this.status.video_buffering},o}(n.Is.BaseClass)}(window,document,window.Buzzoola),function(t,r,i){return i.Is.Renderer=function(n){function o(t){this.params=t,this.data={frames:[],lastFrame:null,canvasRender:0},this.status={currentFrameN:-1,timeSpent:0,lastTime:0,start:!1}}return e(o,n),o.prototype.start=function(){return this.stop(),this.status.start=!0,this.status.lastTime=Date.now(),this.videoInterval=this.accurateInterval(this.params.step,this.drawStep.bind(this))},o.prototype.stop=function(){return this.status.start=!1,this.videoInterval?this.videoInterval.cancel():void 0},o.prototype.addImages=function(t){return this.data.frames=this.data.frames.concat(this.getFramesFromImages(t))},o.prototype.getCurrentTime=function(){return this.params.step*(this.status.currentFrameN+1)/1e3},o.prototype.drawCanvas=function(t){var e;return this.container=t,this.canvas&&(null!=(e=this.canvas)?e.parentNode:void 0)&&this.canvas.parentNode.removeChild(this.canvas),this.data.canvasRender=0,this.canvas=r.createElement("canvas"),this.canvas.style.background="transparent",this.canvas.style.zIndex=0,this.container.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.mozImageSmoothingEnabled=!1,this.ctx.webkitImageSmoothingEnabled=!1,this.ctx.msImageSmoothingEnabled=!1,this.ctx.imageSmoothingEnabled=!1,this.resize(this.params.videoWidth,this.params.videoHeight)},o.prototype.resize=function(t,e){return this.params.videoWidth=t,this.params.videoHeight=e,this.canvas?(this.canvas.width=t,this.canvas.height=e,this.data.lastFrame?(this.paintCanvasBlack(),this.drawFrame(this.data.lastFrame)):this.drawThumbnail()):void 0},o.prototype.setThumbnail=function(t){return this.data.thumbnail=t},o.prototype.setPlayButton=function(t){return this.data.playButton=t},o.prototype.getFramesFromImages=function(t){var e,r,i,n,o,s,a,l;for(e=[],i=0,o=t.length;o>i;i++)for(r=t[i],s=n=0,a=this.params.framesPerImage-1;a>=0?a>=n:n>=a;s=a>=0?++n:--n)l=r.width/this.params.framesPerImage,e.push({img:r,posX:s*l,width:l,height:r.height});return e},o.prototype.drawStep=function(){return this.data.lastFrame=this.getNextFrame(),i.utils.bowser.ios&&(this.data.canvasRender+=1)>150&&this.drawCanvas(this.container),this.data.lastFrame?this.drawFrame(this.data.lastFrame):this.trigger("no_more_frames_to_render")},o.prototype.getNextFrame=function(){return this.status.currentFrameN+=1,this.status.currentFrameN>this.data.frames.length&&this.status.start&&(this.status.currentFrameN=0),this.data.frames[this.status.currentFrameN]||!1},o.prototype.logDesync=function(){var t,e;return t=(new Date).getTime(),this.status.timeSpent+=t-this.status.lastTime,this.status.lastTime=t,e=this.params.step*this.status.currentFrameN},o.prototype.drawFrame=function(t){var e;return e=this.getPositionFrame(t.width,t.height),this.ctx.drawImage(t.img,t.posX,0,t.width,t.height,e[0],e[1],e[2],e[3])},o.prototype.drawThumbnail=function(){var t,e;return this.paintCanvasBlack(),(e=this.data.thumbnail)?(t=[e,0,0,e.width,e.height,0,0,this.params.videoWidth,this.params.videoHeight],this.ctx.drawImage.apply(this.ctx,t)):void 0},o.prototype.accurateInterval=function(e,r){var n,o,s,a,l,u;return"function"==typeof e&&(a=[e,r],r=a[0],e=a[1]),i.utils.bowser.ios?(s=Date.now(),n=!1,l=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,o=t.cancelAnimationFrame||t.mozCancelAnimationFrame,u=function(){return s-Date.now()<=0&&(s+=e,r()),n?void 0:u.timeout=l(u)},u.cancel=function(){return n=!0,o(u.timeout)}):(s=Date.now()+e,u=function(){return s+=e,u.timeout=setTimeout(u,s-Date.now()),r()},u.cancel=function(){return clearTimeout(u.timeout)}),u(),u},o.prototype.getPositionFrame=function(t,e){var r,i,n,o,s;return r=this.params.videoWidth/this.params.videoHeight-t/e,r>0?(i=this.params.videoHeight,s=t/e*i,n=this.params.videoWidth/2-s/2,o=0):0>r?(s=this.params.videoWidth,i=e/t*s,n=0,o=this.params.videoHeight/2-i/2):(s=this.params.videoWidth,i=this.params.videoHeight,n=0,o=0),[Math.round(n),Math.round(o),s,i]},o.prototype.paintCanvasBlack=function(){return this.ctx.clearRect(0,0,this.params.videoWidth,this.params.videoHeight),this.ctx.rect(0,0,this.params.videoWidth,this.params.videoHeight),this.ctx.fillStyle="black",this.ctx.fill()},o}(i.Is.BaseClass)}(window,document,window.Buzzoola),function(e,r,i){return i.Modules.BaseAPIEventSender=function(){function e(e){var r,n,o,s;this.core=e,this.allowedEvents=this.allowEvents[this.core.loaded_data.content_type]||[],this.core.options.parent_core&&this.allowedEvents.splice(this.allowedEvents.indexOf("player_seen"),1),o=this.onEvents,n=function(e){return function(r,n){return e.core.on(r,function(){var r,o;return r=1<=arguments.length?t.call(arguments,0):[],o=i.utils.isFunction(n)?n.apply(e,r):n,e.sendEvent.apply(e,[].concat(o,r))})}}(this);for(r in o)s=o[r],n(r,s);this.init&&this.init.apply(this,Array.prototype.slice.call(arguments))}return e.prototype.sendEvent=function(){var e,r,i,n;return r=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],-1!==this.allowedEvents.indexOf(r)?(n=(this.paramsEventData||{})[r],i=n?n.apply(this,e):{},this.core.callStrategy("api:sendEvent",r,this.core.state.slice||0,i)):void 0},e}()}(window,document,Buzzoola),function(e,r,n){return n.Modules.BaseModule=function(){function e(t){this.core=t,this.initEventHandlers(),this.initStrategies(),this.init&&this.init.apply(this,Array.prototype.slice.call(arguments))}return e.prototype.initEventHandlers=function(){var t,e,r,i;if(this.handlesEvents){r=this.handlesEvents,i=[];for(t in r)e=r[t],i.push(this.core.on(t,function(t){return function(e,r){return function(){return r.apply(t,Array.prototype.slice.call(arguments))}}}(this)(t,e)));return i}},e.prototype.callStrategy=function(t){return i.call(this.callsStrategies,t)>=0?this.core.callStrategy.apply(this.core,Array.prototype.slice.call(arguments)):void 0},e.prototype.trigger=function(t){return i.call(this.triggersEvents,t)>=0?this.core.trigger.apply(this.core,Array.prototype.slice.call(arguments)):void 0},e.prototype.initStrategies=function(){var e,r,i,n,o;if(this.addsStrategies){for(i=this.addsStrategies,n=[],e=0,r=i.length;r>e;e++)o=i[e],n.push(this.core.addStrategy(o[0],o[1],function(e){return function(r){return"string"==typeof r&&(r=e[r]),function(){var i;return i=1<=arguments.length?t.call(arguments,0):[],r.apply(e,i)}}}(this)(o[2])));return n}},e}()}(window,document,Buzzoola),function(t,r,i){return i.Modules.BaseShareButtons=function(r){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,r),n.prototype.triggersEvents=["share_button:clicked"],n.prototype.init=function(){var e;return this.myShareFqdn={dev:"http://devmy.buzzoola.com",prod:"http://my.buzzoola.com",debug:"http://devmy.buzzoola.com"}[this.core.environment],this.buzzHash=this.core.loaded_data.hash_to_embed,this.parentFqdn=t.BUZZOOLA.hosted,this.content=this.core.loaded_data.main_content,this.contentType=this.core.loaded_data.content_type,this.title=this.core.loaded_data.title,this.shareButtons=this.core.loaded_data.share_buttons,this.sideShareButtons=this.core.params.side_share_buttons?this.core.params.side_share_buttons:!this.core.loaded_data.share_panel_position||"left"!==(e=this.core.loaded_data.share_panel_position)&&"top"!==e&&"right"!==e&&"bottom"!==e?"right":this.core.loaded_data.share_panel_position,this.hostedFqdn={facebook:"facebook.com",vkontakte:"vk.com",twitter:"twitter.com",moimir:"moimir.mail.ru",odnoklassniki:"odnoklassniki.ru"}},n.prototype.share=function(t){var e,r;switch(r="",r="youtube_id"!==this.contentType?encodeURIComponent(this.myShareFqdn+"/tube/play/"+this.buzzHash+"? parentFQDN="+this.parentFqdn+"%26 hostedFQDN="+this.hostedFqdn[t]):"http://www.youtube.com/watch?v="+this.content,e="",t){case"facebook":e="http://www.facebook.com/sharer/sharer.php?u="+r;break;case"vkontakte":e="http://vk.com/share.php?url="+r;break;case"twitter":e="http://share.yandex.ru/go.xml?url="+r+"&title="+encodeURIComponent(this.title)+"&service=twitter";break;case"moimir":e="http://connect.mail.ru/share?share_url="+r;break;case"odnoklassniki":e="http://www.odnoklassniki.ru/dk?st.cmd=addShare&st._surl="+r;break;default:return}return this.trigger("share_button:clicked",t),i.utils.openLink(e,!1,this.core.params.is_ios)},n}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,e,r){var i,n,o;return i=function(){
return this.core.container&&(this.core.wrap_html&&this.core.wrap_html.parentElement&&this.core.container.removeChild(this.core.wrap_html),"overroll"===this.moduleName?this.removeForeground():this.foreground&&this.foreground.parentElement&&this.core.container.removeChild(this.foreground),this.core.container.style.width=this.core.container.style.height=""),this.stopDestructionTimer()},o=function(){var t;return t=this.callStrategy(this.moduleName+":getWaitAndDestroyIfInactiveTime")||this.defaultWaitAndDestroyIfInactiveTime,this.inactivityDestructionTimer=setTimeout(function(e){return function(){return setTimeout(function(){return e.trigger(e.moduleName+":destroy_inactive")},0),e.core.destroy(),e.core.log("Destroyed for inactivity over "+t+" seconds")}}(this),1e3*t)},n=function(){return clearTimeout(this.inactivityDestructionTimer)},r.Modules.Mixins.Destruction=function(t){return t.destroy=i,t.waitAndDestroyIfInactive=o,t.stopDestructionTimer=n}}(window,document,Buzzoola),function(t,e,r){var i,n,o,s;return i=["onwheel","ontouchmove"],n=function(){var e,r,n,o;for(o=[],r=0,n=i.length;n>r;r++)e=i[r],o.push(t[e]=this.preventDefault);return o},s=function(){var e,r,n,o;for(o=[],r=0,n=i.length;n>r;r++)e=i[r],o.push(t[e]=null);return o},o=function(t){return t=t||window.event,t.preventDefault&&t.preventDefault(),t.returnValue=!1},r.Modules.Mixins.ScrollLock=function(t){return t.lockScroll=n,t.releaseScroll=s,t.preventDefault=o}}(window,document,Buzzoola),function(r,i,n){return n.Modules.API=function(i){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,i),o.prototype.triggersEvents=["api:data_loaded","api:load_data","api:got_uuid","error"],o.prototype.addsStrategies=[["api:loadData",0,"loadData"],["api:sendEvent",0,"sendEvent"]],o.prototype.callsStrategies=["api:sendEvent"],o.prototype.requestDictionary={external:"extra_data",slugname:"slugname"},o.prototype.init=function(){return this.sendedEvents=[],(this.core.options.parent_core||this.core.options.notSendRequestCtor)&&(this.core.addStrategy("api:loadData",1,function(t){return function(){return t.prepareData()}}(this)),this.core.options.parent_core)?this.core.addStrategy("api:sendEvent",1,function(e){return function(){var r,i,o;return r=1<=arguments.length?t.call(arguments,0):[],i=function(){switch(this.core.loaded_data.slugname){case null:case void 0:return{};default:return{slugname:this.core.loaded_data.slugname}}}.call(e),r[2]?r[2]=n.utils.extend(r[2],i):r.push(i),null!=(o=e.core.options.parent_core.callStrategy)?o.apply(e.core.options.parent_core,["api:sendEvent"].concat(r)):void 0}}(this)):void 0},o.prototype.prepareData=function(){var t,e,i,o,s,a,l,u,c,d;for(t={},i=[],this.adn_data&&i.push({custom_html:this.adn_data.custom_html||"",custom_js:this.adn_data.custom_js||"",video_hash:this.adn_data.creative_hash,creative_hash:this.adn_data.creative_hash,description:this.adn_data.description,event_url:this.adn_data.event_url,title:this.adn_data.title,sponsor_link:this.adn_data.sponsor_link,sponsor_name:this.adn_data.sponsor_name,width:parseInt(this.adn_data.width,10),height:parseInt(this.adn_data.height,10),branding_template:-1===this.adn_data.branding_template.indexOf("/templates/main/")?this.adn_data.branding_template.replace(/^http(s?):/g,this.core.protocol):""}),this.ctor_data&&i.push({hash_to_embed:this.ctor_data.hash_to_embed,auto_play:+this.ctor_data.auto_play,duration:this.ctor_data.duration,soc_share_url:this.ctor_data.soc_share_url,share_buttons:this.ctor_data.share_buttons,ya_id:this.ctor_data.ya_id,content:this.ctor_data.content,content_type:this.ctor_data.content_type,action_button_title:this.ctor_data.action_button_title,clickthrough_URL:this.ctor_data.click_event_url,sponsor_logo:this.ctor_data.logo_url,share_panel_position:this.ctor_data.share_panel_position,cr_id:this.ctor_data.cr_id,c_id:this.ctor_data.c_id,tracking_url:this.ctor_data.tracking_url,overlay:this.ctor_data.overlay,overlay_start_after:this.ctor_data.overlay_start_after,thumbnail:this.ctor_data.thumbnail,player_show_skip_button_before_play:!!this.ctor_data.player_show_skip_button_before_play,player_show_skip_button_seconds:+this.ctor_data.player_show_skip_button_seconds,player_show_panels:+this.ctor_data.player_show_panels,uuid:this.ctor_data.uuid,iframe_domains:this.ctor_data.iframe_domains}),i.push((null!=(l=this.core.options)&&null!=(u=l.parent_core)?u.loaded_data:void 0)||r.bzextenddata,null!=(c=this.core.options)?c.data:void 0),o=0,s=i.length;s>o;o++)a=i[o],a&&(a.content&&(a.content=function(){var t;try{return n.utils.JSON.parse(a.content)}catch(t){return e=t,a.content}}(),a.main_content=(null!=(d=a.content)?d.main_content:void 0)||a.content||""),t=n.utils.extend(t,a));return this.apiEventUrl=t.event_url,t.sponsor_link&&(t.clickthrough_URL=t.sponsor_link),this.triggerGotUUID(t.uuid),this.core.log("Player Data Loaded",t),this.core.loaded_data=t,this.triggerGotUUID(t.uuid),this.trigger("api:data_loaded",t)},o.prototype.loadData=function(){return this.trigger("api:load_data"),this.loadAdnData()},o.prototype.triggerGotUUID=function(t){return!this.triggeredGotUUID&&t&&"${UUID}"!==t?(this.trigger("api:got_uuid",t),this.triggeredGotUUID=!0):void 0},o.prototype.loadAdnData=function(){return n.utils.loadXHR(this.core.params.apiUrl+"/adn/"+this.core.params.content+"?width="+parseInt(this.core.params.width,10)+"&height="+parseInt(this.core.params.height,10)+"&rand="+Math.round(1e6*Math.random()),function(t){return function(e,r){var i;if(e)return t.trigger("error","not loaded adn data");try{t.adn_data=n.utils.JSON.parse(r)}catch(i){e=i,t.adn_data={error:e}}return t.adn_data.uuid&&t.triggerGotUUID(t.adn_data.uuid),t.adn_data.event_url?(t.apiEventUrl=t.adn_data.event_url,t.loadCtorData()):t.trigger("error","nobanner probably")}}(this),{withCredentials:!0,timeout:3e3})},o.prototype.loadCtorData=function(){return this.sendEvent("ctor",0,{},function(t){return function(e){var r,i;try{t.ctor_data=n.utils.JSON.parse(e),t.ctor_data.uuid&&t.triggerGotUUID(t.ctor_data.uuid)}catch(i){r=i,t.trigger("error","nobanner probably"),t.ctor_data={error:r}}return t.prepareData()}}(this))},o.prototype.getSendEventUrl=function(t,e,r){var i,n,o;if(n="",r)for(o in r)i=this.requestDictionary[o],i&&(n+=-1===n.indexOf("?")?"?":"&",n+=i+"="+r[o]);return""+decodeURIComponent(this.apiEventUrl)+t+"/"+e+n},o.prototype.sendEvent=function(t,e,r,i){var o;return null==r&&(r={}),!this.core.state.error&&this.apiEventUrl&&(o=this.getSendEventUrl(t,e,r),-1===this.sendedEvents.indexOf(o))?n.utils.loadXHR(o,function(n){return function(s,a){return s?setTimeout(function(){return n.sendEvent(t,e,r,i)},1e3):(n.sendedEvents.push(o),n.core.log.call(n.core,"Send event",t,e,r),i?i(a):void 0)}}(this),{withCredentials:!0,timeout:3e3}):void 0},o}(n.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Branding=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.triggersEvents=["warning","remote_module_ready"],r.prototype.handlesEvents={remote_module_ready:function(){return this.stopTimeoutTriggerRemoteModuleReady()}},r.prototype.init=function(){var t;return this.brandingUrl=this.core.loaded_data.branding_template,"/"!==this.brandingUrl.slice(-1)&&(this.brandingUrl+="/"),this.jsUrl=this.brandingUrl+"index.js",t=this.brandingUrl.split("/"),this.brandingModuleName=t[t.length-2],i.utils.loadScript(this.jsUrl,function(t){return function(e){var r;return e?(t.trigger("warning","not loaded "+t.jsUrl),t.trigger("remote_module_ready")):(r={},r[t.brandingModuleName]=!0,i.utils.initModules(t.core,r),t.startTimeoutTriggerRemoteModuleReady())}}(this))},r.prototype.startTimeoutTriggerRemoteModuleReady=function(){return this.stopTimeoutTriggerRemoteModuleReady(),this.timeoutTriggerRemoteModuleReady=setTimeout(function(t){return function(){return t.trigger("remote_module_ready")}}(this),3e3)},r.prototype.stopTimeoutTriggerRemoteModuleReady=function(){return clearTimeout(this.timeoutTriggerRemoteModuleReady)},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.CloseButton=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.triggersEvents=["close_button:drawn","close_button:click"],n.prototype.addsStrategies=[["close_button:get_button",0,"getButton"],["close_button:get_target",0,"getTarget"],["close_button:is_shown",0,"isShown"],["close_button:render",0,"render"],["close_button:show",0,"showDefaultStrategy"],["close_button:show_timer_tick",0,"showTimerTick"],["close_button:handle_click",0,"handleClick"]],n.prototype.callsStrategies=["widget:getCurrentTime","widget:getTotalTime","close_button:get_target","close_button:is_shown","close_button:render","close_button:show","close_button:show_timer_tick","close_button:handle_click"],n.prototype.handlesEvents={"expandable:shown":function(){return this.isVideo?void 0:this.callStrategy("close_button:render")},"overroll:shown":function(){return this.isVideo?void 0:this.callStrategy("close_button:render")},"fullscreen:shown":function(){return this.isVideo?void 0:this.callStrategy("close_button:render")},"event:state":function(t){if(this.isVideo)switch(t){case"ready":return this.calcShowSkipSeconds(),this.draw();case"start":return this.hide(),this.startShowTimer();case"pause":return this.state="paused",clearInterval(this.timer);case"play":if("paused"===this.state)return this.state="playing",this.startShowTimer()}}},n.prototype.init=function(){return this.isVideo="video"===this.core.params.behavior,this.tick=0,this.showCloseButton=this.core.params.expandable?!1:this.core.loaded_data.player_show_skip_button_before_play,this.isVideo?this.state="":this.calcShowSkipSeconds()},n.prototype.draw=function(){return this.callStrategy("close_button:render"),this.showCloseButton&&(0===this.showSkipSeconds?this.show():this.callStrategy("close_button:show_timer_tick",this.showSkipSeconds,0,this.closeButton)),this.trigger("close_button:drawn")},n.prototype.render=function(t){var e;return t||(t=this.callStrategy("close_button:get_target")),e=r.createElement("div"),e.className="buzz__skip__button buzz__hidden buzz__not__allowed",this.isVideo||i.utils.add_class("transparent",e),e.innerHTML='<div class="buzz__skip__button__cross"></div>\n<div class="buzz__skip__button__text"></div>',t.appendChild(e),e.onmouseover=function(){return i.utils.add_class("hovered",e)},e.onmouseout=function(){return i.utils.remove_class("hovered",e)},this.closeButton=e,this.closeButtonText=e.querySelector(".buzz__skip__button__text"),this.isVideo||this.startShowTimer(),e},n.prototype.isShown=function(){return this.showCloseButton},n.prototype.getButton=function(){return this.closeButton},n.prototype.showDefaultStrategy=function(){var t;return this.closeButton?(this.core.params.expandable?i.utils.add_class("image",this.closeButton):(t="\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c",null!=this.closeButtonText.innerText?this.closeButtonText.innerText=t:this.closeButtonText.textContent=t,i.utils.add_class("text",this.closeButton)),i.utils.remove_class("buzz__not__allowed",this.closeButton),i.utils.remove_class("buzz__hidden",this.closeButton)):void 0},n.prototype.show=function(t){return this.showCloseButton=!0,this.initCloseButtonClickHandler(),this.callStrategy("close_button:show",this.closeButton,t)},n.prototype.hide=function(){return this.showCloseButton=!1,this.closeButton?i.utils.add_class("buzz__hidden",this.closeButton):void 0},n.prototype.getTarget=function(){return this.isVideo&&"fullscreen"!==this.core.state.format?this.core.wrap:this.core.wrap_html},n.prototype.initCloseButtonClickHandler=function(){return this.closeButton&&!this.initialHandlersCloseButton?(this.initialHandlersCloseButton=!0,i.utils.add_event_listener("click",function(t){return function(e){return t.callStrategy("close_button:handle_click",e)}}(this),this.closeButton)):void 0},n.prototype.handleClick=function(t){return this.closeButton.className.indexOf("buzz__not__allowed")>=0?void 0:this.core.params.overroll||"fullscreen"===this.core.state.format?this.core.destroy():(this.core.collapse(!0),setTimeout(function(t){return function(){return t.trigger("close_button:click")}}(this),0))},n.prototype.startShowTimer=function(){var t;if(!this.isVideo||!this.showCloseButton)return t=this.tick++,t>=this.showSkipSeconds?this.show():(this.callStrategy("close_button:show_timer_tick",this.showSkipSeconds,t,this.closeButton),this.timer=setTimeout(function(t){return function(){return t.startShowTimer()}}(this),1e3))},n.prototype.showTimerTick=function(t,e){var r,n;if(this.closeButton&&!this.core.params.expandable)return n=t-e,(!n||0>n)&&(n=0),r="video"===this.core.params.behavior?"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443 \u0447\u0435\u0440\u0435\u0437 "+n+" \u0441\u0435\u043a.":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430: \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c "+n+" \u0441\u0435\u043a.",null!=this.closeButtonText.innerText?this.closeButtonText.innerText=r:this.closeButtonText.textContent=r,i.utils.add_class("text",this.closeButton),i.utils.remove_class("buzz__hidden",this.closeButton),i.utils.add_class("buzz__not__allowed",this.closeButton)},n.prototype.calcShowSkipSeconds=function(){var t,e,r;return this.showSkipSeconds=this.core.loaded_data.player_show_skip_button_seconds||0,this.isVideo?(t=this.callStrategy("widget:getTotalTime"),0>=t&&(t=this.core.loaded_data.duration||1),t=0|t,this.showSkipSeconds=this.showSkipSeconds>=0?this.showSkipSeconds:-2===this.showSkipSeconds?t:0===this.showSkipSeconds?1:(t>180?(r=.1*t,e=.2*t):t>60?(r=.1*t,e=.6*t):t>40?(r=.2*t,e=.9*t):(r=.3*t,e=t),Math.ceil(r+(e-r)*Math.random()))):this.showSkipSeconds<0?this.showSkipSeconds=0:void 0},n}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Cookie=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.triggersEvents=["cookie:loaded"],n.prototype.addsStrategies=[["cookie:load",0,"loadCookie"]],n.prototype.init=function(){var t;return this.id=this.core.params.id+i.utils.guid(),this.iframeDomain=this.core.params.origin,this.iframeUrl=this.iframeDomain+"/cookie_iframe.html",this.cookieLoaded=!1,t=function(t){return function(e){return t.onMessage.call(t,e)}}(this),i.utils.add_event_listener("message",t),this.core.on("before:destroyed",function(){return i.utils.remove_event_listener("message",t)})},n.prototype.createIframe=function(t){var e;e=r.createElement("iframe"),e.setAttribute("frameborder","0"),e.setAttribute("scrolling","no"),e.setAttribute("height","0"),e.setAttribute("width","0"),e.style.visibility="hidden",e.style.display="none",e.src=this.iframeUrl+"?id="+this.id,(t||this.core.embed_container).appendChild(e)},n.prototype.loadCookie=function(){return this.createIframe()},n.prototype.onMessage=function(t){var e,r,n;if(this.iframeDomain.match(t.origin))try{if(e=i.utils.Base64.decode(t.data),e=i.utils.JSON.parse(e),e.id!==this.id)return;e.hash&&(this.core.params.content=e.hash),this.cookieLoaded||this.trigger("cookie:loaded"),this.cookieLoaded=!0}catch(n){r=n,this.trigger("error","cookie not loaded")}},n}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.CustomHtmlWrap=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.triggersEvents=["warning"],n.prototype.addsStrategies=[["get_wrap",10,"getWrap"]],n.prototype.getWrap=function(){var t,e;return e=this.core.loaded_data.custom_html,e=i.utils.Mustache.render(e,this.core.loaded_data),RegExp(/buzz_code/g).test(e)?(this.core.embed_container.style.margin=0,t=r.createElement("div"),t.innerHTML=e,t.style.position="relative",t):(this.trigger("warning","in custom html is not defined div.buzz_code"),this.core.callStrategyByMaxPriority("get_wrap",9))},n}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.CustomJs=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.handlesEvents={drawn:function(){var t;return this.core.loaded_data.custom_js?(t="(function(id){"+this.core.loaded_data.custom_js+"})('"+this.core.params.id+"')",i.utils.embedScript(t,this.core.wrap)):void 0}},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.DefaultSize=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.addsStrategies=[["get_video_size",0,function(t,e){return{width:t,height:e}}]],r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Destroy=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.addsStrategies=[["destroy",0,"destroy"]],r.prototype.destroy=function(){var t,e;return(null!=(t=this.core)&&null!=(e=t.container)?e.parentNode:void 0)?this.core.container.parentNode.removeChild(this.core.container):void 0},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Expandable=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.triggersEvents=["expandable:shown"],r.prototype.callsStrategies=["resize:calcWidth","resize:calcHeight","wrap:height"],r.prototype.handlesEvents={drawn:function(){return this.core.container.className+=" buzz-collapsed",this.core.wrap_html.style.overflow="hidden",this.core.wrap_html.style.height="0px"},"engagement:seenFirstTime":function(){return i.utils.transitionHeight(this.core.wrap_html,this.callStrategy("resize:calcHeight")+20,function(t){return function(){return t.core.wrap_html.style.height="inherit",t.core.wrap_html.style.overflow="",i.utils.remove_class("buzz-collapsed",t.core.container),t.trigger("expandable:shown")}}(this))}},r.prototype.init=function(){return this.core.state.format="expandable"},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.FacetzUserTracker=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.handlesEvents={"api:got_uuid":function(t){return this.loadScript(t)}},r.prototype.loadScript=function(t){var e,r,n,o;return(e=this.core.params.content||(null!=(r=this.core)&&null!=(n=r.loaded_data)?n.creative_hash:void 0))?(o={dev:"devbapi",prod:"bapi",debug:"devbapi",test:"devbapi"}[this.core.environment],i.utils.loadXHR(this.core.protocol+"//"+o+".buzzoola.com/dca?hash="+e,function(e){return function(r,n){var o,s,a,l,u;if(r)return e.logError();try{o=JSON.parse(n)}catch(c){e.logError()}if(null!=o){a=[];for(s in o)l=o[s],u="(function(userId){"+l+"})('"+t+"')",a.push(i.utils.embedScript(u,e.core.wrap));return a}}}(this),{withCredentials:!0})):void 0},r.prototype.logError=function(){return this.core.log("facefail")},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){var n,o;return n=i.Modules.Mixins.Destruction,o=i.Modules.Mixins.ScrollLock,i.Modules.FullscreenAd=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.triggersEvents=["fullscreen:shown"],i.prototype.addsStrategies=[["destroy",5,"destroy"],["get_wrap",40,"getWrap"],["fullscreen:getWaitAndDestroyIfInactiveTime",0,function(){return this.defaultWaitAndDestroyIfInactiveTime}],["fullscreen:stopDestructionTimer",0,"stopDestructionTimer"]],i.prototype.callsStrategies=["get_wrap","fullscreen:getWaitAndDestroyIfInactiveTime","fullscreen:stopDestructionTimer","resize:call"],i.prototype.handlesEvents={drawn:function(){return this.lockScroll(),"video"===this.core.params.behavior?this.defaultWaitAndDestroyIfInactiveTime=60:this.show()},"event:state":function(t){switch(t){case"ready":return this.show();case"start":return this.callStrategy("fullscreen:stopDestructionTimer");case"finish":return this.core.destroy()}},destroyed:function(){return this.releaseScroll()}},i.prototype.defaultWaitAndDestroyIfInactiveTime=30,i.prototype.wrapContainer="wrap_html",i.prototype.moduleName="fullscreen",i.prototype.init=function(){return this.isShown=!1},i.prototype.show=function(){return this.isShown?void 0:(this.isShown=!0,this.callStrategy("resize:call"),this.core.wrap_html.style.visibility="visible",this.waitAndDestroyIfInactive(),this.trigger("fullscreen:shown"))},i.prototype.getWrap=function(){var t,e,i,n,o,s,a,l;return i=r.createElement("div"),i.style.cssText="visibility: hidden; background-color: #000000; width: 100%; height: 100%; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 16777271;",l=!!this.core.loaded_data.custom_html,o=!l&&(null!=(a=this.core.loaded_data.clickthrough_URL)?a.length:void 0)>0,o&&(t=this.core.loaded_data.clickthrough_URL,s="video"===this.core.params.behavior),n='<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no, minimal-ui">',o&&s&&(n+='<a href="'+t+'" target="blank"\n	class="buzz__fullscreen__install__btn video">\n	<div class="buzz__fullscreen__install__btn__text">'+(this.core.loaded_data.action_button_title||"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")+"</div>\n</a>"),n+='<div class="buzz__fullscreen">\n	<div class="buzz__fullscreen__centered">',l||(n+="<div class='buzz_code'></div>",o&&!s&&(n+='<a href="'+t+'" target="blank"\n	class="buzz__fullscreen__install__btn default"></a>')),n+="</div></div>",i.innerHTML=n,l&&(e=i.querySelector(".buzz__fullscreen__centered"),e.appendChild(this.core.callStrategyByMaxPriority("get_wrap",39))),i},i}(i.Modules.BaseModule),n(i.Modules.FullscreenAd.prototype),o(i.Modules.FullscreenAd.prototype)}(window,document,Buzzoola),function(t,r,i){return i.Modules.HrefHandler=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.handlesEvents={drawn:function(){return setTimeout(function(t){return function(){return t.initHrefHandlers()}}(this),0)},"before:destroyed":function(){return this.destroyHrefHandlers()}},r.prototype.initHrefHandlers=function(){var t,e,r,n,o;for(this.aElements=this.core.wrap_html.querySelectorAll("a"),n=this.aElements,o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(i.utils.add_event_listener("click",function(t){return function(e){return t.replaceDefaultLogic(e)}}(this),t));return o},r.prototype.destroyHrefHandlers=function(){var t,e,r,n,o;if(this.aElements){for(n=this.aElements,o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(i.utils.remove_event_listener("click",this.replaceDefaultLogic,t));return o}},r.prototype.replaceDefaultLogic=function(t){var e,r;return t=t||window.event,t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),null!=t.currentTarget&&(e=t.currentTarget.getAttribute("href"),/^http(s?):/g.test(e))?(t.preventDefault(),i.utils.openLink(e,("native"===(r=this.core.state.format)||"expandable"===r)&&"tgb"===this.core.params.behavior&&(i.utils.bowser.mobile||i.utils.bowser.tablet),this.core.params.is_ios)):void 0},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.ImageOnHover=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.addsStrategies=[["get_wrap",5,"getWrap"]],n.prototype.handlesEvents={got_wrap:function(){return this.hideWrap(),this.onHover=function(t){return function(){return t.showWrap(),i.utils.remove_event_listener("mouseover",t.onHover,t.core.wrap_html),i.utils.add_event_listener("mouseout",t.onOut,t.core.wrap_html)}}(this),this.onOut=function(t){return function(){return t.hideWrap(),i.utils.add_event_listener("mouseover",t.onHover,t.core.wrap_html),i.utils.remove_event_listener("mouseout",t.onOut,t.core.wrap_html)}}(this),i.utils.add_event_listener("mouseover",this.onHover,this.core.wrap_html)},"before:destroyed":function(){return this.onHover&&i.utils.remove_event_listener("mouseover",this.onHover,this.core.wrap_html),this.onOut?i.utils.remove_event_listener("mouseout",this.onOut,this.core.wrap_html):void 0}},n.prototype.getWrap=function(){var t,e;return t=r.createElement("div"),e="<img width='300' height='250' src='"+this.core.loaded_data.content.image_for_video_on_hover+"'></img> <div class='buzz_code' style='display:none;position:absolute;right:0;top:0;' data-width='16' data-height='9' data-resize></div>",t.innerHTML=e,t.style.width="300px",t.style.position="relative",t.style.zIndex=999,t},n.prototype.hideWrap=function(){return this.core.container.className+=" buzz-invisible",this.core.wrap.style.display="none"},n.prototype.showWrap=function(){return i.utils.remove_class("buzz-invisible",this.core.container),this.core.wrap.style.display="inline-block"},n}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){var n;return n=i.Modules.Mixins.Destruction,i.Modules.Overroll=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.triggersEvents=["overroll:shown","overroll:destroy_inactive"],n.prototype.addsStrategies=[["destroy",3,"destroy"],["overroll:showAndPlay",0,"show"],["overroll:getWaitAndDestroyIfInactiveTime",0,function(){return this.defaultWaitAndDestroyIfInactiveTime}],["overroll:stopDestructionTimer",0,"stopDestructionTimer"]],n.prototype.callsStrategies=["resize:calcWidth","resize:calcHeight","resize:call","wrap:height","overroll:getWaitAndDestroyIfInactiveTime"],n.prototype.handlesEvents={"resize:after":function(t,e){return this.foreground?(this.foreground.style.width=t+"px",this.foreground.style.height=e+"px"):void 0},got_wrap:function(t){return t.style.position="absolute",t.style.zIndex="999",t.style.left=t.style.right=t.style.top=t.style.height="0",t.style.overflow="hidden",t.width=i.utils.getPropertyValue(this.core.container,"width")},got_container:function(){return this.draw()}},n.prototype.defaultWaitAndDestroyIfInactiveTime=60,n.prototype.moduleName="overroll",n.prototype.init=function(){return this.core.state.format="overroll"},n.prototype.draw=function(){return this.core.container.style.margin="0",this.core.container.className+=" buzz-invisible",this.core.container.style.position="relative",this.foreground?void 0:(this.foreground=this.renderForeground(),i.utils.add_event_listener("click",function(t){return function(e){return t.show()}}(this),this.foreground))},n.prototype.show=function(){return this.core.wrap_html?(this.removeForeground(),this.shown?void 0:(this.shown=!0,this.core.wrap_html.style.display="inline-block",this.core.wrap_html.style.height="inherit",i.utils.remove_class("buzz-invisible",this.core.container),this.callStrategy("resize:call"),this.waitAndDestroyIfInactive(),this.trigger("overroll:shown"))):setTimeout(function(t){return function(){return t.show()}}(this),100)},n.prototype.renderForeground=function(){var t;return this.removeForeground(),t=r.createElement("div"),t.style.background="transparent",t.style.width=this.callStrategy("resize:calcWidth")+"px",t.style.height=this.callStrategy("resize:calcHeight")+"px",t.style.position="absolute",t.style.top="0",t.style.zIndex="999",t.style.cursor="pointer",this.core.container.appendChild(t),t},n.prototype.removeForeground=function(){return this.foreground&&this.foreground.parentElement?this.core.container.removeChild(this.foreground):void 0},n}(i.Modules.BaseModule),n(i.Modules.Overroll.prototype)}(window,document,Buzzoola),function(t,r,i){return i.Modules.PositionDynamically=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.addsStrategies=[["get_container",1,"getContainer"]],i.prototype.getContainer=function(){var t,e,i,n,o,s,a,l,u,c,d,h,p,g,f,m;for(p=this.core.params["data-target"].split(":"),n=null,i=o=0,s=p.length;s>o;i=++o)if(h=p[i],/^at\(\d+\)/.test(h)){n=parseInt(h.match(/\d+/g)[0],10),p.splice(i,1);break}if(g=r.querySelector(p[0]),1===p.length)return g.appendChild(r.createElement("div"));for(a=+p[2]||0,m=g.querySelectorAll(p[1]),f=void 0,l=[],u=[],c=m.length,e=0;c>e;)d=(m[e].innerText||m[e].textContent).length,d>=a&&l.push(m[e]),e++;return u=l.length>0?l:m.length>0?m:[g],u.length&&n&&!isNaN(n)?f=u[Math.min(n,u.length-1)]:u.length&&u.length<4?f=u[u.length-1]:u.length&&u.length<9?f=u[2]:u.length&&u.length>=9&&(f=u[4]),t=r.createElement("div"),t.className+=" buzz-container",f.nextElementSibling&&(f=f.nextElementSibling),f.parentNode&&(g=f.parentNode),g.insertBefore(t,f),t},i}(i.Modules.BaseModule),i.Modules.PositionInsideEmbedBlock=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.addsStrategies=[["get_container",0,"getContainer"]],r.prototype.getContainer=function(){return this.core.embed_container.className+=" buzz-container",this.core.embed_container},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Resize=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.triggersEvents=["resize:before","resize:after"],r.prototype.callsStrategies=["wrap:width","wrap:height","resize:calcHeight","widget:resize","get_video_size"],r.prototype.addsStrategies=[["resize:calcWidth",0,"calcWidth"],["resize:calcHeight",0,"calcHeight"],["resize:call",0,"onResize"]],r.prototype.handlesEvents={got_container:function(){return this.core.params.width=this.calcWidth(),i.utils.add_resize_listener(this.core.container.parentNode,this.resize),i.utils.add_event_listener("resize",this.resize),i.utils.add_event_listener("orientationchange",function(t){return function(){return setTimeout(t.resize,500)}}(this)),this.resize()},"before:destroyed":function(){return i.utils.remove_resize_listener(this.core.container.parentNode,this.resize),i.utils.remove_event_listener("resize",this.resize)},"resize:after":function(t,e){var r;return t=this.callStrategy("wrap:width")||t,r=this.callStrategy("get_video_size",t,this.callStrategy("resize:calcHeight",t)),this.callStrategy("widget:resize",r.width,r.height)},drawn:function(){return this.resize()}},r.prototype.init=function(){return this.core.params.percent_width=this.core.params.width,this.core.params.percent_height=this.core.params.height||this.core.params.container_height,this.width_factor=parseFloat(this.core.params.percent_width)/100,this.height_factor=parseFloat(this.core.params.percent_height)/100,this.resize=i.utils.debounce(function(t){return function(){return t.onResize()}}(this),20)},r.prototype.onResize=function(){var t,e;return this.core.state.destroyed||this.core.state.collapsing?void 0:(e=this.core.callStrategy("resize:calcWidth"),t=this.core.callStrategy("resize:calcHeight",e),this.trigger("resize:before",e,t),this.core.container.style.width=e+"px",this.trigger("resize:after",e,t))},r.prototype.calcWidth=function(){var t;return-1!==this.core.params.percent_width.indexOf("%")?(t=parseFloat(i.utils.getPropertyValue(this.core.container.parentElement,"width")),t-=parseFloat(i.utils.getPropertyValue(this.core.container.parentElement,"padding-left")),t-=parseFloat(i.utils.getPropertyValue(this.core.container.parentElement,"padding-right")),t*this.width_factor):parseFloat(this.core.params.percent_width)},r.prototype.calcHeight=function(t){var e,r,n,o,s,a,l,u,c;return o=function(){var o,l,u,c;if(-1!==(null!=(u=this.core.params.percent_height)?u.indexOf("%"):void 0)){for(s=parseFloat(i.utils.getPropertyValue(this.core.container.parentElement,"height")),e=0,a=function(t){return t&&t>0?s-=t:void 0},c=this.core.container.parentElement.children,o=0,l=c.length;l>o;o++)n=c[o],"absolute"!==i.utils.getPropertyValue(n,"position")&&(n!==this.core.container&&a(parseFloat(i.utils.getPropertyValue(n,"height"))),r=parseFloat(i.utils.getPropertyValue(n,"margin-top")),a(r>=e?r:e),e=parseFloat(i.utils.getPropertyValue(n,"margin-bottom")));return a(e),(0>s?0:s)*this.height_factor}return this.core.params.percent_height?parseFloat(this.core.params.percent_height):9*(t||this.calcWidth())/16}.call(this),!(null!=(l=this.core)&&null!=(u=l.loaded_data)?u.branding_template:void 0)&&(this.core.params.container_height||"overroll"===this.core.state.format&&this.core.params.percent_height)&&(c=parseFloat(i.utils.getPropertyValue(this.core.wrap_html,"height")||0),
c>0&&(o=o-c+this.callStrategy("wrap:height"))),o},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.TrackingUrl=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.triggersEvents=["warning"],r.prototype.addsStrategies=[["tracking_url:send",0,"send"]],r.prototype.init=function(){return this.trackingUrls=this.core.loaded_data.tracking_url,this.placeholders=this.getPlaceholders()},r.prototype.send=function(t){var e,r,n,o,s;if(this.trackingUrls.hasOwnProperty(t)&&this.trackingUrls[t].length>0)for(s=this.trackingUrls[t],r=0;r<s.length;){if(e=s[r],o=this.placeholders.tracking_url||{},!e)return;for(n in o)e=e.replace("{{"+n+"}}",o[n]);i.utils.loadImage(e,function(r){return function(i){return i?r.trigger("warning","not tracked "+e+" for "+t):void 0}}(this)),r++}},r.prototype.getPlaceholders=function(){var t,e,r,i,n,o,s,a;for(t=this.core.embed_container.attributes,e=void 0,r=t.length,a={},e=0;r>e;)n=t[e],-1!==n.nodeName.indexOf("data-replace")&&(o=n.nodeName.replace("data-replace-",""),i=o.split("-")[0],s=o.split("-")[1],a[i]=a[i]||{},a[i][s]=n.value),e++;return a},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.UserEngagement=function(n){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,n),o.prototype.triggersEvents=["engagement:seen","engagement:seenFirstTime","engagement:unseen","engagement:user_left_page","engagement:user_page_back"],o.prototype.callsStrategies=["resize:calcHeight"],o.prototype.addsStrategies=[["engagement:disableListener",0,"disableListener"],["engagement:enableListenerForLeavePage",0,"enableListenerForLeavePage"],["engagement:enableListenerForVisibility",0,"enableListenerForVisibility"]],o.prototype.handlesEvents={"before:destroyed":function(){return this.disableAllListener()}},o.prototype.init=function(){return this.events={},this.percentSeen=50,this.percentUnseen=5,this.seenFirstTime=!0},o.prototype.isVisible=function(e){var i,n,o,s,a,l,u,c;return u=r.documentElement.scrollTop||r.body.scrollTop,o=r.documentElement.offsetHeight||r.body.offsetHeight,i=r.documentElement.clientHeight||r.body.clientHeight,t.innerHeight&&!isNaN(t.innerHeight)&&(i=Math.min(i,t.innerHeight)),u+=i,(s=null!=(a=this.core.wrap_html)&&null!=(l=a.getClientRects())?l[0]:void 0)?(n=this.callStrategy("resize:calcHeight"),c=!s||s.bottom<0||s.top>i?0:s.top>0?u>=o&&s.top+n>u?100:Math.min(100,100-100*(s.top+n-i)/n):100*(s.top+n)/n,c>=e&&!this.core.container.classList.contains("buzz-invisible")):!1},o.prototype.disableListener=function(t){return this.events[t]?("user_left_page"===t?i.utils.remove_page_visibility_listener(this.events[t]):i.utils.isFunction(this.events[t])&&"visibility"===t&&clearInterval(this.visibilityTimer),this.events[t]=null):void 0},o.prototype.disableAllListener=function(){var t,e;e=[];for(t in this.events)e.push(this.disableListener(t));return e},o.prototype.enableListenerForVisibility=function(){return this.events.visibility?void 0:(this.events.visibility=function(t){return function(){return t.isVisible(t.percentSeen)&&t.core.widget_div?(t.core.state.seen=!0,t.seenFirstTime&&(t.seenFirstTime=!1,t.trigger("engagement:seenFirstTime")),t.trigger("engagement:seen")):(t.core.state.seen=!1,t.trigger("engagement:unseen"))}}(this),this.visibilityTimer=setInterval(this.events.visibility,100),this.events.visibility())},o.prototype.enableListenerForLeavePage=function(){return this.events.user_left_page?void 0:this.events.user_left_page=i.utils.add_page_visibility_listener(function(t){return function(e){return"hidden"===e?t.trigger("engagement:user_left_page"):t.trigger("engagement:user_page_back")}}(this))},o}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){var n;return n={landscape:{width:16,height:9},portrait:{width:9,height:16}},i.Modules.ViewportOrientation=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.triggersEvents=["orientation:change"],o.prototype.addsStrategies=[["viewport:getOrientation",0,"getOrientation"],["viewport:lockOrientation",0,"lockOrientation"],["viewport:unlockOrientation",0,"initChecking"]],o.prototype.callsStrategies=["widget:availableImgRatios"],o.prototype.handlesEvents={got_wrap:function(){return this.wrapped=!0,this.resetFactors(),this.setFactors()},destroyed:function(){return this.stopChecking()}},o.prototype.defaultOrientation="landscape",o.prototype.init=function(){var e,r,i;return this.wrapped=!1,this.orientation=t.orientation||(null!=(e=t.screen)?e.orientation:void 0)||(null!=(r=t.screen)?r.mozOrientation:void 0)||(null!=(i=t.screen)?i.msOrientation:void 0),this.eventIsSupported=null!=this.orientation?!0:(this.orientation={},!1),this.initChecking()},o.prototype.initChecking=function(){return this.lockedOrientation=null,this.eventIsSupported?(this.checkOrientation=function(t){return function(){return t.wrapped&&t.setFactors(),t.trigger("orientation:change",t.getOrientation())}}(this),i.utils.add_event_listener("orientationchange",this.checkOrientation,window)):(this.continueChecking=!0,this.checkOrientation=function(e){return function(){var r;if("destroyed"!==e.core.state.state&&e.continueChecking)return r=t.innerWidth>t.innerHeight?"landscape":"portrait",r!==e.orientation.type&&(e.orientation.type=r,e.wrapped&&e.setFactors(),e.trigger("orientation:change",e.orientation.type)),setTimeout(e.checkOrientation,100)}}(this)),this.checkOrientation()},o.prototype.stopChecking=function(){return this.eventIsSupported?i.utils.remove_event_listener("orientationchange",this.checkOrientation,window):this.continueChecking=!1},o.prototype.getOrientation=function(){var t,e,r,i,n,o;if(null!=this.lockedOrientation)return this.lockedOrientation;if(null!=(i=this.orientation)?i.type:void 0){for(r=this.orientation.type,n=["landscape","portrait"],t=0,e=n.length;e>t;t++)if(o=n[t],-1!==r.indexOf(o))return o}else switch(this.orientation){case 90:case-90:return"landscape";default:return"portrait"}return this.defaultOrientation},o.prototype.lockOrientation=function(t){return this.lockedOrientation=t||this.getOrientation(),this.stopChecking(),this.setFactors(),this.trigger("orientation:change",this.lockedOrientation)},o.prototype.resetFactors=function(){var t,e,r,i,o,s,a,l,u,c,d;if(d=parseInt(this.core.wrap.getAttribute("data-width"),10),i=parseInt(this.core.wrap.getAttribute("data-height"),10),u=this.core.callStrategy("widget:availableImgRatios"),isNaN(d)||isNaN(i))if(isNaN(d)){if(!isNaN(i)){n.landscape.height=i,d=null,e="x"+i;for(l in u)if(-1!==l.indexOf(e)){d=l.split("x")[1];break}n.landscape.width=d}}else{n.landscape.width=d,i=null,e=d+"x";for(l in u)if(-1!==l.indexOf(e)){i=l.split("x")[1];break}n.landscape.height=i}else n.landscape={width:d,height:i};for(r=["width","height"],c=[],o=s=0,a=r.length;a>s;o=++s)t=r[o],c.push(n.portrait[t]=n.landscape[r[1-o]]);return c},o.prototype.setFactors=function(){var t,e,r,i,o,s,a,l;for(e=n[this.getOrientation()],s=["width","height"],a=[],r=i=0,o=s.length;o>i;r=++i)t=s[r],l=e[t],null!=l?a.push(this.core.wrap.setAttribute("data-"+t,l)):a.push(void 0);return a},o}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.WeboramaUserTracker=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.triggersEvents=["warning"],r.prototype.handlesEvents={"api:got_uuid":function(t){return this.loadScript(t)}},r.prototype.loadScript=function(t){return i.utils.loadXHR(this.core.protocol+"//wam.solution.weborama.fr/fcgi-bin/dispatch.fcgi?d.A=prd&d.key=eGVdzGnHzEYK&d.format=json&d.qu=1",function(t){return function(e,r){return e?t.logError():i.utils.loadXHR(t.core.params.apiUrl+"/weborama",function(e,r){return e?t.logError():void 0},{withCredentials:!0},"POST",{"Content-type":"text/plain"},r)}}(this),{withCredentials:!0})},r.prototype.logError=function(){return this.trigger("warning","weborama fail")},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Wrap=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.addsStrategies=[["get_wrap",0,"getWrap"],["wrap:width",0,"width"],["wrap:height",0,"height"]],n.prototype.getWrap=function(){var t,e;return t=r.createElement("div"),e="<div class='buzz__default'> <div class='buzz__default__player'> <div class='buzz_code' data-width='16' data-height='9' data-resize></div> </div> <div class='buzz__default__data buzz__info'> <div class='buzz__default__bottom-block'> <div class='buzz__default__sponsor'>",e+=this.core.loaded_data.sponsor_link?"<a href='"+this.core.loaded_data.sponsor_link+"' target='_blank' class='buzz__default__sponsor__link'>":"<div class='buzz__default__sponsor__link'>",e+="<span class='buzz__default__sponsor__name'>",e+=this.core.loaded_data.sponsor_name?this.core.loaded_data.sponsor_name:this.core.loaded_data.sponsor_logo||this.core.loaded_data.sponsor_link?"\u041d\u0430 \u043f\u0440\u0430\u0432\u0430\u0445 \u0440\u0435\u043a\u043b\u0430\u043c\u044b":"",e+="</span>",this.core.loaded_data.sponsor_logo&&(e+="<span class='buzz__default__sponsor__logo'> <img src='"+this.core.loaded_data.sponsor_logo+"' alt='' class='buzz__default__sponsor__logo__img'> </span>"),e+=this.core.loaded_data.sponsor_link?"</a>":"</div>",e+="</div>",this.core.loaded_data.clickthrough_URL&&this.core.loaded_data.action_button_title&&(e+="<div class='buzz__default__install'> <a href='"+this.core.loaded_data.clickthrough_URL+"' target='_blank' class='buzz__default__install__btn'> <span class='buzz__default__install__btn__wrapper'> "+(this.core.loaded_data.action_button_title||"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")+" <span class='buzz__default__install__btn__icon'> <svg viewBox='-0.589 0 66 100' class='buzz__default__inserted-icon'> <g> <path fill-rule='evenodd' clip-rule='evenodd' d='M61.185,42.88c-0.009-0.004-0.009-0.004-0.009-0.008 c-0.066-0.063-0.084-0.152-0.151-0.216L22.178,3.807c-5.071-5.076-13.301-5.076-18.372,0c-5.075,5.07-5.075,13.301,0,18.372 l30.231,30.23L7.718,78.727c-4.868,4.863-4.868,12.756,0,17.619c4.868,4.872,12.756,4.872,17.624,0c0,0,35.36-35.001,35.683-35.322 c2.554-2.555,3.814-5.903,3.798-9.254C64.839,48.556,63.638,45.333,61.185,42.88z'/> </g> </svg> </span> </span> </a> </div>"),e+="</div>",this.core.loaded_data.title&&(e+="<div class='buzz__default__title'>"+this.core.loaded_data.title+"</div>"),this.core.loaded_data.description&&(e+="<div class='buzz__default__desc'>"+this.core.loaded_data.description+"</div>"),e+="</div></div>",t.innerHTML=e,t.style.position="relative",t},n.prototype.width=function(){return parseFloat(i.utils.getPropertyValue(this.core.wrap,"width")||0)},n.prototype.height=function(){return parseFloat(i.utils.getPropertyValue(this.core.wrap,"height")||0)},n}(i.Modules.BaseModule)}(window,document,Buzzoola),function(r,i,n){return n.Modules.YandexMetrik=function(n){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,n),o.prototype.addsStrategies=[["metrika:reachGoal",0,"reachGoal"]],o.prototype.init=function(){this.yaId=this.core.loaded_data.ya_id,this.queueEvents=[];try{return r.Ya?this.createMetrika():(this.loadMetrikaWatchJS(),(r.yandex_metrika_callbacks=r.yandex_metrika_callbacks||[]).push(function(t){return function(){return t.createMetrika()}}(this)))}catch(t){}},o.prototype.reachGoal=function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],this.callEvent(function(t){return function(){return t.metrika.reachGoal.apply(t.metrika,e)}}(this))},o.prototype.createMetrika=function(){return this.metrika=new r.Ya.Metrika({id:this.yaId,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,trackHash:!0}),this.callQueueEvents()},o.prototype.loadMetrikaWatchJS=function(){var t,e,n;return e=i.getElementsByTagName("script")[0],n=i.createElement("script"),t=function(){return e.parentNode.insertBefore(n,e)},n.type="text/javascript",n.async=!0,n.src=this.core.protocol+"//mc.yandex.ru/metrika/watch.js","[object Opera]"===r.opera?i.addEventListener("DOMContentLoaded",t,!1):t()},o.prototype.callEvent=function(t){return this.metrika?t.call(this):this.queueEvents.push(t)},o.prototype.callQueueEvents=function(){var t,e;for(t=0,e=this.queueEvents.length;e>t;)this.queueEvents[t].call(this),t+=1;return this.queueEvents=[]},o}(n.Modules.BaseModule)}(window,document,Buzzoola),function(r,i,n){return n.Modules.Widgets.Carousel.Core=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,r),i.prototype.triggersEvents=["event:state","error"],i.prototype.callsStrategies=["widget:stopAutoPlay","widget:moveLeft","widget:moveRight","widget:move","resize:calcWidth","resize:calcHeight"],i.prototype.addsStrategies=[["widget:getCarouselItems",0,function(){return this.carouselItems}],["widget:resize",0,"resize"]],i.prototype.handlesEvents={drawn:function(){return this.draw()}},i.prototype.init=function(){return this.carouselItems=[],this.initModules()},i.prototype.initModules=function(){return n.utils.initModules(this.core,{APIEventSender:!0,Move:!0,UserEngagement:!0,Wrap:!0},"Widgets.Carousel.Modules")},i.prototype.initWidgets=function(){var e,r,i,o,s,a,l;for(s=this.carouselItems,a=[],r=0,i=s.length;i>r;r++)e=s[r],e=e.children[0],l=+e.getAttribute("data-slugname"),o={parent_core:this.core,data:n.utils.extend({},this.core.loaded_data.content.carousel_default,this.core.loaded_data.content.main_content[l],{slugname:l})},a.push(new n.Core(e,o).on("error",function(e){return function(){var r;return r=1<=arguments.length?t.call(arguments,0):[],e.trigger.apply(e,["error"].concat(r))}}(this)));return a},i.prototype.initSwipeAndDrag=function(){var t,e,r,i,o,s,a,l,u,c;for(t=n.utils.Hammer(this.core.widget_div,{drag:!0,swipe:!0}),a=["swipeleft","dragleft"],e=0,o=a.length;o>e;e++)i=a[e],t.on(i,function(t){return function(){return t.callStrategy("widget:stopAutoPlay"),t.callStrategy("widget:moveRight")}}(this));for(l=["swiperight","dragright"],u=[],r=0,s=l.length;s>r;r++)c=l[r],u.push(t.on(c,function(t){return function(){return t.callStrategy("widget:stopAutoPlay"),t.callStrategy("widget:moveLeft")}}(this)));return u},i.prototype.draw=function(){var t,e,r,i,n,o;for(this.core.widget_div.className+=" buzz-carousel",e="",o=this.core.loaded_data.content.main_content,t=r=0,i=o.length;i>r;t=++r)n=o[t],e+="<div class='buzz-carousel-item'> <div class='buzz-invisible' data-slugname='"+t+"' data-width='100%' "+(this.core.params.height||this.core.params.container_height?"data-container-height='100%'":"")+" "+(this.core.params.debug_mode&&"data-debug"||"")+" data-debug_env='"+this.core.environment+"' ></div> </div>";return this.core.widget_div.innerHTML=e,this.carouselItems=this.core.widget_div.querySelectorAll("div.buzz-carousel-item"),this.resize(this.callStrategy("resize:calcWidth"),this.callStrategy("resize:calcHeight")),this.initWidgets(),this.initSwipeAndDrag(),this.trigger("event:state","ready")},i.prototype.resize=function(t,e){var r,i,n,o,s,a;for(i=Math.floor(t/1.2),s=.0065*t*this.carouselItems.length,a=this.carouselItems,n=0,o=a.length;o>n;n++)r=a[n],r.style.width=i+"px",(this.core.params.height||this.core.params.container_height)&&(r.style.height=e+"px");return this.core.widget_div.style.width=(i+s)*this.carouselItems.length+"px",this.callStrategy("widget:move")},i}(n.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Player.Core=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.triggersEvents=["widget:embeded"],r.prototype.callsStrategies=["widget:loadVideo"],r.prototype.handlesEvents={drawn:function(){return this.embedMediaPlayer()}},r.prototype.init=function(){return this.core.state.state="",this.core.state.slice=0,this.core.state.current_time=0,this.core.state.total_time=0,this.addController(this.core),this.initModules()},r.prototype.initModules=function(){var t,e,r,n,o;return e="infeed_video"===this.core.loaded_data.content_type,r=(i.utils.bowser.tablet||i.utils.bowser.mobile)&&(e||"video_url"===this.core.loaded_data.content_type),t=this.core.params.expandable,n=this.core.params.overroll,i.utils.initModules(this.core,{CloseButton:t&&!e||n||"fullscreen"===this.core.state.format}),i.utils.initModules(this.core,{AdsOverlay:this.core.loaded_data.overlay,APIEventSender:!0,Autoplay:(this.core.loaded_data.auto_play||e)&&-1!==this.core.loaded_data.auto_play,Clickthrough:(t||n||r)&&this.core.loaded_data.clickthrough_URL,Overroll:n,Events:!0,Expandable:t,MuteControl:(t||!this.core.loaded_data.player_show_panels)&&!e,PauseWhenUnseen:!0,Repeat:!!this.core.loaded_data.content.image_for_video_on_hover,ShareButtons:"vast"!==(o=this.core.loaded_data.content_type)&&"infeed_video"!==o&&"vpaid"!==o&&!this.core.params.is_ios,TrackingUrlSender:"object"==typeof this.core.loaded_data.tracking_url,UserEngagement:!0,YandexMetrik:!!this.core.loaded_data.ya_id},"Widgets.Player.Modules")},r.prototype.embedMediaPlayer=function(){switch(this.core.loaded_data.content_type){case"youtube_id":this.core.loaded_data.iframe_domains&&this.core.loaded_data.iframe_domains.length?new i.Modules.Widgets.Player.Modules.YoutubePlayerIframe(this.core):new i.Modules.Widgets.Player.Modules.YoutubePlayer(this.core);break;case"vast":case"vpaid":new i.Modules.Widgets.Player.Modules.VASTPlayer(this.core);break;case"video_url":case"facebook":new i.Modules.Widgets.Player.Modules.VideojsPlayer(this.core);break;case"infeed_video":new i.Modules.Widgets.Player.Modules.IsPlayer(this.core)}return this.callStrategy("widget:loadVideo"),this.trigger("widget:embeded")},r.prototype.addController=function(t){return t.controller={setVolume:function(e){return t.callStrategy("widget:setVolume",e)},getState:function(){return t.state.state},play:function(){return t.callStrategy("widget:play")},pause:function(){return t.callStrategy("widget:pause")},getPlayerContainer:function(){return t.container},destroy:function(){return t.destroy()},collapse:function(e){return t.collapse(e)},resize:function(e,r){return t.callStrategy("widget:resize",e,r)}}},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Scroller.Core=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.triggersEvents=["event:state"],r.prototype.addsStrategies=[["widget:resize",0,"resize"]],r.prototype.callsStrategies=["resize:calcHeight"],r.prototype.handlesEvents={drawn:function(){return this.core.wrapperBlock=this.core.wrap_html.querySelector("div.buzz-scroll__wrapper"),this.resize(0,this.callStrategy("resize:calcHeight")),this.trigger("event:state","ready")}},r.prototype.init=function(){return this.initModules()},r.prototype.initModules=function(){return i.utils.initModules(this.core,{APIEventSender:!0,Fullscreen:!0,UserEngagement:!0,Wrap:!0},"Widgets.Scroller.Modules")},r.prototype.resize=function(t,e){var r,i;this.core.wrapperBlock.style.height=e+"px",i=90===window.orientation||-90===window.orientation?screen.height:screen.width,i!==this.core.wrap_html.offsetWidth&&(this.core.params.screenWidth=i,this.core.wrap_html.style.width=i+"px",this.core.wrap_html.style.marginLeft="0px",r=this.core.wrap_html.offsetLeft||this.core.wrap_html.getBoundingClientRect().left,this.core.wrap_html.style.marginLeft="-"+r+"px")},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,n){return n.Modules.Widgets.TGB.Core=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.triggersEvents=["widget:resize","event:state","error","warning"],r.prototype.callsStrategies=["wrap:getStyle","wrap:width","wrap:height","viewport:getOrientation","viewport:lockOrientation"],r.prototype.addsStrategies=[["widget:scale",0,"scale"],["widget:resize",0,"resize"],["widget:imgRatio",0,"getImgRatio"],["widget:availableImgRatios",0,"getAvailableImgRatios"]],r.prototype.handlesEvents={drawn:function(){return this.params.drawn=!0,this.core.container.style.background="transperent","fullscreen"===this.core.state.format&&(this.params.orientation||(this.params.orientation=this.callStrategy("viewport:getOrientation"))),this.loadImage()},"orientation:change":function(t){return this.params.orientation=t,this.params.drawn&&"1x1"!==this.params.imgRatio?this.loadImage():void 0}},r.prototype.ratios={"16x9":16/9,"16x10":1.6,"3x2":1.5,"4x3":4/3,"1x1":1},r.prototype.init=function(){return this.initParams(),this.initModules()},r.prototype.initParams=function(){return this.params={drawn:!1,orientation:null,loadedImages:[],scaleIsLoaded:!1,ratio:null,imgRatio:null},"fullscreen"===this.core.state.format?(this.params.url={},this.ratios={landscape:this.ratios,portrait:{"1x1":1,"3x4":.75,"2x3":2/3,"10x16":.625,"9x16":9/16}}):void 0},r.prototype.initModules=function(){var t;return t=n.utils.isObject(this.core.loaded_data.content)&&this.core.loaded_data.content.landing_options,n.utils.initModules(this.core,{CloseButton:this.core.params.overroll||this.core.params.expandable||"fullscreen"===this.core.state.format}),n.utils.initModules(this.core,{APIEventSender:!0,ClickthroughURL:this.core.loaded_data.clickthrough_URL&&!t,Overroll:this.core.params.overroll,TrackingUrlSender:"object"==typeof this.core.loaded_data.tracking_url,UserEngagement:!0},"Widgets.TGB.Modules"),t?n.utils.initModules(this.core,{Core:"Core",ShareButtons:"ShareButtons"},"Widgets.TGB.Modules.Landing"):void 0},r.prototype.loadImage=function(){var t,e,r,i,o,s,a,l,u,c,d,h,p,g,f;f=this.callStrategy("wrap:getStyle","width"),g=this.getFactorDirection("width")||1,e=this.getFactorDirection("height")||1,this.params.ratio=g/e,this.params.imgRatio="16x9",u="fullscreen"===this.core.state.format?this.ratios[this.params.orientation]:this.ratios;for(a in u)l=u[a],this.params.ratio<=l&&(this.params.imgRatio=a);if(d=n.utils.isObject(this.core.loaded_data.content)&&this.core.loaded_data.content.main_content||this.core.loaded_data.content,"/"!==d.slice(-1)&&(d+="/"),"fullscreen"===this.core.state.format)for(c=["landscape","portrait"],t=function(t){return function(e){var r,i;return r=e===t.params.orientation?t.params.imgRatio:t.params.imgRatio.split("x").reverse().join("x"),i=t.params.url[e]=""+d+r+".png","portrait"!==e||"1x1"!==t.params.imgRatio?t.preloadImage(i,e):void 0}}(this),r=0,i=c.length;i>r;r++)o=c[r],t(o);else this.params.url=""+d+this.params.imgRatio+".png",this.preloadImage(this.params.url);h="fullscreen"===this.core.state.format?this.params.url[this.params.orientation]:this.params.url,p={width:"100%",height:"100%",background:"url('"+h+"')",backgroundSize:"auto 100%",backgroundRepeat:"no-repeat",backgroundPosition:"center"};for(s in p)this.core.widget_div.style[s]=p[s];return this.core.wrap.hasAttribute("data-resize")&&!this.params.scaleIsLoaded&&(this.params.scaleIsLoaded=!0,n.utils.initModules(this.core,{Scale:!0},"Widgets.TGB.Modules")),this.resize(this.callStrategy("wrap:width")),this.scale()},r.prototype.preloadImage=function(t,e){return i.call(this.params.loadedImages,t)>=0?void 0:n.utils.loadImage(t,function(r){return function(i){var n;return i||r.params.loadedImages.push(t),"fullscreen"!==r.core.state.format||e===r.params.orientation?i&&e===(n=r.params.orientation)&&"portrait"===n?(r.trigger("warning","not loaded tgb image for portrait orientation"),r.callStrategy("viewport:lockOrientation","landscape")):r.trigger.apply(r,i?["error","not loaded tgb image"]:["event:state","ready"]):void 0}}(this))},r.prototype.getFactorDirection=function(t){var e;return e=parseInt(this.core.wrap.getAttribute("data-"+t),10),e||(e=this.callStrategy("wrap:"+t)),e},r.prototype.resize=function(t,e){return this.core.params.container_height||"overroll"===this.core.state.format&&this.core.params.height||(e=t/this.params.ratio),this.core.wrap.style.height=e+"px",this.trigger("widget:resize",t,e)},r.prototype.scale=function(){var t,e,r;return t="auto ",r=this.getImgRatio(),r<this.params.ratio?(e=100*(this.params.ratio-r),t+=100+Math.ceil(e/2)+Math.floor(e/10)+"%"):t+="100%",this.core.widget_div.style.backgroundSize=t},r.prototype.getImgRatio=function(){return"fullscreen"===this.core.state.format?this.ratios[this.params.orientation][this.params.imgRatio]:this.ratios[this.params.imgRatio]},r.prototype.getAvailableImgRatios=function(t){return null==t&&(t="landscape"),this.ratios[t]||this.ratios},r}(n.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Carousel.Modules.APIEventSender=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.onEvents={"engagement:seenFirstTime":"player_seen","engagement:seenItem":"slide_seen"},r.prototype.paramsEventData={slide_seen:function(t){return"undefined"!=typeof t?{slugname:t}:void 0}},r.prototype.allowEvents={carousel:["ctor","player_seen","slide_seen"]},r}(i.Modules.BaseAPIEventSender)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Carousel.Modules.Move=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.triggersEvents=["widget:move"],r.prototype.callsStrategies=["widget:getCarouselItems","resize:calcWidth"],r.prototype.addsStrategies=[["widget:startAutoPlay",0,"startAutoPlay"],["widget:stopAutoPlay",0,"stopAutoPlay"],["widget:moveLeft",0,"moveLeft"],["widget:moveRight",0,"moveRight"],["widget:move",0,"move"],["widget:getCurrentItemId",0,function(){return this.currentItemId}]],r.prototype.init=function(){return this.currentItemId=0,this.animationTime=210,this.endless=!1},r.prototype.startAutoPlay=function(){return this.autoPlayIntervalId?void 0:this.autoPlayIntervalId=setInterval(function(t){return function(){return t.moveRight()}}(this),3e3)},r.prototype.stopAutoPlay=function(){return this.autoPlayIntervalId?(clearInterval(this.autoPlayIntervalId),this.autoPlayIntervalId=null):void 0},r.prototype.moveLeft=function(){return this.move(this.currentItemId-1)},r.prototype.moveRight=function(){return this.move(this.currentItemId+1)},r.prototype.getItemId=function(t){return t<this.carouselItems.length&&t>=0?t:0>t&&this.endless||!this.endless&&t>=this.carouselItems.length?this.carouselItems.length-1:0},r.prototype.movementItems=function(t,e,r){var i,n;if(i=[t,e,r].toString(),this.movementItemsPrevArguments!==i){for(this.movementItemsPrevArguments=i,n=3;(n-=1)>=0;)this.core.widget_div.appendChild(this.core.widget_div.childNodes[n]);return this.core.widget_div.insertBefore(this.carouselItems[t],this.core.widget_div.childNodes[0]),this.core.widget_div.insertBefore(this.carouselItems[e],this.carouselItems[t].nextSibling),this.core.widget_div.insertBefore(this.carouselItems[r],this.carouselItems[e].nextSibling)}},r.prototype.movementCarousel=function(t){var e;return e=this.core.widget_div.style,e.webkitTransform=e.transform="translate3d(-"+t+"px, 0px, 0px)"},r.prototype.move=function(t){var e,r,i,n,o,s,a,l;return null==t&&(t=this.currentItemId),this.carouselItems||(this.carouselItems=this.callStrategy("widget:getCarouselItems")),l=Math.floor(this.callStrategy("resize:calcWidth")/1.2),l+=(this.carouselItems.length+1)*l*.0065,i=this.currentItemId,this.currentItemId=this.getItemId(t),s=e=l,this.endless||(t=this.currentItemId),n=t>i?1:i===t?0:-1,this.endless?(o=this.getItemId(this.currentItemId+1),a=this.getItemId(this.currentItemId-1)):(e*=this.currentItemId+-1*n,s*=this.currentItemId),(this.endless||t>0||t===this.carouselItems.length-1)&&(e-=.1*l,s-=.1*l),clearTimeout(this.animatinTimer),r=function(t){return function(){return t.endless&&t.movementItems(a,t.currentItemId,o),t.movementCarousel(s)}}(this),0!==n?this.animation(this.animationTime,function(t){return function(r){var i,u;return i=r>=.5?(!u&&t.endless?(u=!0,t.movementItems(a,t.currentItemId,o)):void 0,s+l*n*(r-1)):e+l*n*r,t.movementCarousel(i)}}(this),r):r(),this.trigger("widget:move",this.currentItemId)},r.prototype.animation=function(t,e,r){var i,n;return i=Date.now(),clearTimeout(this.animatinTimer),(n=function(){var o,s;return s=Date.now()-i,o=s/t,o>1&&(o=1),e&&e(o),s>=t?(clearTimeout(this.animatinTimer),r?r(o):void 0):this.animatinTimer=setTimeout(n,5)})()},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Carousel.Modules.UserEngagement=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.triggersEvents=["engagement:seenItem"],r.prototype.callsStrategies=["engagement:enableListenerForVisibility","widget:getCurrentItemId","widget:startAutoPlay","widget:stopAutoPlay"],r.prototype.handlesEvents={"engagement:seenFirstTime":function(){return this.seenFirstTime=!0,this.seenItem()},"widget:move":function(t){return this.seenItem(t)},"engagement:seen":function(){return this.core.loaded_data.auto_play&&!this.seen&&this.callStrategy("widget:startAutoPlay"),this.seen=!0},"engagement:unseen":function(){return this.seen&&this.callStrategy("widget:stopAutoPlay"),this.seen=!1}},r.prototype.init=function(){return this.seenItemIds=[],this.seenFirstTime=this.seen=!1,this.callStrategy("engagement:enableListenerForVisibility")},r.prototype.seenItem=function(t){return null==t&&(t=this.callStrategy("widget:getCurrentItemId")),-1===this.seenItemIds.indexOf(t)&&this.seenFirstTime?(this.seenItemIds.push(t),this.trigger("engagement:seenItem",t)):void 0},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Carousel.Modules.Wrap=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.addsStrategies=[["get_wrap",20,"getWrap"]],i.prototype.getWrap=function(){var t;return t=r.createElement("div"),t.style.position="relative",t.className="buzz_code",t},i}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Player.Modules.AdsOverlay=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.callsStrategies=["resize:calcWidth","resize:calcHeight","widget:pause"],r.prototype.handlesEvents={"widget:embeded":function(){var t;return t=document.createElement("div"),t.id="overlay_1",this.core.wrap.appendChild(t),this.container=t,this.core.loaded_data.overlay?this.adsUrl=this.core.loaded_data.overlay:void 0},"event:time":function(t){return t>=this.startAfterTime?this.initAd(this.width,this.height):void 0}},r.prototype.init=function(){return this.startAfterTime=this.core.loaded_data.overlay_start_after,this.width=this.callStrategy("resize:calcWidth"),this.height=this.callStrategy("resize:calcHeight")},r.prototype.initAd=function(t,e){var r,n;return r=function(t){var e,r,i;for(r=t.match(/(\d\d)/g),i=0,e=0;e<r.length;)i+=r[e]*Math.pow(60,r.length-1-e),e++;return i},!this.isInited&&this.adsUrl?(this.isInited=!0,this.stageWidth=t,this.stageHeight=e,n=new i.utils.XHR,n.open("GET",this.adsUrl,!0),n.onload=function(t){return function(e){var i,o,s,a,l,u,c,d,h,p,g,f,m;m=document.createElement("DIV"),m.innerHTML=n.response,t.loadedXML=m;try{for(s=t.parseXml("NonLinearAds.NonLinear.StaticResource"),o=t.parseXml("NonLinearAds.NonLinear.NonLinearClickThrough"),i=t.parseXml("NonLinearAds.NonLinear.NonLinearClickThrough","target"),a=r(t.parseXml("NonLinearAds.NonLinear","minSuggestedDuration")),f={width:t.parseXml("NonLinearAds.NonLinear","width"),height:t.parseXml("NonLinearAds.NonLinear","height"),position:t.parseXml("NonLinearAds.NonLinear","id"),vmargin:t.getExtension("vmargin")||0,hmargin:t.getExtension("hmargin")||0},p={},d=t.loadedXML.getElementsByTagName("NonLinearAds")[0],d=d.getElementsByTagName("TrackingEvents")[0],d=d.getElementsByTagName("Tracking"),g=0;g<d.length;)c=d[g].getAttribute("event"),h=d[g].innerHTML,p[c]=t.replaceCDATA(h),g++;p.impression=t.parseXml("Impression"),t.events=p,t.loadEvent("impression"),t.addDisplay({contentURL:s,advertURL:o,size:f,advertTarget:i}),t.addTimer(a),t.loadEvent("creativeView")}catch(u){l=u,console.log("bz",l)}}}(this),n.onerror=function(){return console.log(arguments)},n.send(null)):void 0},r.prototype.getExtension=function(t){
var e;return e=this.loadedXML.querySelector('Extension[type="'+t+'"]'),e?this.replaceCDATA(e.innerHTML):void 0},r.prototype.replaceCDATA=function(t){return String(t).replace(/<!-*\[CDATA\[/gi,"").replace(/\]\]-*>/gi,"").trim()},r.prototype.parseXml=function(t,e){var r,i,n;for(r=t.split("."),i=this.loadedXML,n=0;n<r.length;)i=i.getElementsByTagName(r[n])[0],n++;return this.replaceCDATA(e?i.getAttribute(e):i.innerHTML)},r.prototype.addTimer=function(t){return this.closeTimeout=setTimeout(function(t){return function(){return t.destroy("timeout")}}(this),1e3*t)},r.prototype.addDisplay=function(t){var e,r,n,o,s;if(!this.isAdded){try{switch(this.isAdded=!0,e=document.createElement("A"),e.href=t.advertURL,e.target=t.advertTarget||"_blank",n=document.createElement("IMG"),n.src=t.contentURL,r=document.createElement("DIV"),r.className="close_btn",r.style.cssText="cursor:pointer; position:absolute; top:0px; right:-2px; width:29px; height:29px; zoom:0.75; background:url(http://tube.buzzoola.com/img/close_button.png)",e.appendChild(n),this.container.appendChild(e),this.container.appendChild(r),this.container.className=t.size.position,this.container.style.width=t.size.width+"px",this.container.style.height=t.size.height+"px",this.container.style.position="absolute",t.size.position){case"B":this.container.style.left=(this.stageWidth-t.size.width)/2+parseInt(t.size.hmargin,10)+" px",this.container.style.bottom=parseInt(t.size.vmargin,10)+"px";break;case"BR":this.container.style.right=parseInt(t.size.hmargin,10)+"px",this.container.style.bottom=parseInt(t.size.vmargin,10)+"px";break;case"R":this.container.style.right=parseInt(t.size.hmargin,10)+"px",this.container.style.bottom=(this.stageHeight-t.size.height)/2+parseInt(t.size.vmargin,10)+" px";break;case"L":this.container.style.left=parseInt(t.size.hmargin,10)+"px",this.container.style.bottom=(this.stageHeight-t.size.height)/2+parseInt(t.size.vmargin,10)+" px";break;case"TL":this.container.style.left=parseInt(t.size.hmargin,10)+"px",this.container.style.top=parseInt(t.size.vmargin,10)+"px";break;case"T":this.container.style.left=(this.stageWidth-t.size.width)/2+parseInt(t.size.hmargin,10)+" px",this.container.style.top=parseInt(t.size.vmargin,10)+"px";break;case"TR":this.container.style.right=parseInt(t.size.hmargin,10)+"px",this.container.style.top=parseInt(t.size.vmargin,10)+"px";break;default:this.container.style.left=parseInt(t.size.hmargin,10)+"px",this.container.style.bottom=parseInt(t.size.vmargin,10)+"px"}}catch(s){o=s,console.log(o)}return i.utils.add_event_listener("click",function(t){return function(e){return t.destroy("close_btn"===e.target.className&&"close"||"click"),!1}}(this),this.container)}},r.prototype.destroy=function(t){switch(t){case"close":this.loadEvent("close");break;case"timeout":this.loadEvent("complete");break;case"click":this.callStrategy("widget:pause"),this.loadEvent("acceptInvitation")}return clearTimeout(this.closeTimeout),this.container.removeAttribute("style"),this.container.innerHTML=""},r.prototype.loadEvent=function(t){var e,r;return r=this.events[t]||"",""!==r?(e=document.createElement("IMG"),e.onload=e.onerror=function(){return delete e},e.src=r):void 0},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){var n;return n=["ctor","play","pause","tick","finish","duration","share","player_seen"],i.Modules.Widgets.Player.Modules.APIEventSender=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.onEvents={"event:state":function(t){return t},"event:player_seen_first_time":"player_seen","share_button:clicked":"share","event:tick":"tick"},r.prototype.paramsEventData={share:function(t){return{external:t}},duration:function(){return{external:this.core.callStrategy("widget:getTotalTime")}}},r.prototype.allowEvents={youtube_id:n,vast:n,vpaid:n,video_url:n,facebook:n,infeed_video:n},r}(i.Modules.BaseAPIEventSender)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Player.Modules.Autoplay=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.callsStrategies=["widget:setVolume","widget:play"],r.prototype.handlesEvents={"event:player_seen_first_time":function(){return this.playerSeenFirstTime=!0},"event:state":function(t){return"ready"===t?this.play():void 0},"engagement:seen":function(){return this.playerSeen===!1&&setTimeout(function(t){return function(){return t.play()}}(this),300),this.playerSeen=!0},"engagement:unseen":function(){return this.playerSeen=!1},"engagement:user_page_back":function(){var t;return this.core.state.playPageBack&&"expandable"!==(t=this.core.state.format)&&"overroll"!==t||"infeed_video"===this.core.loaded_data.content_type?setTimeout(function(t){return function(){return t.play()}}(this),300):void 0}},r.prototype.init=function(){return this.playerSeen=!1},r.prototype.play=function(){var t;return"loading"!==(t=this.core.state.state)&&"finish"!==t&&this.playerSeen?(this.playerSeenFirstTime&&("overroll"!==this.core.state.format&&this.callStrategy("widget:setVolume",0),this.playerSeenFirstTime=!1),this.callStrategy("widget:play")):void 0},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Player.Modules.Clickthrough=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.callsStrategies=["widget:pause","resize:calcWidth","resize:calcHeight"],n.prototype.handlesEvents={"resize:after":function(t,e){return this.plank&&this.params.isMobile&&!this.params.hasCustomClick?(this.plank.style.width=t+"px",this.plank.style.height=e+"px"):void 0},drawn:function(){return this.plank=this.renderPlank(),this.initHandlersPlank(),this.params.isMobile&&this.params.hasCustomClick&&!this.core.params.overroll?(this.core.wrap_html.style.cursor="pointer",this._onClick_=function(t){return function(e){return t.onOpen(e)}}(this),this._onWidgetClick_=function(t){return function(e){return t.preventOpen(e)}}(this),i.utils.add_event_listener("click",this._onClick_,this.core.wrap_html),i.utils.add_event_listener("click",this._onWidgetClick_,this.core.widget_div)):void 0},"before:destroyed":function(){return this.params.isMobile&&this.params.hasCustomClick&&!this.core.params.overroll?(i.utils.remove_event_listener("click",this._onClick_,this.core.wrap_html),i.utils.remove_event_listener("click",this._onWidgetClick_,this.core.widget_div)):void 0},"event:tick":function(t){return t>=this.tickToShowPlank&&this.plank?this.plank.style.left="0px":void 0},"event:state":function(t){return this.params.isMobile&&!this.params.hasCustomClick?this.plank.style.display=function(){switch(t){case"play":return"block";default:return"none"}}():void 0}},n.prototype.tickToShowPlank=5,n.prototype.init=function(){var t;return this.params={isMobile:i.utils.bowser.mobile||i.utils.bowser.tablet,hasCustomClick:"infeed_video"===(t=this.core.loaded_data.content_type)||"video_url"===t}},n.prototype.onOpen=function(t){var e,r;return(e=this.core.loaded_data.clickthrough_URL)?(""!==this.core.params.slugname&&(e+=(-1!==e.indexOf("?")&&"&"||"?")+"slugname="+this.core.params.slugname),i.utils.openLink(e,"native"===(r=this.core.state.format)||"expandable"===r,this.core.params.is_ios),this.trigger("widget:click")):void 0},n.prototype.preventOpen=function(t){return t=t||window.event,t.cancelBubble=!0,t.stopPropagation?t.stopPropagation():void 0},n.prototype.renderPlank=function(){var t;return this.params.isMobile&&!this.params.hasCustomClick?(t=r.createElement("div"),t.style.background="transparent",t.style.width=this.callStrategy("resize:calcWidth")+"px",t.style.height=this.callStrategy("resize:calcHeight")+"px",t.style.position="absolute",t.style.top="0",t.style.cursor="pointer",t.style.display="none"):(!this.params.isMobile||this.params.hasCustomClick&&this.core.params.overroll)&&(t=r.createElement("span"),t.className+=" buzzplayer-clickthrough-plank",t.innerHTML="\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442"),null!=t?(t.style.zIndex="210",this.core.wrap.appendChild(t),t):void 0},n.prototype.initHandlersPlank=function(){return this.plank?(i.utils.add_event_listener("click",function(t){return function(){var e;return t.callStrategy("widget:pause"),i.utils.openLink(t.core.loaded_data.clickthrough_URL,!1,t.core.params.is_ios),t.params.isMobile&&!t.params.hasCustomClick&&(null!=(e=t.plank)?e.parentNode:void 0)?t.plank.parentNode.removeChild(t.plank):void 0}}(this),this.plank),i.utils.remove_event_listener("touchstart",function(t){return function(){return t.plank.className+=" buzzplayer-icon-bg-black-touch"}}(this),this.plank),i.utils.add_event_listener("touchend",function(t){return function(){return i.utils.remove_class("buzzplayer-icon-bg-black-touch",t.plank)}}(this),this.plank)):void 0},n}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Player.Modules.Events=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.triggersEvents=["event:player_seen_first_time","event:state","event:tick","event:time","error"],r.prototype.callsStrategies=["widget:getCurrentTime","widget:getTotalTime"],r.prototype.handlesEvents={"engagement:seenFirstTime":function(){return this.triggerPlayerSeenOnce()},"widget:state_changed":function(t){switch(t){case"play":this.updateTimeInfo(),this.triggerPlayerSeenOnce(),this.updateInterval=setInterval(function(t){return function(){return t.updateTimeInfo()}}(this),100);break;case"pause":case"finish":this.timeInactiveVideo=0,this.updateTimeInfo(),clearInterval(this.updateInterval);break;case"videoComplete":this.videoComplete=!0}return this.core.state.state!==t?(this.core.state.state=t,this.trigger("event:state",t)):void 0},"overroll:shown":function(){return this.triggerPlayerSeenOnce()},destroyed:function(){return clearInterval(this.updateInterval)}},r.prototype.init=function(){return this.tick0Sent=!1,this.playerSeenOnce=!1,this.timeInactiveVideo=0},r.prototype.triggerPlayerSeenOnce=function(){return this.playerSeenOnce===!1?(this.playerSeenOnce=!0,this.trigger("event:player_seen_first_time")):void 0},r.prototype.updateTimeInfo=function(){var t,e,r,i,n;return t=this.callStrategy("widget:getCurrentTime"),n=this.callStrategy("widget:getTotalTime"),!n||0>t||0>n?void 0:(e=Math.round(t/n*100)/100,i=this.videoComplete?10:Math.floor(10*e),this.core.state.slice===i&&this.tick0Sent||(this.tick0Sent=!0,this.core.state.slice=i,this.trigger("event:tick",i)),this.core.state.current_time!==t?(this.timeInactiveVideo=0,this.core.state.current_time=t,this.core.state.total_time=n,this.trigger("event:time",t)):(this.timeInactiveVideo+=1,this.timeInactiveVideo>=120&&"vast"!==(r=this.core.loaded_data.content_type)&&"vpaid"!==r?this.trigger("error","video inactive > 12 sec"):void 0))},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Player.Modules.Expandable=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.addsStrategies=[["get_wrap",2,"getWrap"]],n.prototype.callsStrategies=["widget:setVolume"],n.prototype.handlesEvents={"widget:volume_changed":function(t){return this.currentVolume=t},"widget:embeded":function(){return"infeed_video"!==this.core.loaded_data.content_type?(this.onHover=function(t){return function(){return t.changeVolume(!0),i.utils.remove_event_listener("mouseover",t.onHover,t.core.container),i.utils.add_event_listener("mouseout",t.onOut,t.core.container)}}(this),this.onOut=function(t){return function(){return t.changeVolume(),i.utils.add_event_listener("mouseover",t.onHover,t.core.container),i.utils.remove_event_listener("mouseout",t.onOut,t.core.container)}}(this),i.utils.add_event_listener("mouseover",this.onHover,this.core.container)):void 0},"event:state":function(t){return"finish"===t&&"infeed_video"!==this.core.loaded_data.content_type?this.core.collapse(!0):void 0},"before:destroyed":function(){return this.onHover&&i.utils.remove_event_listener("mouseover",this.onHover,this.core.container),this.onOut?i.utils.remove_event_listener("mouseout",this.onOut,this.core.container):void 0}},n.prototype.volumeOnHover=50,n.prototype.stepVolumeOnHover=5,n.prototype.changeVolume=function(t){var e,r;return r=t&&this.volumeOnHover||0,this.currentVolume=this.currentVolume?this.currentVolume:t?0:this.volumeOnHover,(e=function(i){return function(){return clearTimeout(i.changeVolumeTimer),"play"!==i.core.state.state&&"pause"!==i.core.state.state||(i.callStrategy("widget:setVolume",i.currentVolume+(t?1:-1)*i.stepVolumeOnHover),i.currentVolume===r)?void 0:i.changeVolumeTimer=setTimeout(function(){return e()},80)}}(this))()},n.prototype.getWrap=function(){var t,e;return i.utils.bowser.mobile||i.utils.bowser.tablet||"infeed_video"===this.core.loaded_data.content_type?this.core.callStrategyByMaxPriority("get_wrap",1):(t=r.createElement("div"),e="<div class=buzz_code></div> <div style='float:right;color: #006496;font-size:12px;line-height:15px;'> \u041d\u0430 \u043f\u0440\u0430\u0432\u0430\u0445 \u0440\u0435\u043a\u043b\u0430\u043c\u044b </div>",t.innerHTML=e,t.style.position="relative",t)},n}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Player.Modules.MuteControl=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.triggersEvents=[],n.prototype.callsStrategies=["widget:setVolume"],n.prototype.handlesEvents={drawn:function(){return this.draw(this.core.wrap),this.status.controlsSound?this.initSoundControl():void 0},"widget:volume_changed":function(t){return!!t!==this.status.active?this.changeStatus(!!t):void 0}},n.prototype.unmutedVolume=50,n.prototype.init=function(){return this.status={active:!0,controlsSound:!this.core.params.is_expandable&&!this.core.loaded_data.player_show_panels}},n.prototype.changeStatus=function(t){return this.status.active=t,this.control?(i.utils.remove_class("buzzplayer-icon-sound-off",this.control),i.utils.remove_class("buzzplayer-icon-sound-on",this.control),this.status.active?this.control.className+=" buzzplayer-icon-sound-on":this.control.className+=" buzzplayer-icon-sound-off"):void 0},n.prototype.draw=function(t){var e,n,o;return n=r.createElement("div"),n.style.background="transparent",n.style.cursor="pointer",e=r.createElement("span"),e.style.width=e.style.height="28px",n.style.height=n.style.width=i.utils.bowser.mobile||i.utils.bowser.tablet?"100px":e.style.width,n.style.position=e.style.position="absolute",e.style.webkitTransform=e.style.transform="translate3d(0,0,0)",e.style.bottom=n.style.bottom=function(){switch(this.core.loaded_data.content_type){case"video_url":case"facebook":return"3px";default:return"0"}}.call(this),e.style.right=n.style.right=0,e.style.zIndex=n.style.zIndex=999,e.className+=" buzzplayer-icon-rounded buzzplayer-icon buzzplayer-icon-bg-black",o=r.createElement("span"),e.appendChild(o),n.appendChild(e),this.control=e,this.foreground=n,this.changeStatus(this.status.active),t.appendChild(n)},n.prototype.initSoundControl=function(){return this.control.className+=" buzzplayer-icon-hoverable",i.utils.add_event_listener("click",function(t){return function(){return t.changeStatus(!t.status.active),t.callStrategy("widget:setVolume",+t.status.active*t.unmutedVolume)}}(this),this.foreground)},n}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Player.Modules.Overroll=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.triggersEvents=["overroll:destroy_inactive"],i.prototype.addsStrategies=[["get_wrap",3,"getWrap"]],i.prototype.callsStrategies=["close_button:is_shown","resize:calcWidth","resize:calcHeight","overroll:stopDestructionTimer","widget:setVolume"],i.prototype.moduleName="overroll",i.prototype.handlesEvents={"close_button:drawn":function(){return this.callStrategy("close_button:is_shown")?void 0:this.message=this.renderMessageContainer()},"event:state":function(t){switch(t){case"ready":return this.callStrategy("widget:setVolume",50);case"start":return this.message&&(this.message.innerHTML=""),this.callStrategy("overroll:stopDestructionTimer");case"finish":return this.core.destroy()}}},i.prototype.init=function(){return this.state=""},i.prototype.getWrap=function(){var t;return t=r.createElement("div"),t.innerHTML="<div class='buzz_code' data-width='16' data-height='9'></div>",t},i.prototype.renderMessageContainer=function(){var t;return t=r.createElement("div"),t.style.cssText="position: absolute; top: 10px; left: 0; color: white; text-shadow: 2px 2px 2px #000; font-size: 13px; font-family: sans-serif; text-align: center; z-index: 99999; width: 100%;",t.innerHTML="<div style=' border-radius: 2px; opacity: 0.8; display: inline-block; padding: 10px; background-color: #000;'> \u0424\u0438\u043b\u044c\u043c \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043f\u043e\u0441\u043b\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0433\u043e \u0440\u043e\u043b\u0438\u043a\u0430 </div>",this.core.wrap.appendChild(t),t},i}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Player.Modules.PauseWhenUnseen=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.callsStrategies=["widget:pause"],r.prototype.handlesEvents={"engagement:user_left_page":function(){return this.core.state.playPageBack="play"===this.core.state.state,this.pause()},"engagement:unseen":function(){return this.pause()}},r.prototype.pause=function(){return"play"===this.core.state.state?this.callStrategy("widget:pause"):void 0},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Player.Modules.Repeat=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.callsStrategies=["widget:play"],r.prototype.handlesEvents={"event:state":function(t){return"finish"===t?this.callStrategy("widget:play"):void 0}},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Player.Modules.ShareButtons=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.callsStrategies=["widget:pause"],n.prototype.handlesEvents={"event:state":function(t){return"ready"===t?(this.addStyles(),this.renderButtons(),this.addEventsListenersButtonContainer()):void 0},"before:destroyed":function(){return this.onOver&&i.utils.remove_event_listener("mouseover",this.onOver,this.core.container),this.onOut?i.utils.remove_event_listener("mouseout",this.onOut,this.core.container):void 0}},n.prototype.renderButtons=function(){var t,e,i,n,o,s;for(e=r.createElement("div"),e.className="buzzplayer-social_block "+this.sideShareButtons,this.core.wrap.insertBefore(e,this.core.wrap.firstChild),-1!==this.shareButtons.indexOf("embed")&&this.shareButtons.splice(this.shareButtons.indexOf("embed"),1),s=this.shareButtons,n=0,o=s.length;o>n;n++)i=s[n],"embed"!==i&&(t=r.createElement("div"),t.setAttribute("soc_name",i),t.className="buzzplayer-social buzzplayer-"+i,e.appendChild(t));return e.style["margin"+function(){switch(this.sideShareButtons){case"left":case"right":return"Top";case"top":case"bottom":return"Left"}}.call(this)]="-"+32*this.shareButtons.length/2+"px",this.buttonContainer=e},n.prototype.addEventsListenersButtonContainer=function(){return i.utils.add_event_listener("click",function(t){return function(e){var r,i;try{if(i=e.target.getAttribute("soc_name"),-1!==t.shareButtons.indexOf(i))return t.callStrategy("widget:pause"),t.share(i)}catch(r){return e=r,console.log("SHARE ERROR",e)}}}(this),this.buttonContainer),i.utils.bowser.msie?(this.onOver=function(t){return function(){return t.buttonContainer.style[t.sideShareButtons]="0px",i.utils.remove_event_listener("mouseover",t.onOver,t.core.container),i.utils.add_event_listener("mouseout",t.onOut,t.core.container)}}(this),this.onOut=function(t){return function(){return t.buttonContainer.style[t.sideShareButtons]="-30px",i.utils.add_event_listener("mouseover",t.onOver,t.core.container),i.utils.remove_event_listener("mouseout",t.onOut,t.core.container)}}(this),i.utils.add_event_listener("mouseover",this.onOver,this.core.container)):void 0},n.prototype.addStyles=function(){return i.utils.addStyles(".buzzplayer-social {\n	background-image:url("+this.core.params.origin+"/img/social_buttons.png);\n}")},n}(i.Modules.BaseShareButtons)}(window,document,Buzzoola),function(t,r,n){return n.Modules.Widgets.Player.Modules.TrackingUrlSender=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.callsStrategies=["tracking_url:send"],r.prototype.handlesEvents={"event:player_seen_first_time":function(){return this.sendEvent("player_seen")},"event:state":function(t){return this.sendEvent(t)},"event:tick":function(){return this.sendEvent("tick")},"share_button:clicked":function(t){return this.callStrategy("tracking_url:send","share_"+t)}},r.prototype.events=["ctor","play","pause","tick","player_seen","duration"],r.prototype.noSliceEvents=["ctor","pause","player_seen","duration"],r.prototype.init=function(){return this.sendEvent("ctor")},r.prototype.sendEvent=function(t){return-1!==this.events.indexOf(t)?(i.call(this.noSliceEvents,t)<0&&(t+=this.core.state.slice),this.callStrategy("tracking_url:send",t)):void 0},r}(n.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Player.Modules.UserEngagement=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.callsStrategies=["engagement:enableListenerForVisibility","engagement:enableListenerForLeavePage","engagement:disableListener"],i.prototype.handlesEvents={"event:state":function(t){return"ready"===t?(this.callStrategy("engagement:enableListenerForVisibility"),this.callStrategy("engagement:enableListenerForLeavePage")):"play"===t?r.activeElement.blur():void 0}},i}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Player.Modules.YandexMetrik=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.callsStrategies=["metrika:reachGoal"],r.prototype.handlesEvents={"event:tick":function(t){return 0===+t?this.callStrategy("metrika:reachGoal","Tick0",{uuid:this.core.loaded_data.uuid,timestamp:Date.now()}):void 0}},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Scroller.Modules.APIEventSender=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.onEvents={"engagement:seenFirstTime":"player_seen","fullscreen:open":"landing_open","fullscreen:close":"landing_close"},r.prototype.allowEvents={scroller:["ctor","player_seen","landing_open","landing_close"]},r}(i.Modules.BaseAPIEventSender)}(window,document,Buzzoola),function(t,r,i){var n;return n=i.Modules.Mixins.ScrollLock,i.Modules.Widgets.Scroller.Modules.Fullscreen=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.triggersEvents=["fullscreen:open","fullscreen:close"],n.prototype.addsStrategies=[["fullscreen:open",0,"open"],["fullscreen:close",0,"close"]],n.prototype.callsStrategies=["resize:calcWidth","resize:calcHeight"],n.prototype.handlesEvents={drawn:function(){return this.closeBtn=this.core.wrap_html.querySelector("a.buzz-scroll__close"),this.clipContainer=this.core.wrap_html.querySelector("div.buzz-scroll__clip"),this.maximizeBtn=this.core.wrap_html.querySelector("span.buzz-scroll__maximize"),this.detailBtn=this.core.wrap_html.querySelector("a.buzz-scroll__detail"),this.foreground=this.renderForeground(),this.close(!0),i.utils.add_event_listener("click",function(t){return function(e){return e.preventDefault(),t.open()}}(this),this.foreground),i.utils.add_event_listener("click",function(t){return function(e){return e.preventDefault(),t.close()}}(this),this.closeBtn)},"resize:after":function(t,e){return this.foreground?null!=this.core.params.screenWidth?(this.foreground.style.width=this.core.params.screenWidth+"px",this.foreground.style.height=this.core.params.screenWidth/16*9+"px"):(this.foreground.style.width=t+"px",this.foreground.style.height=e+"px"):void 0}},n.prototype.open=function(){return this.foreground.style.display="none",this.maximizeBtn&&(this.maximizeBtn.style.display="none"),this.closeBtn&&(this.closeBtn.style.display="block"),this.detailBtn&&(this.detailBtn.style.display="block"),this.clipContainer.style.clip="auto",this.clipContainer.className="buzz-scroll__clip",this.lockScroll(),this.trigger("fullscreen:open")},n.prototype.close=function(t){return this.foreground.style.display="block",this.maximizeBtn&&(this.maximizeBtn.style.display="block"),this.closeBtn&&(this.closeBtn.style.display="none"),this.detailBtn&&(this.detailBtn.style.display="none"),this.clipContainer.style.clip="rect(auto auto auto auto)",this.clipContainer.className+=" buzz-scroll__clip_closed",this.releaseScroll(),t?void 0:this.trigger("fullscreen:close")},n.prototype.renderForeground=function(){var t;return t=r.createElement("div"),t.style.background="transparent",t.style.width=this.callStrategy("resize:calcWidth")+"px",t.style.height=this.callStrategy("resize:calcHeight")+"px",t.style.position="absolute",t.style.top="0",t.style.zIndex="9999",t.style.cursor="pointer",this.core.wrapperBlock.appendChild(t),t},n}(i.Modules.BaseModule),n(i.Modules.Widgets.Scroller.Modules.Fullscreen.prototype)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Scroller.Modules.UserEngagement=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.callsStrategies=["engagement:enableListenerForVisibility","engagement:disableListener"],r.prototype.init=function(){return this.callStrategy("engagement:enableListenerForVisibility")},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Scroller.Modules.Wrap=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.addsStrategies=[["get_wrap",7,"getWrap"]],i.prototype.getWrap=function(){var t;return t=r.createElement("div"),t.className="buzz-scroll",t.innerHTML="<div class='buzz-scroll__wrapper'> <a href='#' class='buzz-scroll__close'> <span class='buzz-scroll__close__wrap'> <svg viewBox='0 0 100 100' class='buzz-scroll__icon'> <polygon fill-rule='evenodd' clip-rule='evenodd' points='100,89.494 60.507,50.001 99.997,10.51 89.49,0 50,39.493 10.509,0.002 0.002,10.51 39.491,50.001 0,89.494 10.509,100 50,60.507 89.49,100 '/> </svg> </span> </a> <div class='buzz-scroll__sub-wrapper'> <div class='buzz-scroll__clip'> <div class='buzz-scroll__clip__fixed buzz_code'></div> </div> </div> <span class='buzz-scroll__maximize buzz-scroll__maximize_active'> <svg viewBox='0 0 100 100' class='buzz-scroll__icon'> <path fill-rule='evenodd' clip-rule='evenodd' d='M38,11V0H0v38h11V19.485l27.021,27.021l8.485-8.485L19.485,11H38z M62,0v11h18.515 L53.494,38.021l8.485,8.485L89,19.485V38h11V0H62z M89,80.021L61.979,53.123l-8.485,8.609L80.515,89H62v11h38V62H89V80.021z M38.021,53L11,80.021V62H0v38h38V89H19.485l27.021-27.268L38.021,53z'/> </svg> </span> </div>",t},i}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.TGB.Modules.APIEventSender=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.onEvents={"engagement:seenFirstTime":"player_seen","share_button:clicked":"share","landing:open":"landing_open","landing:close":"landing_close","landing:action":"invoke_action"},r.prototype.paramsEventData={share:function(t){return{external:t}}},r.prototype.allowEvents={image_url:["ctor","player_seen","share","landing_open","landing_close","invoke_action"]},r}(i.Modules.BaseAPIEventSender)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.TGB.Modules.ClickthroughURL=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.triggersEvents=["widget:click"],r.prototype.handlesEvents={drawn:function(){return this.core.wrap_html.style.cursor="pointer",this._onClick_=function(t){return function(e){return t.onOpen(e)}}(this),i.utils.add_event_listener("click",this._onClick_,this.core.wrap_html)},"before:destroyed":function(){return i.utils.remove_event_listener("click",this._onClick_,this.core.wrap_html)}},r.prototype.onOpen=function(t){var e,r;return(e=this.core.loaded_data.clickthrough_URL)?(""!==this.core.params.slugname&&(e+=(-1!==e.indexOf("?")&&"&"||"?")+"slugname="+this.core.params.slugname),i.utils.openLink(e,("native"===(r=this.core.state.format)||"expandable"===r)&&(i.utils.bowser.mobile||i.utils.bowser.tablet),this.core.params.is_ios),this.trigger("widget:click")):void 0},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.TGB.Modules.Overroll=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.addsStrategies=[["get_wrap",20,"getWrap"],["overroll:getWaitAndDestroyIfInactiveTime",1,function(){return 30}],["close_button:handle_click",1,"handleClick"]],n.prototype.callsStrategies=["resize:call","wrap:width","wrap:height","widget:imgRatio"],n.prototype.handlesEvents={"overroll:shown":function(){var t;return this.core.wrap_html.style.background="rgba(0, 0, 0, 0.7)",this.core.wrap_html.style.padding="20px",t=this.core.wrap_html.children[0],t&&(t.style.background="white",this.core.loaded_data.custom_html||(t.style.padding="1em")),this.callStrategy("resize:call")},"widget:resize":function(t,e){var r,n,o,s,a,l,u;if(r=this.core.wrap_html){for(u=t,a=["padding-left","padding-right"],n=0,o=a.length;o>n;n++)s=a[n],u+=parseFloat(i.utils.getPropertyValue(r,s)||0);return l=e*this.callStrategy("widget:imgRatio"),r.style.paddingLeft=r.style.paddingRight=(u-l)/2+"px"}}},n.prototype.getWrap=function(){var t,e;return e=r.createElement("div"),t=r.createElement("div"),t.appendChild(this.core.callStrategyByMaxPriority("get_wrap",19)),e.appendChild(t),e},n.prototype.handleClick=function(t){var e;if(!((null!=(e=this.callStrategy("close_button:get_button"))?e.className.indexOf("buzz__not__allowed"):void 0)>=0))return i.utils.bowser.mobile||i.utils.bowser.tablet?setTimeout(function(t){return function(){return t.core.destroy()}}(this),0):this.core.destroy()},n}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.TGB.Modules.Scale=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.callsStrategies=["widget:scale"],r.prototype.handlesEvents={drawn:function(){return i.utils.add_resize_listener(this.core.wrap,function(t){return function(){return t.core.state.destroyed||t.core.state.collapsing?void 0:t.callStrategy("widget:scale")}}(this))}},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.TGB.Modules.TrackingUrlSender=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.callsStrategies=["tracking_url:send"],r.prototype.handlesEvents={"engagement:seenFirstTime":function(){return this.sendState("player_seen")},"widget:click":function(){return this.sendState("click")}},r.prototype.state_send=["ctor","player_seen","click"],r.prototype.init=function(){return this.sendState("ctor")},r.prototype.sendState=function(t){return-1!==this.state_send.indexOf(t)?this.callStrategy("tracking_url:send",t):void 0},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.TGB.Modules.UserEngagement=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.callsStrategies=["engagement:enableListenerForVisibility","engagement:disableListener","engagement:enableListenerForLeavePage"],
r.prototype.handlesEvents={"engagement:seenFirstTime":function(){return this.callStrategy("engagement:disableListener","visibility")}},r.prototype.init=function(){return this.callStrategy("engagement:enableListenerForLeavePage"),this.callStrategy("engagement:enableListenerForVisibility")},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.Player.Modules.BaseModule=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.addsStrategies=[["widget:loadVideo",0,"loadVideo"],["widget:setVolume",0,"setVolume"],["widget:play",0,"play"],["widget:pause",0,"pause"],["widget:resize",0,"resize"],["widget:getCurrentTime",0,"getCurrentTime"],["widget:getTotalTime",0,"getTotalTime"]],r.prototype.triggersEvents=["widget:state_changed","widget:volume_changed","error"],r.prototype.callsStrategies=["get_video_size","resize:calcWidth","resize:calcHeight"],r.prototype.init=function(){var t;return t=this.callStrategy("get_video_size",this.callStrategy("resize:calcWidth"),this.callStrategy("resize:calcHeight")),this.initialWidth=t.width,this.initialHeight=t.height,this.data={ready:!1,started:!1,state:"loading"},this.showPanels=+(this.core.loaded_data.player_show_panels&&!this.core.params.is_expandable)},r.prototype.initPlayerEventHandlers=function(){var t,e,r,i;if(this.playerHandlesEvents&&this.player){r=this.playerHandlesEvents,i=[];for(t in r)e=r[t],i.push(this.player.on(t,function(t){return function(e,r){return function(){return r.apply(t,Array.prototype.slice.call(arguments))}}}(this)(t,e)));return i}},r.prototype.changeState=function(t){return this.data.state!==t?this.trigger("widget:state_changed",this.data.state=t):void 0},r.prototype.play=function(){return this.player?this.player.play():void 0},r.prototype.pause=function(){return this.player&&"pause"!==this.data.state?this.player.pause():void 0},r.prototype.setVolume=function(t){return this.player?(this.player.setVolume(t),this.trigger("widget:volume_changed",+t)):void 0},r.prototype.stop=function(){return this.player?this.player.stop():void 0},r.prototype.resize=function(t,e){return this.player?this.player.resize(t,e):(this.initialWidth=t,this.initialHeight=e)},r.prototype.getCurrentTime=function(){return this.player?this.player.getCurrentTime():-1},r.prototype.getTotalTime=function(){return this.player?this.player.getTotalTime():-1},r}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){var n;return n=i.Modules.Widgets.Player.Modules,n.IsPlayer=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.handlesEvents={destroyed:function(){return this.player?this.player.destroy():void 0}},r.prototype.playerHandlesEvents={ready:function(){return this.data.ready=!0,this.changeState("ready")},pause:function(){return this.changeState("pause")},play:function(){return this.data.started||(this.data.started=!0,this.changeState("start")),this.changeState("play")},finish:function(){return this.changeState("finish")},error:function(t){return this.trigger("error",t)}},r.prototype.init=function(){return r.__super__.init.call(this),this.dataFolderUrl=this.core.loaded_data.main_content,this.params=this.core.loaded_data.content,this.params.frames_per_image=+(this.params.images_per_frame||this.params.frames_per_image||10),this.container=this.core.widget_div},r.prototype.loadVideo=function(){return this.player=new i.Is.Player({container:this.container,dataFolder:this.dataFolderUrl,totalFrames:+this.params.frames_num,totalImages:Math.ceil(+this.params.frames_num/this.params.frames_per_image),width:this.initialWidth,height:this.initialHeight,origin:this.core.params.origin,fps:+(this.params.fps||17),framesPerImage:this.params.frames_per_image,thumbnail:this.core.loaded_data.thumbnail,clickthrough_URL:this.core.loaded_data.clickthrough_URL,action_button_title:this.core.loaded_data.action_button_title,overroll:this.core.params.overroll}),this.initPlayerEventHandlers()},r}(n.BaseModule)}(window,document,Buzzoola),function(r,i,n){var o;return o=n.Modules.Widgets.Player.Modules,o.VASTPlayer=function(o){function s(){return s.__super__.constructor.apply(this,arguments)}return e(s,o),s.prototype.triggersEvents=["widget:state_changed","widget:volume_changed","share_button:clicked","error"],s.prototype.handlesEventsVAST={onVastShareButtonClicked:function(t){return this.trigger("share_button:clicked",t)},onVastPlayerStateChange:function(t){return this.onStateChange(t)},onVastPlayerError:function(t){return this.trigger("error",t)}},s.prototype.init=function(){var t;return s.__super__.init.call(this),this.containerId=this.core.params.id,this.content=this.core.loaded_data.creative_hash,this.canPlayFlash=this.core.params.can_play_flash,this.apiPlayerURL=this.core.params.origin+"/swf/buzzplayer.swf",this.flashVars={buzz_ctor:n.utils.Base64.encode(JSON.stringify(this.core.loaded_data)),hash:this.content,event_url:this.core.loaded_data.event_url,parentFQDN:this.core.params.parent,hostedFQDN:BUZZOOLA.hosted,referrerFQDN:BUZZOOLA.referrer,buzz_player_id:this.containerId,buzz_skip_button:"false",buzz_autoplay:"false",buzz_hide_play_button_on_first_start:this.core.loaded_data.auto_play&&("overroll"===(t=this.core.state.format)||"expandable"===t),buzz_controls:!!this.showPanels,buzz_send_js_events:"true",buzz_origin:this.core.params.origin+"/swf/buzzoolavpaid"+("vast"===this.core.loaded_data.content_type?"3":"")+".swf",buzz_send_stat:"false",buzz_thumb_url:this.core.loaded_data.thumbnail,is_prod:+("prod"===this.core.environment)}},s.prototype.loadVideo=function(){var e,n,o,s;if(!this.canPlayFlash)return this.trigger("error","flash not supported");this.core.wrap.style.background="black",r.buzz_swfobject.embedSWF(this.apiPlayerURL,this.containerId,this.initialWidth,this.initialHeight,"10",null,this.flashVars,{allowScriptAccess:"always",wmode:"transparent",bgcolor:"#000000",allowfullscreen:"true"},null),o=this.handlesEventsVAST,s=[];for(n in o)e=o[n],s.push(function(e){return function(n,o){return r[n]=function(n){return function(){var s,a;return a=arguments[0],s=2<=arguments.length?t.call(arguments,1):[],n&&n.apply(r,[a].concat(s)),e.containerId===a?(e.player||(e.player=i.querySelector("#"+e.containerId)),o.apply(e,s)):void 0}}(r[n])}}(this)(n,e));return s},s.prototype.play=function(){var t;return(null!=(t=this.player)?t.playVideo:void 0)?this.player.playVideo():void 0},s.prototype.pause=function(){var t;return(null!=(t=this.player)?t.pauseVideo:void 0)?this.player.pauseVideo():void 0},s.prototype.stop=function(){var t;return(null!=(t=this.player)?t.stopVideo:void 0)?this.player.stopVideo():void 0},s.prototype.setVolume=function(t){var e;return(null!=(e=this.player)?e.setVolume:void 0)?(this.player.setVolume(t),this.trigger("widget:volume_changed",+t)):void 0},s.prototype.resize=function(t,e){var r,i;if(!this.player)return this.initialWidth=t,this.initialHeight=e;try{return this.player.width=t,this.player.height=e}catch(i){return r=i,this.core.log("bad resizing")}},s.prototype.getCurrentTime=function(){var t;return(null!=(t=this.player)?t.timeData:void 0)?this.player.timeData().currentTime:-1},s.prototype.getTotalTime=function(){var t;return(null!=(t=this.player)?t.timeData:void 0)?this.player.timeData().duration:-1},s.prototype.onStateChange=function(t){return this.data.state!==t?(this.data.started||"play"!==t||(this.data.started=!0,this.onStateChange("start"),this.onStateChange("duration")),this.data.state=t,this.trigger("widget:state_changed",this.data.state=t)):void 0},s}(o.BaseModule)}(window,document,Buzzoola),function(t,r,i){var n;return n=i.Modules.Widgets.Player.Modules,n.VideojsPlayer=function(n){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,n),o.prototype.playerHandlesEvents={play:function(){return this.player.seeking()?void 0:(this.data.started||(this.data.started=!0,this.changeState("start"),this.changeState("duration")),this.changeState("play"))},pause:function(){return this.player.seeking()||this.player.ended()?void 0:this.changeState("pause")},ended:function(){return this.changeState("finish")},error:function(){var t;return this.player&&this.player.error&&(t=this.player.error()),this.trigger("error",(null!=t?t.message:void 0)||(null!=t?t.code:void 0)?"videojs code "+t.code+": "+t.message:"html5 video")},seeked:function(){return this.changeState("play")}},o.prototype.init=function(){return o.__super__.init.call(this),this.videojsLibUrl=this.core.params.origin+"/build/video.novtt.js",this.videoUrl=this.core.loaded_data.main_content,!this.showPanels&&(this.core.widget_div.className+=" buzz-videojs-hidecontrols",i.utils.bowser.mobile||i.utils.bowser.tablet)?this.core.widget_div.className+=" buzz-videojs-mobile-show-play-button":void 0},o.prototype.loadVideo=function(){return t.videojs?this.renderVideoJS():i.utils.loadScript(this.videojsLibUrl,function(t){return function(e){return e?t.trigger("error","not loaded videojs"):t.renderVideoJS()}}(this))},o.prototype.renderVideoJS=function(){return this.renderVideoTag(),this.player=t.videojs(this.videoTag,{children:{bigPlayButton:!this.core.loaded_data.auto_play||i.utils.bowser.mobile||i.utils.bowser.tablet}},function(t){return function(){return i.utils.bowser.android&&i.utils.add_event_listener("touchstart",function(){return"play"!==t.data.state&&(t.play(),t.core.state.seen&&t.core.loaded_data.auto_play||t.pause()),i.utils.remove_event_listener("touchstart",arguments.callee,r)},r),setTimeout(function(){return t.player.load(),t.onPlayerReady()},0)}}(this)),this.showPanels?void 0:(this.player.controlBar.progressControl.seekBar.off("mousedown"),this.player.controlBar.progressControl.seekBar.off("touchstart"),this.player.controlBar.progressControl.seekBar.off("click"))},o.prototype.onPlayerReady=function(){return this.initPlayerEventHandlers(),this.changeState("ready")},o.prototype.setVolume=function(t){return this.player.volume(t/100),this.trigger("widget:volume_changed",+t)},o.prototype.resize=function(t,e){return this.player?(this.player.width(t),this.player.height(e)):(this.initialWidth=t,this.initialHeight=e)},o.prototype.getCurrentTime=function(){return this.player?this.player.currentTime():-1},o.prototype.getTotalTime=function(){return this.player?this.player.duration():-1},o.prototype.renderVideoTag=function(){var t,e;return e=r.createElement("video"),e.className="video-js vjs-default-skin vjs-big-play-centered",e.setAttribute("width",this.initialWidth+"px"),e.setAttribute("height",this.initialHeight+"px"),e.setAttribute("controls","true"),e.setAttribute("preload","auto"),t=r.createElement("source"),t.setAttribute("src",this.videoUrl),t.setAttribute("type","video/mp4"),e.appendChild(t),this.videoTag=e,this.core.widget_div.appendChild(e)},o}(n.BaseModule)}(window,document,Buzzoola),function(t,r,i){var n,o,s,a,l,u;for(n=i.Modules.Widgets.Player.Modules,n.YoutubePlayer=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.handlesEvents={"before:destroyed":function(){return this.player&&this.player.destroy?this.player.destroy():void 0}},r.prototype.init=function(){return r.__super__.init.call(this),this.id=this.core.params.id+i.utils.guid(),this.videoID=this.core.loaded_data.main_content,this.isIos=this.core.params.is_ios},r.prototype.loadVideo=function(){return this.player=new i.YoutubePlayer({ytDivId:this.id,container:this.core.widget_div,videoID:this.videoID,isIos:this.isIos,showPanels:this.showPanels,initialWidth:this.initialWidth,initialHeight:this.initialHeight,changeState:function(t){return function(e,r){return t.changeState(e,r)}}(this),auto_play:this.core.loaded_data.auto_play}),this.player.loadVideo()},r.prototype.changeState=function(t,e){return r.__super__.changeState.call(this,t),"error"===t?this.trigger("error","youtube code: "+e):void 0},r}(n.BaseModule),l=["play","pause","setVolume","stop"],u=[],o=0,s=l.length;s>o;o++)a=l[o],u.push(function(t){var e,r;return(e=n.YoutubePlayer).prototype[r=t]=function(){return this.core.loaded_data.auto_play?e.__super__[r].apply(this,arguments):void 0}}(a));return u}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.TGB.Modules.Landing.Core=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.triggersEvents=["landing:open","landing:close","landing:action"],n.prototype.callsStrategies=["shareButtons:renderButtons","shareButtons:addEventsListenersButtonContainer"],n.prototype.handlesEvents={drawn:function(){return this._onClick_=function(t){return function(e){return t.onOpen(e)}}(this),i.utils.add_event_listener("click",this._onClick_,this.core.wrap_html),this.core.wrap_html.style.cursor="pointer",this.render(),this.initHandlersPopup()},"engagement:user_left_page":function(){return this.onClose()},"before:destroyed":function(){var t;return(null!=(t=this.popup)?t.parentNode:void 0)&&this.popup.parentNode.removeChild(this.popup),this._onClick_&&this.core.wrap_html?i.utils.remove_event_listener("click",this._onClick_,this.core.wrap_html):void 0}},n.prototype.onOpen=function(){return i.utils.remove_class("buzz-fadeOut",this.popup),this.popup.className+=" buzz-fadeIn",this.trigger("landing:open")},n.prototype.onClose=function(){return i.utils.remove_class("buzz-fadeIn",this.popup),this.popup.className+=" buzz-fadeOut",this.trigger("landing:close")},n.prototype.render=function(){var t,e;return this.popup=r.createElement("div"),this.popup.className="buzz-popup buzz-fadeOut",e=i.utils.guid(),t="<div class='buzz-popup-header'>",""!==this.core.loaded_data.sponsor_name?(t+="<font color='#999'>\u041f\u0420\u0418 \u0423\u0427\u0410\u0421\u0422\u0418\u0418 </font>",""!==this.core.loaded_data.sponsor_logo&&(t+="<img src='"+this.core.loaded_data.sponsor_logo+"'>"),t+="<b> "+this.core.loaded_data.sponsor_name+"</b>"):t+="<b>"+this.core.loaded_data.title+"</b>",t+="<div class='buzz-popup-back'>\u2190</div> </div> <div class='buzz-popup-body'> "+(this.core.loaded_data.content.landing_options.html_body?this.core.loaded_data.content.landing_options.html_body:"")+" </div> <div class='buzz-popup-footer "+e+"'> "+this.callStrategy("shareButtons:renderButtons")+" <a class='buzz-cta' href='"+(this.core.loaded_data.content.landing_options.action_click_url||"")+"' target='_blank' > <span>"+(this.core.loaded_data.content.landing_options.action_click_text||"")+"</span> </a> </div>",this.popup.innerHTML=t,this.core.container.appendChild(this.popup),this.addStylesShareButtons(e),this.popup},n.prototype.initHandlersPopup=function(){return this.popup?(i.utils.add_event_listener("click",function(t){return function(){return t.onClose()}}(this),this.popup.getElementsByClassName("buzz-popup-back")[0]),i.utils.add_event_listener("click",function(t){return function(){return t.trigger("landing:action")}}(this),this.popup.getElementsByClassName("buzz-cta")[0]),this.callStrategy("shareButtons:addEventsListenersButtonContainer",this.popup)):void 0},n.prototype.addStylesShareButtons=function(t){var e,r,n,o,s,a,l,u;if(u=this.popup.querySelectorAll("div.buzz-popup-footer > ul li"),u.length){for(e=this.popup.querySelector("a.buzz-cta > span").offsetWidth,s="",a=[],r=n=0,o=u.length;o>n;r=++n)l=u[r],s+="@media only screen and (min-width:"+(41*(r+1)+e)+"px) { ."+t+" li:nth-child("+(r+1)+") { display: block; } }",a.push(i.utils.addStyles(s));return a}},n}(i.Modules.BaseModule)}(window,document,Buzzoola),function(t,r,i){return i.Modules.Widgets.TGB.Modules.Landing.ShareButtons=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.addsStrategies=[["shareButtons:renderButtons",0,"renderButtons"],["shareButtons:addEventsListenersButtonContainer",0,"addEventsListenersButtonContainer"]],r.prototype.renderButtons=function(){var t,e,r,i,n;if(n="",this.shareButtons&&this.shareButtons.length){for(n+="<ul>",i=this.shareButtons,e=0,r=i.length;r>e;e++)t=i[e],n+=function(){switch(t){case"facebook":return"<li class='buzz-share-fb' soc-name='"+t+"'> <a> <svg version='1.1' class='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' wclassth='34px' height='34px' viewBox='0 0 34 34' enable-background='new 0 0 34 34' xml:space='preserve'> <path d='M8.8,11.2h3.5V9.6V8.1V7.8c0-1.5,0-3.8,1.1-5.3C14.6,1,16.2,0,18.9,0c4.4,0,6.3,0.6,6.3,0.6l-0.9,5.2c0,0-1.5-0.4-2.8-0.4 c-1.4,0-2.6,0.5-2.6,1.9v0.6v1.8v1.6h5.6l-0.4,5.1h-5.2V34h-6.6V16.3H8.8V11.2L8.8,11.2z'></path> </svg> </a> </li>";case"vkontakte":return"<li class='buzz-share-vk' soc-name='"+t+"'> <a> <svg version='1.1' class='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' wclassth='34px' height='34px' viewBox='0 0 34 34' enable-background='new 0 0 34 34' xml:space='preserve'> <path fill-rule='evenodd' clip-rule='evenodd' fill='#FFFFFF' d='M-1088.9-2593.2h98.5c32.4,0,60,15.9,60,48 c0,26.8-9.7,37.2-29.7,49c1.7,1.4,13.1,4.8,17,6.7c6.1,3,9.8,6.1,13.8,10.2c11.3,11.5,13.4,22,13.4,40.1c0,41.9-40.5,62.9-79.5,62.9 h-93.9L-1088.9-2593.2L-1088.9-2593.2z M-1035.4-2536.2l0,28.2c25.4,0,49.2,3.3,49.2-24.2c0-25.5-27-21.3-49.2-21.3L-1035.4-2536.2 L-1035.4-2536.2z M-1035.4-2416.2c27.8,0,62.1,4.6,62.7-27c0.6-32.9-35.3-27-62.7-27L-1035.4-2416.2L-1035.4-2416.2z'></path> <path fill-rule='evenodd' clip-rule='evenodd' d='M3.5,0h15.4c5.1,0,9.4,2.5,9.4,7.5c0,4.2-1.5,5.8-4.7,7.7c0.3,0.2,2.1,0.8,2.7,1.1 c1,0.5,1.5,1,2.2,1.6c1.8,1.8,2.1,3.5,2.1,6.3c0,6.6-6.3,9.9-12.5,9.9H3.4L3.5,0L3.5,0z M11.9,8.9l0,4.4c4,0,7.7,0.5,7.7-3.8 c0-4-4.2-3.3-7.7-3.3L11.9,8.9L11.9,8.9z M11.9,27.7c4.4,0,9.7,0.7,9.8-4.2c0.1-5.2-5.5-4.2-9.8-4.2L11.9,27.7L11.9,27.7z'></path> </svg> </a> </li>";case"twitter":return"<li class='buzz-share-tw' soc-name='"+t+"'> <a> <svg version='1.1' class='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' wclassth='34px' height='34px' viewBox='0 0 34 34' enable-background='new 0 0 34 34' xml:space='preserve'> <path d='M34,6.5c-1.3,0.6-2.6,0.9-4,1.1c1.4-0.9,2.5-2.2,3.1-3.9c-1.3,0.8-2.8,1.4-4.4,1.7c-1.3-1.4-3.1-2.2-5.1-2.2 c-3.9,0-7,3.1-7,7c0,0.5,0.1,1.1,0.2,1.6C10.9,11.5,5.8,8.7,2.4,4.5C1.8,5.5,1.4,6.7,1.4,8c0,2.4,1.2,4.6,3.1,5.8 c-1.1,0-2.2-0.4-3.2-0.9c0,0,0,0.1,0,0.1c0,3.4,2.4,6.2,5.6,6.8c-0.6,0.2-1.2,0.2-1.8,0.2c-0.4,0-0.9,0-1.3-0.1 c0.9,2.8,3.5,4.8,6.5,4.8c-2.4,1.9-5.4,3-8.7,3c-0.6,0-1.1,0-1.7-0.1c3.1,2,6.8,3.1,10.7,3.1c12.8,0,19.8-10.6,19.8-19.8 c0-0.3,0-0.6,0-0.9C31.9,9.1,33.1,7.9,34,6.5L34,6.5z'></path> </svg> </a> </li>";case"moimir":return"<li class='buzz-share-mm' soc-name='"+t+"'> <a> <svg version='1.1' class='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' wclassth='34px' height='34px' viewBox='0 0 34 34' enable-background='new 0 0 34 34' xml:space='preserve'> <path d='M21,23.7c-0.2,0.3-0.6,0.6-0.9,0.8c-0.4,0.3-0.8,0.5-1.3,0.8c-0.5,0.2-1,0.4-1.6,0.6c-0.6,0.1-1.2,0.2-1.8,0.2 c-0.9,0-1.6-0.1-2.4-0.4c-0.7-0.3-1.3-0.6-1.9-1.1c-0.5-0.5-0.9-1.1-1.2-1.8c-0.3-0.7-0.4-1.5-0.4-2.3c0-1,0.2-1.8,0.5-2.6 c0.3-0.7,0.8-1.4,1.4-1.9c0.6-0.5,1.4-0.9,2.2-1.2c0.9-0.3,1.8-0.4,2.9-0.4c0.8,0,1.6,0.1,2.2,0.2c0.6,0.1,1.1,0.2,1.6,0.3v-0.7 c0-0.4-0.1-0.8-0.2-1.2c-0.1-0.4-0.4-0.7-0.7-1c-0.3-0.3-0.7-0.5-1.2-0.7c-0.5-0.2-1.1-0.3-1.8-0.3c-0.9,0-1.8,0.1-2.6,0.3 c-0.9,0.2-1.8,0.5-2.8,0.9V8.8c0.4-0.2,0.8-0.3,1.2-0.5c0.5-0.1,0.9-0.3,1.5-0.4c0.5-0.1,1.1-0.2,1.6-0.3c0.5-0.1,1.1-0.1,1.6-0.1 c1.3,0,2.4,0.2,3.4,0.5c1,0.3,1.8,0.7,2.4,1.3c0.6,0.6,1.1,1.2,1.4,2c0.3,0.8,0.5,1.6,0.5,2.4v7.5c0,0.3,0,0.5,0,0.8 c0,0.2,0.1,0.4,0.2,0.6c0.1,0.2,0.2,0.3,0.4,0.4c0.2,0.1,0.4,0.1,0.6,0.1c0.6,0,1.2-0.2,1.7-0.5c0.5-0.4,1-0.9,1.4-1.5 c0.4-0.7,0.7-1.5,0.9-2.4c0.2-0.9,0.3-2,0.3-3.2c0-2.1-0.3-3.9-1-5.4c-0.7-1.5-1.6-2.8-2.8-3.9c-1.2-1-2.6-1.8-4.1-2.3 c-1.6-0.5-3.2-0.8-5-0.8c-2.4,0-4.4,0.4-6.1,1.2C9.4,5,8,6.1,6.9,7.4C5.8,8.7,5,10.2,4.5,11.9c-0.5,1.7-0.8,3.5-0.8,5.3 c0,2,0.3,3.8,0.9,5.5c0.6,1.7,1.5,3.1,2.7,4.4c1.2,1.2,2.7,2.2,4.4,2.9c1.8,0.7,3.8,1,6.2,1c1.1,0,2.1-0.1,3.1-0.2 c1-0.1,1.9-0.2,2.8-0.4s1.7-0.4,2.5-0.6c0.8-0.2,1.4-0.5,2-0.7v3.1c-0.6,0.2-1.3,0.5-2.1,0.7c-0.8,0.2-1.7,0.4-2.6,0.6 c-0.9,0.2-1.9,0.3-2.9,0.4c-1,0.1-2,0.2-3,0.2c-1.6,0-3.2-0.2-4.7-0.5c-1.5-0.3-2.9-0.8-4.2-1.5c-1.3-0.6-2.5-1.4-3.5-2.4 c-1.1-0.9-1.9-2-2.7-3.3C2,25.2,1.4,23.8,1,22.3c-0.4-1.5-0.6-3.1-0.6-4.9c0-2.6,0.4-4.9,1.2-7.1s1.9-4,3.4-5.5 c1.5-1.5,3.2-2.7,5.3-3.6c2.1-0.8,4.4-1.3,7-1.3c2.4,0,4.6,0.4,6.6,1.1c2,0.7,3.7,1.8,5.2,3.1c1.4,1.3,2.6,2.9,3.4,4.8 c0.8,1.9,1.2,3.9,1.2,6.2c0,1.8-0.2,3.3-0.6,4.7c-0.4,1.4-1,2.5-1.8,3.4c-0.8,0.9-1.6,1.6-2.7,2.1c-1,0.5-2.1,0.7-3.4,0.7 c-0.6,0-1.2-0.1-1.6-0.2c-0.4-0.1-0.8-0.3-1.2-0.5c-0.3-0.2-0.6-0.5-0.8-0.8C21.4,24.4,21.3,24.1,21,23.7L21,23.7L21,23.7z M20.4,18.1C20,18,19.5,17.9,19,17.8c-0.5-0.1-1.1-0.1-1.6-0.1c-1,0-1.9,0.2-2.5,0.6c-0.6,0.4-0.9,1.1-0.9,1.9 c0,0.4,0.1,0.8,0.2,1.1c0.1,0.3,0.3,0.5,0.6,0.7c0.2,0.2,0.5,0.3,0.8,0.4c0.3,0.1,0.7,0.1,1,0.1c0.4,0,0.8-0.1,1.2-0.2 c0.4-0.1,0.7-0.3,1.1-0.4c0.3-0.2,0.6-0.4,0.9-0.6c0.3-0.2,0.5-0.4,0.7-0.6V18.1L20.4,18.1z'></path> </svg> </a> </li>";case"odnoklassniki":return"<li class='buzz-share-ok' soc-name='"+t+"'> <a> <svg version='1.1' class='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' wclassth='34px' height='34px' viewBox='0 0 34 34' enable-background='new 0 0 34 34' xml:space='preserve'> <path fill-rule='evenodd' clip-rule='evenodd' d='M26.9,18.3c-0.5-1-1.8-1.8-3.6-0.4c-2.4,1.9-6.3,1.9-6.3,1.9s-3.9,0-6.3-1.9 c-1.8-1.4-3.1-0.6-3.6,0.4c-0.8,1.7,0.1,2.5,2.3,3.9c1.8,1.2,4.4,1.6,6,1.8L14,25.3c-1.9,1.9-3.8,3.8-5.1,5.1c-0.8,0.8-0.8,2,0,2.8 l0.2,0.2C9.5,33.8,10,34,10.6,34h0c0.5,0,1-0.2,1.4-0.6l5.1-5.1c1.9,1.9,3.8,3.8,5.1,5.1c0.8,0.8,2,0.8,2.8,0l0.2-0.2 c0.8-0.8,0.8-2,0-2.8L20,25.3L18.7,24c1.6-0.2,4.1-0.6,6-1.8C26.8,20.8,27.8,20,26.9,18.3L26.9,18.3z M17,4.4c2.3,0,4.2,1.9,4.2,4.2 c0,2.3-1.9,4.2-4.2,4.2c-2.3,0-4.2-1.9-4.2-4.2C12.8,6.3,14.7,4.4,17,4.4L17,4.4z M17,17.2c4.8,0,8.6-3.9,8.6-8.6S21.8,0,17,0 c-4.8,0-8.6,3.9-8.6,8.6S12.2,17.2,17,17.2L17,17.2z'></path> </svg> </a> </li>";default:return""}}();n+="</ul>"}return n},r.prototype.addEventsListenersButtonContainer=function(t){var e,r,n,o,s;if(t){for(s=t.querySelectorAll("div.buzz-popup-footer ul li"),n=[],e=0,r=s.length;r>e;e++)o=s[e],n.push(function(t){return function(e){var r;return r=e.getAttribute("soc-name"),i.utils.add_event_listener("click",function(e){var i;try{if(-1!==t.shareButtons.indexOf(r))return t.share(r)}catch(i){return e=i,console.log("SHARE ERROR",e)}},e)}}(this)(o));return n}},r}(i.Modules.BaseShareButtons)}(window,document,Buzzoola),function(r,i,n){var o,s,a,l,u,c;for(o=n.Modules.Widgets.Player.Modules,o.YoutubePlayerIframe=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.proxyMethods=["play","pause","setVolume","stop","getCurrentTime","getTotalTime"],o.prototype.init=function(){var t;o.__super__.init.call(this),this.id=this.core.params.id+n.utils.guid(),this.videoID=this.core.loaded_data.main_content,this.isIos=this.core.params.is_ios,"debug"===this.core.environment||"test"===this.core.environment?(this.iframeDomain=this.core.params.origin,this.iframeUrl=this.iframeDomain+"/youtube_iframe.html"):(this.iframeDomain=this.core.loaded_data.iframe_domains[Math.floor(Math.random()*this.core.loaded_data.iframe_domains.length)],this.iframeUrl=this.iframeDomain+"/new/youtube_iframe.html"),this.currentTime=this.totalTime=-1,t=function(t){return function(e){return t.onMessage.call(t,e)}}(this),n.utils.add_event_listener("message",t),this.core.on("before:destroyed",function(){return n.utils.remove_event_listener("message",t)})},o.prototype.loadVideo=function(){var e,r,i,n,o;for(this.createIframe(this.core.widget_div),this.player={},n=this.proxyMethods,o=[],e=0,r=n.length;r>e;e++)i=n[e],o.push(function(e){return function(r){return e.player[r]=function(){var i;return i=1<=arguments.length?t.call(arguments,0):[],e.sendPostMessage(r,i)}}}(this)(i));return o},o.prototype.destroy=function(){this.iframe&&this.core.widget_div&&this.core.widget_div.removeChild(this.iframe)},o.prototype.createIframe=function(t){this.iframe=i.createElement("iframe"),this.iframe.setAttribute("frameborder","0"),this.iframe.setAttribute("scrolling","no"),this.iframe.src=this.iframeUrl+"?id="+this.id+"&videoID="+this.videoID+"&isIos="+this.isIos+"&showPanels="+this.showPanels+"&initialWidth="+this.initialWidth+"&initialHeight="+this.initialHeight,(t||this.core.embed_container).appendChild(this.iframe),this.resize(this.initialWidth,this.initialHeight)},o.prototype.onMessage=function(t){var e,r,i;if(t.origin===this.iframeDomain)try{if(e=n.utils.Base64.decode(t.data),e=n.utils.JSON.parse(e),e.id!==this.id)return;switch(e.method){case"totalTime":case"currentTime":this[e.method]=e.value;break;case"changeState":this.changeState(e.value,e.params);break;case"onload":this.onload=!0}}catch(i){r=i,this.trigger("error",r)}},o.prototype.sendPostMessage=function(t,e){this.iframe&&this.onload?this.iframe.contentWindow.postMessage(JSON.stringify({method:""+t,arg:e}),this.iframeUrl):setTimeout(function(r){return function(){return r.sendPostMessage(t,e)}}(this),250)},o.prototype.resize=function(t,e){return this.iframe?(this.iframe.setAttribute("style","width: "+t+"px !important; height: "+e+"px !important"),this.sendPostMessage("resize",[t,e])):(this.initialWidth=t,this.initialHeight=e)},o.prototype.getCurrentTime=function(){return this.currentTime},o.prototype.getTotalTime=function(){return this.totalTime},o.prototype.changeState=function(t,e){return o.__super__.changeState.call(this,t),"error"===t?this.trigger("error","youtube code: "+e):void 0},o}(o.BaseModule),u=["play","pause","setVolume","stop"],c=[],s=0,a=u.length;a>s;s++)l=u[s],c.push(function(t){var e,r;return(e=o.YoutubePlayerIframe).prototype[r=t]=function(){return this.core.loaded_data.auto_play?e.__super__[r].apply(this,arguments):void 0}}(l));return c}(window,document,Buzzoola),function(e,r,i){return i.Core=function(){function n(t,r){var n;this.embed_container=t,this.options=null!=r?r:{},this.embed_container.controller=this,this.strategies={},this.events={},this.state={format:this.embed_container.hasAttribute("data-fullscreen")?"fullscreen":"native"},this.protocol=this.getProtocol(),this.environment=this.getEnvironment(),this.params={is_ios:"ios"===this.embed_container.getAttribute("data-platform"),debug_mode:this.embed_container.hasAttribute("data-debug"),id:"buzzframe_"+i.utils.guid(),parent:this.embed_container.getAttribute("data-pid")||"pub",content:this.embed_container.getAttribute("data-hash"),width:this.embed_container.getAttribute("data-width"),height:this.embed_container.getAttribute("data-height")||"",slugname:this.embed_container.getAttribute("data-slugname")||"",container_height:this.embed_container.getAttribute("data-container-height")||"",overroll:"fullscreen"!==this.state.format&&this.embed_container.hasAttribute("data-overroll"),"data-target":this.embed_container.getAttribute("data-target"),ad_align:this.embed_container.getAttribute("data-align"),origin:{dev:this.protocol+"//devtube.buzzoola.com/new",prod:this.protocol+"//tube.buzzoola.com/new",debug:this.protocol+"//childdomain.com:8000",test:this.protocol+"//"+e.location.host}[this.environment],apiUrl:{dev:this.protocol+"//devexchange.buzzoola.com",prod:this.protocol+"//exchange.buzzoola.com",debug:this.protocol+"//devexchange.buzzoola.com",test:this.protocol+"//devexchange.buzzoola.com"}[this.environment],logmill:"https://devlogmill.buzzoola.com",logmill_env:{dev:"dev_front_tube",prod:"prod_front_tube",debug:"dev_front_tube",test:"dev_front_tube"}[this.environment],stylesheet_paths:["/build/style.css"],can_play_flash:e.buzz_swfobject?e.buzz_swfobject.getFlashPlayerVersion().major>9:!1,version:Buzzoola.version},!this.embed_container.hasAttribute("data-side-share-buttons")||"left"!==(n=this.embed_container.getAttribute("data-side-share-buttons"))&&"top"!==n&&"right"!==n&&"bottom"!==n||(this.params.side_share_buttons=this.embed_container.getAttribute("data-side-share-buttons")),this.params.percent_width=-1!==this.params.width.indexOf("%"),this.params.expandable=("true"===this.embed_container.getAttribute("data-expandable")||"not_collapse"===this.embed_container.getAttribute("data-expandable")||"true"===this.embed_container.getAttribute("expandable"))&&!this.params.is_ios&&"fullscreen"!==this.state.format,this.airbrake=new i.utils.airbrakeJs.Client({projectId:1}),this.airbrake.setHost(this.params.logmill),this.airbrake.addFilter(function(t){return function(e){return e.context.environment=t.params.logmill_env,e}}(this)),this.loadStylesheets(),this.initModules(),this.container=this.callStrategy("get_container",this),this.trigger("got_container"),this.on("api:data_loaded",function(t){return function(){var e;return t.params.behavior=function(){switch(this.loaded_data.content_type){case"image_url":return"tgb";case"vast":case"youtube_id":case"video_url":case"infeed_video":case"vpaid":case"facebook":return"video";case"carousel":case"scroller":return this.loaded_data.content_type;default:return"undefined"}}.call(t),"fullscreen"===t.state.format&&"image_url"!==(e=t.loaded_data.content_type)&&"infeed_video"!==e&&"video_url"!==e?void t.trigger("error","unsupported content type for fullscreen format"):t.loaded_data.branding_template?i.utils.initModules(t,{Branding:!0}):t.trigger("remote_module_ready")}}(this)),this.on("cookie:loaded",function(t){return function(){return t.callStrategy("api:loadData")}}(this)),this.on("remote_module_ready",function(t){return function(){return t.initModulesAfterDataLoaded(),t.draw()}}(this)),this.on("error",function(t){return function(e){return t.state.error=!0,t.sendError(e),t.log("%cerror:","color:rgb(240,58,66);",e),t.destroy(e)}}(this)),this.on("warning",function(t){return function(e){return t.sendError(e),t.log("%cwarning:","color:rgb(234,166,27);",e)}}(this)),this.callStrategy("cookie:load")}return n.prototype.initModules=function(){return i.utils.initModules(this,{API:!0,Cookie:!0,DefaultSize:!0,Destroy:!0,PositionInsideEmbedBlock:!0,FullscreenAd:"fullscreen"===this.state.format,UserEngagement:!0,Expandable:this.params.expandable,Overroll:this.params.overroll,PositionDynamically:this.params["data-target"],Resize:!0,FacetzUserTracker:!0,ViewportOrientation:"fullscreen"===this.state.format,WeboramaUserTracker:!0,Wrap:!0})},n.prototype.initModulesAfterDataLoaded=function(){return i.utils.initModules(this,{CustomHtmlWrap:!!this.loaded_data.custom_html,CustomJs:!!this.loaded_data.custom_js,ImageOnHover:!!this.loaded_data.content.image_for_video_on_hover,TrackingUrl:"object"==typeof this.loaded_data.tracking_url,YandexMetrik:!!this.loaded_data.ya_id,HrefHandler:!0}),this.initWidget()},n.prototype.initWidget=function(){switch(this.params.behavior){case"video":return new i.Modules.Widgets.Player.Core(this);case"tgb":return new i.Modules.Widgets.TGB.Core(this);case"carousel":return new i.Modules.Widgets.Carousel.Core(this);case"scroller":return new i.Modules.Widgets.Scroller.Core(this);default:return this.trigger("error","content type is not defined")}},n.prototype.loadStylesheets=function(){var t;for(t=0;t<this.params.stylesheet_paths.length;)i.utils.add_stylesheet(this.params.origin+this.params.stylesheet_paths[t]),t++;return i.utils.addStyles('.buzzplayer-icon span{\n	background-image: url("'+this.params.origin+'/img/icons.svg");\n}')},n.prototype.draw=function(){var t,e;return i.utils.bowser.mobile||i.utils.bowser.tablet?this.container.className+=" buzzplayer-touch":this.container.className+=" buzzplayer-notouch","overroll"!==this.state.format&&(t=function(){switch(this.params.ad_align){case"left":return"0 auto 0 0";case"right":return"0 0 0 auto";default:return null}}.call(this),t&&(this.container.style.margin=t)),this.wrap_html=this.callStrategy("get_wrap"),this.container.appendChild(this.wrap_html),this.wrap=this.container.querySelector("div.buzz_code"),this.trigger("got_wrap",this.wrap_html),e=document.createElement("div"),e.id=this.params.id,
this.wrap.appendChild(e),this.widget_div=e,this.trigger("drawn")},n.prototype.destroy=function(){return this.trigger("before:destroyed"),this.callStrategy("destroy"),this.state.destroyed=!0,this.trigger(this.state.state="destroyed")},n.prototype.collapse=function(t){return this.state.collapsing=!0,this.wrap_html.style.height=i.utils.getPropertyValue(this.wrap_html,"height"),this.wrap_html.style.overflow="hidden",i.utils.transitionHeight(this.wrap_html,"0",function(e){return function(){return t?e.destroy():void 0}}(this))},n.prototype.getEnvironment=function(){var t,e,i,n,o;if(t=this.embed_container.getAttribute("data-debug_env"))return t;e=null,o=r.getElementsByTagName("script");for(i in o)if(n=o[i],"object"==typeof n&&0!==n.src.indexOf("buzzlibrary.js")){e=0===n.src.indexOf(this.protocol+"//dev")?0:1;break}return e?"prod":"dev"},n.prototype.getProtocol=function(){return"https:"===r.location.protocol?"https:":"http:"},n.prototype.addStrategy=function(t,e,r){return this.strategies[t]=this.strategies[t]||[],this.strategies[t].push({priority:e,fn:r})},n.prototype.callStrategyByMaxPriority=function(){var e,r,i,n,o,s,a,l,u,c,d,h;if(u=arguments[0],c=arguments[1],e=3<=arguments.length?t.call(arguments,2):[],!(this.strategies[u]&&this.strategies[u].length>0))return null;for(r=-1,i=-1,d=this.strategies[u],s=a=0,l=d.length;l>a;s=++a)h=d[s],h.priority<=c&&h.priority>=i&&(i=h.priority,r=s);try{return this.strategies[u][r].fn.apply(this,e)}catch(o){return n=o,this.sendError(n,!0),this.log(n)}},n.prototype.callStrategy=function(){var e,r;return r=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],this.callStrategyByMaxPriority.apply(this,[].concat(r,Number.MAX_VALUE,e))},n.prototype.on=function(t,e){return this.events[t]||(this.events[t]=[]),this.events[t].push(e)},n.prototype.trigger=function(){var e,r,i,n,o,s,a;if(n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],this.events[n]){for(o=0,s=this.events[n].length,a=[];s>o;){try{this.events[n][o].apply(this,e)}catch(i){r=i,this.sendError(r,!0),this.log(r)}a.push(o++)}return a}},n.prototype.log=function(){return this.params.debug_mode?(console.log("     "),console.log.apply(console,arguments),console.log("     ")):void 0},n.prototype.sendError=function(t,e){var r,i;if(e)return this.airbrake.notify({error:t,params:{loaded_data:JSON.stringify(this.loaded_data||{}),params:JSON.stringify(this.params||{})}});if("nobanner probably"!==t)try{throw new Error(t)}catch(i){return r=i,this.sendError(r,!0)}},n}()}(window,document,Buzzoola),function(t,e,r){var i,n,o,s,a,l,u,c,d,h,p;for(i=t.BUZZOOLA=t.BUZZOOLA||{players:[],hosted:"function"===t.getRealHost&&encodeURIComponent(t.getRealHost())||encodeURIComponent(t.location.href),referrer:encodeURIComponent(e.referrer||"unknown"),destroyed_players:[]},i.places=e.querySelectorAll(".buzzplayer-stage"),s=function(t,e){var r,n;for(null==e&&(e=i.players),r=0,n=e.length;n>r;){if(e[r].embed_container===t)return r;r++}return-1},a=0,c=i.places.length,p=[];c>a;){if(o=i.places[a],-1===s(o)&&-1===s(o,i.destroyed_players))if(d=new r.Core(o),d.on("destroyed",function(){var t;return t=s(this.embed_container),-1!==t?(i.destroyed_players.push({embed_container:this.embed_container}),i.players.splice(t,1)):void 0}),i.players.push(d),r.utils.isFunction(t.onBuzzoolaPlayerReady))t.onBuzzoolaPlayerReady(d);else if(r.utils.isArray(t.onBuzzoolaPlayerReady))for(h=t.onBuzzoolaPlayerReady,l=0,u=h.length;u>l;l++)n=h[l],r.utils.isFunction(n)&&n(d);p.push(a++)}return p}(window,document,Buzzoola)}).call(this);