$(document).ready(function(){!function(a,b,c){"use strict";var d=a.gridCellEllipsis,e=a.ColorRandomize;c(b).on("load",function(){d.doGridEllipsis(c(".grid-cell-wrapper"))});new e;c(".js-search-toggle").on("click",function(a){a.preventDefault();var b=c(this).parent(),d=c(".js-search-wrapper");d.not(":animated").length&&(b.toggleClass("header-search-button-wrapper__active"),d.not(":animated").slideToggle(300,function(){var a=c(".header__inner .floating-header").height()?c(".header__inner .floating-header").height()-34:c(".floating-header").height(),b=c(".header__inner .floating-header").height()?109:125;j=a>100?a:50,f=a>100?b:-b}))}),c(".js-toggle-footer").on("click",function(a){a.preventDefault();var b=500,d=c(".footer-wrapper"),e=c(".footer-ear"),f=c(".footer-ear-link__list");d.not(":animated").length&&(e.hasClass("footer-ear__opened")?(d.not(":animated").animate({bottom:-d.outerHeight()},b),f.animate({"margin-top":0},b),e.animate({top:-40},b,function(){e.toggleClass("footer-ear__opened")})):(d.animate({bottom:0},b),f.animate({"margin-top":-40},b),e.animate({top:0},b,function(){e.toggleClass("footer-ear__opened")})))});var f,g=function(a,b){return c("html, body").animate({scrollTop:a},b),!1},h=c(".floating-header"),i=c(".content"),j=h.height(),k=function(a){c(".wrapper__floating-header").length&&(c(b).scrollTop()>c(".wrapper__floating-header").offset().top?(h.addClass("floating-header__active"),i.css({"padding-top":j}),a&&(f=c(b).scrollTop()+f,g(f,0))):(h.removeClass("floating-header__active"),i.css({"padding-top":0})))},l=c(".header-ear"),m=function(a){c(b).scrollTop()+125>c(b).height()?l.addClass("header-ear__active"):l.removeClass("header-ear__active")};c(".js-page-goup").on("click",function(a){a.preventDefault(),g(0,"normal")});var n=c(".footer"),o=function(){n.hasClass("footer__fixed")||(c(b).scrollTop()>c(b).height()?n.removeClass("footer__hidden"):n.addClass("footer__hidden"))};isMobileDevice||(k(),m()),o(),c(b).on("scroll",function(){o(),isMobileDevice||(k(),m())});var p,q,r;p=c(".main-wrapper"),q=p.offset().top,r=function(){var a=c(b).height()-q;p.css({"min-height":a})},r(),c(b).on("resize",function(){r()}),function(){var a=c(".js-search-input"),b=a.attr("placeholder"),d=function(){c.trim(a.val()).length||(a.val(b),a.addClass("placeholdered"))},e=function(){a.val()===b&&(a.val(""),a.removeClass("placeholdered"))};a.removeAttr("placeholder"),a.on("focus",function(){e()}),a.on("focusout",function(){d()}),d()}();var s=c(".js-login");0!=s.length&&(c(document.body).on("click",".js-login",function(a){a.preventDefault(),c.colorbox({inline:!0,href:"#popup-login",onOpen:function(){c(".close-popup").one("click",function(a){a.preventDefault(),c.colorbox.close()})}})}),c(b).on("load",function(){0!=c("#popup-login .error-messages-placement").length&&c.colorbox({inline:!0,href:"#popup-login",onOpen:function(){c(".close-popup").one("click",function(a){a.preventDefault(),c.colorbox.close()})}})}));var t=c("div[data-banner]"),u=[];t.each(function(a){var b=c(this).data("banner");u.push(b)}),c.ajax({url:"/pages_loaded_by_ajax/get_banners_code.php",method:"POST",data:{banners:u.join(",")},success:function(a){a=JSON.parse(a);for(var b=u.length,d=0;b>d;d++){var e=u[d],f=a[e];c("div[data-banner="+e+"]").replaceWith(f),POPMECH.reloadBanner(c(f))}}})}(window.POPMECH,window,window.jQuery)});