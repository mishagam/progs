/*!
 * hoverIntent v1.8.1 // 2014.08.11 // jQuery v1.9.1+
 * http://cherne.net/brian/resources/jquery.hoverIntent.html
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007, 2014 Brian Cherne
 */
function getElementsByClassName(n,t,i){var u=n.getElementsByTagName(t),f,r;if(!i)return u;for(f=[],r=0;r<u.length;r++)matchClass(u[r],i)&&(f[f.length]=u[r]);return f}function addClass(n,t){replaceClass(n,t,"")}function removeClass(n,t){replaceClass(n,"",t)}function replaceClass(n,t,i){var r=t;i&&i.length&&(i=i.replace(/\s+(\S)/g,"|$1"),r.length&&(r+="|"),r+=i);n.className=n.className.replace(new RegExp("(^|\\s+)("+r+")($|\\s+)","g"),"$1");n.className+=(n.className.length?" ":"")+t}function matchClass(n,t){return n&&n.className.length&&n.className.match(new RegExp("(^|\\s+)("+t+")($|\\s+)"))}function addEvent(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent&&n.attachEvent("on"+t,i)}function removeEvent(n,t,i){n.removeEventListener?n.removeEventListener(t,i,!1):n.detachEvent&&n.detachEvent("on"+t,i)}function getPageY(n){for(var t=n.offsetTop;n.offsetParent!=null;)if(n=n.offsetParent,t+=n.offsetTop,n.tagName=="BODY")break;return t}function getPageX(n){for(var t=n.offsetLeft;n.offsetParent!=null;)if(n=n.offsetParent,t+=n.offsetLeft,n.tagName=="BODY")break;return t}function getMousePosition(n){var t,i;return n.pageX||n.pageY?(t=n.pageX,i=n.pageY):(n.clientX||n.clientY)&&(t=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=n.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:i}}function isNumeric(n){return/^\d+$/.test(n)}function isNumber(n){n=n?n:window.event;var t=n.which?n.which:n.keyCode;return t>31&&(t<48||t>57)?!1:!0}var Paginator,mejs;(function(n){n.fn.hoverIntent=function(t,i,r){var u={interval:100,sensitivity:6,timeout:0};u=typeof t=="object"?n.extend(u,t):n.isFunction(i)?n.extend(u,{over:t,out:i,selector:r}):n.extend(u,{over:t,out:t,selector:i});var f,e,o,s,h=function(n){f=n.pageX;e=n.pageY},c=function(t,i){if(i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.sqrt((o-f)*(o-f)+(s-e)*(s-e))<u.sensitivity)return n(i).off("mousemove.hoverIntent",h),i.hoverIntent_s=!0,u.over.apply(i,[t]);o=f;s=e;i.hoverIntent_t=setTimeout(function(){c(t,i)},u.interval)},a=function(n,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=!1,u.out.apply(t,[n])},l=function(t){var r=n.extend({},t),i=this;if(i.hoverIntent_t&&(i.hoverIntent_t=clearTimeout(i.hoverIntent_t)),t.type==="mouseenter"){o=r.pageX;s=r.pageY;n(i).on("mousemove.hoverIntent",h);i.hoverIntent_s||(i.hoverIntent_t=setTimeout(function(){c(r,i)},u.interval))}else n(i).off("mousemove.hoverIntent",h),i.hoverIntent_s&&(i.hoverIntent_t=setTimeout(function(){a(r,i)},u.timeout))};return this.on({"mouseenter.hoverIntent":l,"mouseleave.hoverIntent":l},u.selector)}})(jQuery),function(n){n.fn.FlowliPaginator=function(t){var r=n.extend({onChanged:null},t),o=parseInt(this.attr("data-total")),u=this.attr("id"),e=u+"-navigation",s=this.attr("data-url"),h=this.attr("data-container"),c=parseInt(this.attr("data-take")),i={},f;if(i.url=s,i.container=h,i.take=c,i.skip=0,i.paginatorId=u,f=function(t){var a,v;t.preventDefault();var y=n(t.target),f=parseInt(y.attr("data-page")),s=window["paginator3000-"+u],l=n("#"+e),h=l.find(".prev-page"),c=l.find(".next-page");f>=o?c.hide():(a=f+1,c.attr("data-page",a),c.show());f<=1?h.hide():(v=f-1,h.attr("data-page",v),h.show());s&&s.inputData&&(s.inputData.pageCurrent=f,s.scrollToPageCurrent());i.skip=(f-1)*i.take;r.onChanged(i)},r.onChanged!=null&&r.onChanged.call&&r.onChanged.apply){this.on("click","a.paginator-page",f);n("#"+e).on("click","a.paginator-page",f)}return this}}(jQuery);
/*! jQuery Validation Plugin - v1.15.0 - 2/24/2016
 * http://jqueryvalidation.org/
 * Copyright (c) 2016 Jörn Zaefferer; Licensed MIT */
!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){n.extend(n.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.settings.submitHandler&&(i.submitButton=t.target);n(this).hasClass("cancel")&&(i.cancelSubmit=!0);void 0!==n(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(t){function r(){var u,r;return i.settings.submitHandler?(i.submitButton&&(u=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)),r=i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&u.remove(),void 0!==r?r:!1):!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i,r;return n(this[0]).is("form")?t=this.validate().form():(r=[],t=!0,i=n(this[0].form).validate(),this.each(function(){t=i.element(this)&&t;t||(r=r.concat(i.errorList))}),i.errorList=r),t},rules:function(t,i){if(this.length){var e,s,f,u,o,h,r=this[0];if(t)switch(e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r),t){case"add":n.extend(f,n.validator.normalizeRule(i));delete f.messages;s[r.name]=f;i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(h={},n.each(i.split(/\s/),function(t,i){h[i]=f[i];delete f[i];"required"===i&&n(r).removeAttr("aria-required")}),h):(delete s[r.name],f)}return u=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),u.required&&(o=u.required,delete u.required,u=n.extend({required:o},u),n(r).attr("aria-required","true")),u.remote&&(o=u.remote,delete u.remote,u=n.extend(u,{remote:o})),u}}});n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+n(t).val())},filled:function(t){var i=n(t).val();return null!==i&&!!n.trim(""+i)},unchecked:function(t){return!n(t).prop("checked")}});n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t);this.currentForm=i;this.init()};n.validator.format=function(t,i){return 1===arguments.length?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:void 0===i?t:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)};n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n;this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(n)))},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(t,i){9===i.which&&""===this.elementValue(t)||-1!==n.inArray(i.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}."),step:n.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var r=n.data(this.form,"validator"),u="on"+t.type.replace(/^validate/,""),i=r.settings;i[u]&&!n(this).is(i.ignore)&&i[u].call(r,this,t)}this.labelContainer=n(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm);this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var t,r=this.groups={};n.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/));n.each(i,function(n,i){r[i]=t})});t=this.settings.rules;n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)});n(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",i).on("click.validate","select, option, [type='radio'], [type='checkbox']",i);this.settings.invalidHandler&&n(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler);n(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){var e,o,i=this.clean(t),r=this.validationTargetFor(i),u=this,f=!0;return void 0===r?delete this.invalid[i.name]:(this.prepareElement(r),this.currentElements=n(r),o=this.groups[r.name],o&&n.each(this.groups,function(n,t){t===o&&n!==r.name&&(i=u.validationTargetFor(u.clean(u.findByName(n))),i&&i.name in u.invalid&&(u.currentElements.push(i),f=f&&u.check(i)))}),e=this.check(r)!==!1,f=f&&e,this.invalid[r.name]=e?!1:!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n(t).attr("aria-invalid",!e)),f},showErrors:function(t){if(t){var i=this;n.extend(this.errorMap,t);this.errorList=n.map(this.errorMap,function(n,t){return{message:n,element:i.findByName(t)[0]}});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm();this.invalid={};this.submitted={};this.prepareForm();this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(n){var t;if(this.settings.unhighlight)for(t=0;n[t];t++)this.settings.unhighlight.call(this,n[t],this.settings.errorClass,""),this.findByName(n[t].name).removeClass(this.settings.validClass);else n.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t,i=0;for(t in n)n[t]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(n){n.not(this.containers).text("");this.addWrapper(n).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===n.grep(this.errorList,function(n){return n.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var r=this.name||n(this).attr("name");return!r&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=n(this).closest("form")[0]),r in i||!t.objectLength(n(this).rules())?!1:(i[r]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return n(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=n([]);this.toHide=n([])},reset:function(){this.resetInternals();this.currentElements=n([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset();this.toHide=this.errorsFor(n)},elementValue:function(t){var i,r,f=n(t),u=t.type;return"radio"===u||"checkbox"===u?this.findByName(t.name).filter(":checked").val():"number"===u&&"undefined"!=typeof t.validity?t.validity.badInput?"NaN":f.val():(i=t.hasAttribute("contenteditable")?f.text():f.val(),"file"===u?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(r=i.lastIndexOf("/"),r>=0?i.substr(r+1):(r=i.lastIndexOf("\\"),r>=0?i.substr(r+1):i)):"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var u,f,r,i=n(t).rules(),h=n.map(i,function(n,t){return t}).length,s=!1,e=this.elementValue(t);if("function"==typeof i.normalizer){if(e=i.normalizer.call(t,e),"string"!=typeof e)throw new TypeError("The normalizer should return a string value.");delete i.normalizer}for(f in i){r={method:f,parameters:i[f]};try{if(u=n.validator.methods[f].call(this,e,t,r.parameters),"dependency-mismatch"===u&&1===h){s=!0;continue}if(s=!1,"pending"===u)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!u)return this.formatAndAdd(t,r),!1}catch(o){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+r.method+"' method.",o),o instanceof TypeError&&(o.message+=".  Exception occurred when checking element "+t.id+", check the '"+r.method+"' method."),o;}}if(!s)return this.objectLength(i)&&this.successList.push(t),!0},customDataMessage:function(t,i){return n(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||n(t).data("msg")},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(void 0!==arguments[n])return arguments[n]},defaultMessage:function(t,i){var r=this.findDefined(this.customMessage(t.name,i.method),this.customDataMessage(t,i.method),!this.settings.ignoreTitle&&t.title||void 0,n.validator.messages[i.method],"<strong>Warning: No message defined for "+t.name+"<\/strong>"),u=/\$?\{(\d+)\}/g;return"function"==typeof r?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters)),r},formatAndAdd:function(n,t){var i=this.defaultMessage(n,t);this.errorList.push({message:i,element:n,method:t.method});this.errorMap[n.name]=i;this.submitted[n.name]=i},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var u,s,e,o,r=this.errorsFor(t),h=this.idOrName(t),f=n(t).attr("aria-describedby");r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=n("<"+this.settings.errorElement+">").attr("id",h+"-error").addClass(this.settings.errorClass).html(i||""),u=r,this.settings.wrapper&&(u=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(u):this.settings.errorPlacement?this.settings.errorPlacement(u,n(t)):u.insertAfter(t),r.is("label")?r.attr("for",h):0===r.parents("label[for='"+this.escapeCssMeta(h)+"']").length&&(e=r.attr("id"),f?f.match(new RegExp("\\b"+this.escapeCssMeta(e)+"\\b"))||(f+=" "+e):f=e,n(t).attr("aria-describedby",f),s=this.groups[t.name],s&&(o=this,n.each(o.groups,function(t,i){i===s&&n("[name='"+o.escapeCssMeta(t)+"']",o.currentForm).attr("aria-describedby",r.attr("id"))}))));!i&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,t));this.toShow=this.toShow.add(r)},errorsFor:function(t){var r=this.escapeCssMeta(this.idOrName(t)),u=n(t).attr("aria-describedby"),i="label[for='"+r+"'], label[for='"+r+"'] *";return u&&(i=i+", #"+this.escapeCssMeta(u).replace(/\s+/g,", #")),this.errors().filter(i)},escapeCssMeta:function(n){return n.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),n(t).not(this.settings.ignore)[0]},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,n(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,i){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[t.name];n(t).removeClass(this.settings.pendingClass);i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,i){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:i})})},destroy:function(){this.resetForm();n(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(n,t,i,r){/min|max|step/.test(i)&&(null===t||/number|range|text/.test(t))&&(r=Number(r),isNaN(r)&&(r=void 0));r||0===r?n[i]=r:t===i&&"range"!==t&&(n[i]=!0)},attributeRules:function(t){var r,i,u={},f=n(t),e=t.getAttribute("type");for(r in n.validator.methods)"required"===r?(i=t.getAttribute(r),""===i&&(i=!0),i=!!i):i=f.attr(r),this.normalizeAttributeRule(u,e,r,i);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},dataRules:function(t){var i,r,u={},f=n(t),e=t.getAttribute("type");for(i in n.validator.methods)r=f.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(u,e,i,r);return u},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1)return void delete t[r];if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=void 0!==u.param?u.param:!0:(n.data(i.form,"validator").resetElements(n(i)),delete t[r])}}),n.each(t,function(r,u){t[r]=n.isFunction(u)&&"normalizer"!==r?u(i):u}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){var i;t[this]&&(n.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),n.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};n.each(t.split(/\s/),function(){i[this]=!0});t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i;n.validator.messages[t]=void 0!==r?r:n.validator.messages[t];i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:t.length>0},email:function(n,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(n)},url:function(n,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n).toString())},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(n)},number:function(n,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=u},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||i>=n},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},step:function(t,i,r){var u=n(i).attr("type"),f="Step attribute on input type "+u+" is not supported.",e=new RegExp("\\b"+u+"\\b"),o=u&&!e.test("text,number,range");if(o)throw new Error(f);return this.optional(i)||t%r==0},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.not(".validate-equalTo-blur").length&&u.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()},remote:function(t,i,r,u){if(this.optional(i))return"dependency-mismatch";u="string"==typeof u&&u||"remote";var f,o,s,e=this.previousValue(i,u);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),e.originalMessage=e.originalMessage||this.settings.messages[i.name][u],this.settings.messages[i.name][u]=e.message,r="string"==typeof r&&{url:r}||r,s=n.param(n.extend({data:t},r.data)),e.old===s?e.valid:(e.old=s,f=this,this.startRequest(i),o={},o[i.name]=t,n.ajax(n.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:o,context:f.currentForm,success:function(n){var r,s,h,o=n===!0||"true"===n;f.settings.messages[i.name][u]=e.originalMessage;o?(h=f.formSubmitted,f.resetInternals(),f.toHide=f.errorsFor(i),f.formSubmitted=h,f.successList.push(i),f.invalid[i.name]=!1,f.showErrors()):(r={},s=n||f.defaultMessage(i,{method:u,parameters:t}),r[i.name]=e.message=s,f.invalid[i.name]=!0,f.showErrors(r));e.valid=o;f.stopRequest(i,o)}},r)),"pending")}}});var i,t={};n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;"abort"===n.mode&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return"abort"===f?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments),t[u]):i.apply(this,arguments)})});
/*! http://mths.be/placeholder v2.0.7 by @mathias */
(function(n,t,i){function l(n){var t={},r=/^jQuery\d+$/;return i.each(n.attributes,function(n,i){i.specified&&!r.test(i.name)&&(t[i.name]=i.value)}),t}function f(n,r){var f=this,u=i(f);if(f.value==u.attr("placeholder")&&u.hasClass("placeholder"))if(u.data("placeholder-password")){if(u=u.hide().next().show().attr("id",u.removeAttr("id").data("placeholder-id")),n===!0)return u[0].value=r;u.focus()}else f.value="",u.removeClass("placeholder"),f==t.activeElement&&f.select()}function s(){var t,r=this,n=i(r),e=n,u=this.id;if(r.value==""){if(r.type=="password"){if(!n.data("placeholder-textinput")){try{t=n.clone().attr({type:"text"})}catch(o){t=i("<input>").attr(i.extend(l(this),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":u}).bind("focus.placeholder",f);n.data({"placeholder-textinput":t,"placeholder-id":u}).before(t)}n=n.removeAttr("id").hide().prev().attr("id",u).show()}n.addClass("placeholder");n[0].value=n.attr("placeholder")}else n.removeClass("placeholder")}var u="placeholder"in t.createElement("input"),e="placeholder"in t.createElement("textarea"),h=i.fn,c=i.valHooks,o,r;u&&e?(r=h.placeholder=function(){return this},r.input=r.textarea=!0):(r=h.placeholder=function(){var n=this;return n.filter((u?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":f,"blur.placeholder":s}).data("placeholder-enabled",!0).trigger("blur.placeholder"),n},r.input=u,r.textarea=e,o={get:function(n){var t=i(n);return t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":n.value},set:function(n,r){var u=i(n);return u.data("placeholder-enabled")?(r==""?(n.value=r,n!=t.activeElement&&s.call(n)):u.hasClass("placeholder")?f.call(n,!0,r)||(n.value=r):n.value=r,u):n.value=r}},u||(c.input=o),e||(c.textarea=o),i(function(){i(t).delegate("form","submit.placeholder",function(){var n=i(".placeholder",this).each(f);setTimeout(function(){n.each(s)},10)})}),i(n).bind("beforeunload.placeholder",function(){i(".placeholder").each(function(){this.value=""})}))})(this,document,jQuery);Paginator=function(n,t,i,r,u){if(!document.getElementById(n)||!t||!i)return!1;this.inputData={paginatorHolderId:n,pagesTotal:t,pagesSpan:i<t?i:t,pageCurrent:r,baseUrl:u?u:"/Archive?page="};this.html={holder:null,table:null,trPages:null,trScrollBar:null,tdsPages:null,scrollBar:null,scrollThumb:null,pageCurrentMark:null};this.prepareHtml();this.initScrollThumb();this.initPageCurrentMark();this.initEvents();this.scrollToPageCurrent()};Paginator.prototype.prepareHtml=function(){this.html.holder=document.getElementById(this.inputData.paginatorHolderId);this.html.holder.innerHTML=this.makePagesTableHtml();this.html.table=this.html.holder.getElementsByTagName("table")[0];var n=this.html.table.getElementsByTagName("tr")[0];this.html.tdsPages=n.getElementsByTagName("td");this.html.scrollBar=getElementsByClassName(this.html.table,"div","scroll_bar")[0];this.html.scrollThumb=getElementsByClassName(this.html.table,"div","scroll_thumb")[0];this.html.pageCurrentMark=getElementsByClassName(this.html.table,"div","current_page_mark")[0];this.inputData.pagesSpan==this.inputData.pagesTotal&&addClass(this.html.holder,"fullsize")};Paginator.prototype.makePagesTableHtml=function(){for(var i=100/this.inputData.pagesSpan+"%",n='<table width="100%"><tr>',t=1;t<=this.inputData.pagesSpan;t++)n+='<td width="'+i+'"><\/td>';return n+('<\/tr><tr><td colspan="'+this.inputData.pagesSpan+'"><div class="scroll_bar"><div class="scroll_trough"><\/div><div class="scroll_thumb"><div class="scroll_knob"><\/div><\/div><div class="current_page_mark"><\/div><\/div><\/td><\/tr><\/table>')};Paginator.prototype.initScrollThumb=function(){this.html.scrollThumb.widthMin="8";this.html.scrollThumb.widthPercent=this.inputData.pagesSpan/this.inputData.pagesTotal*100;this.html.scrollThumb.xPosPageCurrent=(this.inputData.pageCurrent-Math.round(this.inputData.pagesSpan/2))/this.inputData.pagesTotal*this.html.table.offsetWidth;this.html.scrollThumb.xPos=this.html.scrollThumb.xPosPageCurrent;this.html.scrollThumb.xPosMin=0;this.html.scrollThumb.xPosMax;this.html.scrollThumb.widthActual;this.setScrollThumbWidth()};Paginator.prototype.setScrollThumbWidth=function(){this.html.scrollThumb.style.width=this.html.scrollThumb.widthPercent+"%";this.html.scrollThumb.widthActual=this.html.scrollThumb.offsetWidth;this.html.scrollThumb.widthActual<this.html.scrollThumb.widthMin&&(this.html.scrollThumb.style.width=this.html.scrollThumb.widthMin+"px");this.html.scrollThumb.xPosMax=this.html.table.offsetWidth-this.html.scrollThumb.widthActual};Paginator.prototype.moveScrollThumb=function(){this.html.scrollThumb.style.left=this.html.scrollThumb.xPos+"px"};Paginator.prototype.initPageCurrentMark=function(){this.html.pageCurrentMark.widthMin="3";this.html.pageCurrentMark.widthPercent=100/this.inputData.pagesTotal;this.html.pageCurrentMark.widthActual;this.setPageCurrentPointWidth();this.movePageCurrentPoint()};Paginator.prototype.setPageCurrentPointWidth=function(){this.html.pageCurrentMark.style.width=this.html.pageCurrentMark.widthPercent+"%";this.html.pageCurrentMark.widthActual=this.html.pageCurrentMark.offsetWidth;this.html.pageCurrentMark.widthActual<this.html.pageCurrentMark.widthMin&&(this.html.pageCurrentMark.style.width=this.html.pageCurrentMark.widthMin+"px")};Paginator.prototype.movePageCurrentPoint=function(){this.html.pageCurrentMark.style.left=this.html.pageCurrentMark.widthActual<this.html.pageCurrentMark.offsetWidth?(this.inputData.pageCurrent-1)/this.inputData.pagesTotal*this.html.table.offsetWidth-this.html.pageCurrentMark.offsetWidth/2+"px":(this.inputData.pageCurrent-1)/this.inputData.pagesTotal*this.html.table.offsetWidth+"px"};Paginator.prototype.initEvents=function(){var n=this;this.html.scrollThumb.onmousedown=function(t){var t,i;t||(t=window.event);t.cancelBubble=!0;t.stopPropagation&&t.stopPropagation();i=getMousePosition(t).x-this.xPos;document.onmousemove=function(t){if(!t)var t=window.event;n.html.scrollThumb.xPos=getMousePosition(t).x-i;n.moveScrollThumb();n.drawPages()};document.onmouseup=function(){document.onmousemove=null;n.enableSelection()};n.disableSelection()};this.html.scrollBar.onmousedown=function(t){if(!t)var t=window.event;matchClass(n.paginatorBox,"fullsize")||(n.html.scrollThumb.xPos=getMousePosition(t).x-getPageX(n.html.scrollBar)-n.html.scrollThumb.offsetWidth/2,n.moveScrollThumb(),n.drawPages())};addEvent(window,"resize",function(){Paginator.resizePaginator(n)})};Paginator.prototype.drawPages=function(){var u=this.html.scrollThumb.xPos/this.html.table.offsetWidth,t=Math.round(u*this.inputData.pagesTotal),r="",i,n;for(t<1?(t=1,this.html.scrollThumb.xPos=0,this.moveScrollThumb()):t>=this.inputData.pagesTotal-this.inputData.pagesSpan&&(t=this.inputData.pagesTotal-this.inputData.pagesSpan+1,this.html.scrollThumb.xPos=this.html.table.offsetWidth-this.html.scrollThumb.offsetWidth,this.moveScrollThumb()),i=0;i<this.html.tdsPages.length;i++)n=t+i,r=n==this.inputData.pageCurrent?"<span><strong>"+n+"<\/strong><\/span>":"<span><a class='paginator-page' data-page='"+n+"' href='"+this.inputData.baseUrl+n+"'>"+n+"<\/a><\/span>",this.html.tdsPages[i].innerHTML=r};Paginator.prototype.scrollToPageCurrent=function(){this.html.scrollThumb.xPosPageCurrent=(this.inputData.pageCurrent-Math.round(this.inputData.pagesSpan/2))/this.inputData.pagesTotal*this.html.table.offsetWidth;this.html.scrollThumb.xPos=this.html.scrollThumb.xPosPageCurrent;this.moveScrollThumb();this.drawPages()};Paginator.prototype.disableSelection=function(){document.onselectstart=function(){return!1};this.html.scrollThumb.focus()};Paginator.prototype.enableSelection=function(){document.onselectstart=function(){return!0}};Paginator.resizePaginator=function(n){n.setPageCurrentPointWidth();n.movePageCurrentPoint();n.setScrollThumbWidth();n.scrollToPageCurrent()};
/*!
 * headroom.js v0.7.0 - Give your page some headroom. Hide your header until you need it
 * Copyright (c) 2014 Nick Williams - http://wicky.nillia.ms/headroom.js
 * License: MIT
 */
(function(n,t){"use strict";function u(n){this.callback=n;this.ticking=!1}function e(t){return t&&typeof n!="undefined"&&(t===n||t.nodeType)}function f(n){var i,t,r,u;if(arguments.length<=0)throw new Error("Missing arguments in extend function");for(i=n||{},r=1;r<arguments.length;r++){u=arguments[r]||{};for(t in u)i[t]=typeof i[t]!="object"||e(i[t])?i[t]||u[t]:f(i[t],u[t])}return i}function o(n){return n===Object(n)?n:{down:n,up:n}}function i(n,t){t=f(t,i.options);this.lastKnownScrollY=0;this.elem=n;this.debouncer=new u(this.update.bind(this));this.tolerance=o(t.tolerance);this.classes=t.classes;this.offset=t.offset;this.scroller=t.scroller;this.initialised=!1;this.onPin=t.onPin;this.onUnpin=t.onUnpin;this.onTop=t.onTop;this.onNotTop=t.onNotTop}var r={bind:!!function(){}.bind,classList:"classList"in t.documentElement,rAF:!!(n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame)};n.requestAnimationFrame=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame;u.prototype={constructor:u,update:function(){this.callback&&this.callback();this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}};i.prototype={constructor:i,init:function(){if(i.cutsTheMustard)return this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var n=this.classes;this.initialised=!1;this.elem.classList.remove(n.unpinned,n.pinned,n.top,n.initial);this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var n=this.elem.classList,t=this.classes;(n.contains(t.pinned)||!n.contains(t.unpinned))&&(n.add(t.unpinned),n.remove(t.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var n=this.elem.classList,t=this.classes;n.contains(t.unpinned)&&(n.remove(t.unpinned),n.add(t.pinned),this.onPin&&this.onPin.call(this))},top:function(){var n=this.elem.classList,t=this.classes;n.contains(t.top)||(n.add(t.top),n.remove(t.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var n=this.elem.classList,t=this.classes;n.contains(t.notTop)||(n.add(t.notTop),n.remove(t.top),this.onNotTop&&this.onNotTop.call(this))},getScrollY:function(){return this.scroller.pageYOffset!==undefined?this.scroller.pageYOffset:this.scroller.scrollTop!==undefined?this.scroller.scrollTop:(t.documentElement||t.body.parentNode||t.body).scrollTop},getViewportHeight:function(){return n.innerHeight||t.documentElement.clientHeight||t.body.clientHeight},getDocumentHeight:function(){var n=t.body,i=t.documentElement;return Math.max(n.scrollHeight,i.scrollHeight,n.offsetHeight,i.offsetHeight,n.clientHeight,i.clientHeight)},getElementHeight:function(n){return Math.max(n.scrollHeight,n.offsetHeight,n.clientHeight)},getScrollerHeight:function(){return this.scroller===n||this.scroller===t.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(n){var t=n<0,i=n+this.getViewportHeight()>this.getScrollerHeight();return t||i},toleranceExceeded:function(n,t){return Math.abs(n-this.lastKnownScrollY)>=this.tolerance[t]},shouldUnpin:function(n,t){var i=n>this.lastKnownScrollY,r=n>=this.offset;return i&&r&&t},shouldPin:function(n,t){var i=n<this.lastKnownScrollY,r=n<=this.offset;return i&&t||r},update:function(){var n=this.getScrollY(),i=n>this.lastKnownScrollY?"down":"up",t=this.toleranceExceeded(n,i);this.isOutOfBounds(n)||(n<=this.offset?this.top():this.notTop(),this.shouldUnpin(n,t)?this.unpin():this.shouldPin(n,t)&&this.pin(),this.lastKnownScrollY=n)}};i.options={tolerance:{up:0,down:0},offset:0,scroller:n,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",initial:"headroom"}};i.cutsTheMustard=typeof r!="undefined"&&r.rAF&&r.bind&&r.classList;n.Headroom=i})(window,document);
/*!
 * headroom.js v0.7.0 - Give your page some headroom. Hide your header until you need it
 * Copyright (c) 2014 Nick Williams - http://wicky.nillia.ms/headroom.js
 * License: MIT
 */
(function(n){n&&(n.fn.headroom=function(t){return this.each(function(){var u=n(this),i=u.data("headroom"),r=typeof t=="object"&&t;r=n.extend(!0,{},Headroom.options,r);i||(i=new Headroom(this,r),i.init(),u.data("headroom",i));typeof t=="string"&&i[t]()})},n("[data-headroom]").each(function(){var t=n(this);t.headroom(t.data())}))})(window.Zepto||window.jQuery),function(n,t,i,r){var u=n(t);n.fn.lazyload=function(f){function s(){var t=0;o.each(function(){var i=n(this);if((!e.skip_invisible||i.is(":visible"))&&!n.abovethetop(this,e)&&!n.leftofbegin(this,e))if(n.belowthefold(this,e)||n.rightoffold(this,e)){if(++t>e.failure_limit)return!1}else i.trigger("appear"),t=0})}var o=this,h,e={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return f&&(r!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),r!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),n.extend(e,f)),h=e.container===r||e.container===t?u:n(e.container),0===e.event.indexOf("scroll")&&h.bind(e.event,function(){return s()}),this.each(function(){var i=this,t=n(i);i.loaded=!1;(t.attr("src")===r||t.attr("src")===!1)&&t.is("img")&&t.attr("src",e.placeholder);t.one("appear",function(){if(!this.loaded){if(e.appear){var r=o.length;e.appear.call(i,r,e)}n("<img />").bind("load",function(){var r=t.attr("data-"+e.data_attribute),u,f;t.hide();t.is("img")?t.attr("src",r):t.css("background-image","url('"+r+"')");t[e.effect](e.effect_speed);i.loaded=!0;u=n.grep(o,function(n){return!n.loaded});o=n(u);e.load&&(f=o.length,e.load.call(i,f,e))}).attr("src",t.attr("data-"+e.data_attribute))}});0!==e.event.indexOf("scroll")&&t.bind(e.event,function(){i.loaded||t.trigger("appear")})}),u.bind("resize",function(){s()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&u.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&o.each(function(){n(this).trigger("appear")})}),n(i).ready(function(){s()}),this};n.belowthefold=function(i,f){var e;return e=f.container===r||f.container===t?(t.innerHeight?t.innerHeight:u.height())+u.scrollTop():n(f.container).offset().top+n(f.container).height(),e<=n(i).offset().top-f.threshold};n.rightoffold=function(i,f){var e;return e=f.container===r||f.container===t?u.width()+u.scrollLeft():n(f.container).offset().left+n(f.container).width(),e<=n(i).offset().left-f.threshold};n.abovethetop=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollTop():n(f.container).offset().top,e>=n(i).offset().top+f.threshold+n(i).height()};n.leftofbegin=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollLeft():n(f.container).offset().left,e>=n(i).offset().left+f.threshold+n(i).width()};n.inviewport=function(t,i){return!n.rightoffold(t,i)&&!n.leftofbegin(t,i)&&!n.belowthefold(t,i)&&!n.abovethetop(t,i)};n.extend(n.expr[":"],{"below-the-fold":function(t){return n.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return n.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!n.rightoffold(t,{threshold:0})},"in-viewport":function(t){return n.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return n.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!n.rightoffold(t,{threshold:0})}})}(jQuery,window,document);
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?n(require("jquery")):n(jQuery)})(function(n){function i(n){return t.raw?n:encodeURIComponent(n)}function f(n){return t.raw?n:decodeURIComponent(n)}function e(n){return i(t.json?JSON.stringify(n):String(n))}function o(n){n.indexOf('"')===0&&(n=n.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return n=decodeURIComponent(n.replace(u," ")),t.json?JSON.parse(n):n}catch(i){}}function r(i,r){var u=t.raw?i:o(i);return n.isFunction(r)?r(u):u}var u=/\+/g,t=n.cookie=function(u,o,s){var y,a,h,v,c,p;if(arguments.length>1&&!n.isFunction(o))return s=n.extend({},t.defaults,s),typeof s.expires=="number"&&(y=s.expires,a=s.expires=new Date,a.setTime(+a+y*864e5)),document.cookie=[i(u),"=",e(o),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("");for(h=u?undefined:{},v=document.cookie?document.cookie.split("; "):[],c=0,p=v.length;c<p;c++){var w=v[c].split("="),b=f(w.shift()),l=w.join("=");if(u&&u===b){h=r(l,o);break}u||(l=r(l))===undefined||(h[b]=l)}return h};t.defaults={};n.removeCookie=function(t,i){return n.cookie(t)===undefined?!1:(n.cookie(t,"",n.extend({},i,{expires:-1})),!n.cookie(t))}}),function(n,t){function v(n,t,r){var e=n.children(),o=!1,u,s,f;for(n.empty(),u=0,s=e.length;u<s;u++)if(f=e.eq(u),n.append(f),r&&n.append(r),i(n,t)){f.remove();o=!0;break}else r&&r.detach();return o}function e(t,r,u,f,o){var s=!1,h="a table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",c="script, .dotdotdot-keep";return t.contents().detach().each(function(){var a=this,l=n(a);if(typeof a=="undefined"||a.nodeType==3&&n.trim(a.data).length==0)return!0;if(l.is(c))t.append(l);else{if(s)return!0;t.append(l);!o||l.is(f.after)||l.find(f.after).length||t[t.is(h)?"after":"append"](o);i(u,f)&&(s=a.nodeType==3?y(l,r,u,f,o):e(l,r,u,f,o),s||(l.detach(),s=!0));s||o&&o.detach()}}),s}function y(t,f,e,s,c){var l=t[0],nt,k,d;if(!l)return!1;var y=h(l),tt=y.indexOf(" ")!==-1?" ":"　",p=s.wrap=="letter"?"":tt,a=y.split(p),g=-1,w=-1,b=0,v=a.length-1;for(s.fallbackToLetter&&b==0&&v==0&&(p="",a=y.split(p),v=a.length-1);b<=v&&!(b==0&&v==0);){if(nt=Math.floor((b+v)/2),nt==w)break;w=nt;u(l,a.slice(0,w+1).join(p)+s.ellipsis);i(e,s)?(v=w,s.fallbackToLetter&&b==0&&v==0&&(p="",a=a[0].split(p),g=-1,w=-1,b=0,v=a.length-1)):(g=w,b=w)}return g==-1||a.length==1&&a[0].length==0?(k=t.parent(),t.detach(),d=c&&c.closest(k).length?c.length:0,k.contents().length>d?l=r(k.contents().eq(-1-d),f):(l=r(k,f,!0),d||k.detach()),l&&(y=o(h(l),s),u(l,y),d&&c&&n(l).parent().append(c))):(y=o(a.slice(0,g+1).join(p),s),u(l,y)),!0}function i(n,t){return n.innerHeight()>t.maxHeight}function o(t,i){while(n.inArray(t.slice(-1),i.lastCharacter.remove)>-1)t=t.slice(0,-1);return n.inArray(t.slice(-1),i.lastCharacter.noEllipsis)<0&&(t+=i.ellipsis),t}function s(n){return{width:n.innerWidth(),height:n.innerHeight()}}function u(n,t){n.innerText?n.innerText=t:n.nodeValue?n.nodeValue=t:n.textContent&&(n.textContent=t)}function h(n){return n.innerText?n.innerText:n.nodeValue?n.nodeValue:n.textContent?n.textContent:""}function c(n){do n=n.previousSibling;while(n&&n.nodeType!==1&&n.nodeType!==3);return n}function r(t,i,u){var e=t&&t[0],f;if(e){if(!u){if(e.nodeType===3)return e;if(n.trim(t.text()))return r(t.contents().last(),i)}for(f=c(e);!f;){if(t=t.parent(),t.is(i)||!t.length)return!1;f=c(t[0])}if(f)return r(n(f),i)}return!1}function p(t,i){return t?typeof t=="string"?(t=n(t,i),t.length?t:!1):t.jquery?t:!1:!1}function w(n){for(var t,r=n.innerHeight(),u=["paddingTop","paddingBottom"],i=0,f=u.length;i<f;i++)t=parseInt(n.css(u[i]),10),isNaN(t)&&(t=0),r-=t;return r}var f,l,a;n.fn.dotdotdot||(n.fn.dotdotdot=function(t){var r;if(this.length==0)return n.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){n(this).dotdotdot(t)});r=this;r.data("dotdotdot")&&r.trigger("destroy.dot");r.data("dotdotdot-style",r.attr("style")||"");r.css("word-wrap","break-word");r.css("white-space")==="nowrap"&&r.css("white-space","normal");r.bind_events=function(){return r.bind("update.dot",function(t,f){t.preventDefault();t.stopPropagation();u.maxHeight=typeof u.height=="number"?u.height:w(r);u.maxHeight+=u.tolerance;typeof f!="undefined"&&((typeof f=="string"||"nodeType"in f&&f.nodeType===1)&&(f=n("<div />").append(f).contents()),f instanceof n&&(c=f));h=r.wrapInner('<div class="dotdotdot" />').children();h.contents().detach().end().append(c.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var s=!1,l=!1;return o.afterElement&&(s=o.afterElement.clone(!0),s.show(),o.afterElement.detach()),i(h,u)&&(l=u.wrap=="children"?v(h,u,s):e(h,r,h,u,s)),h.replaceWith(h.contents()),h=null,n.isFunction(u.callback)&&u.callback.call(r[0],l,c),o.isTruncated=l,l}).bind("isTruncated.dot",function(n,t){return n.preventDefault(),n.stopPropagation(),typeof t=="function"&&t.call(r[0],o.isTruncated),o.isTruncated}).bind("originalContent.dot",function(n,t){return n.preventDefault(),n.stopPropagation(),typeof t=="function"&&t.call(r[0],c),c}).bind("destroy.dot",function(n){n.preventDefault();n.stopPropagation();r.unwatch().unbind_events().contents().detach().end().append(c).attr("style",r.data("dotdotdot-style")||"").data("dotdotdot",!1)}),r};r.unbind_events=function(){return r.unbind(".dot"),r};r.watch=function(){if(r.unwatch(),u.watch=="window"){var t=n(window),i=t.width(),f=t.height();t.bind("resize.dot"+o.dotId,function(){i==t.width()&&f==t.height()&&u.windowResizeFix||(i=t.width(),f=t.height(),l&&clearInterval(l),l=setTimeout(function(){r.trigger("update.dot")},100))})}else a=s(r),l=setInterval(function(){if(r.is(":visible")){var n=s(r);(a.width!=n.width||a.height!=n.height)&&(r.trigger("update.dot"),a=n)}},500);return r};r.unwatch=function(){return n(window).unbind("resize.dot"+o.dotId),l&&clearInterval(l),r};var c=r.contents(),u=n.extend(!0,{},n.fn.dotdotdot.defaults,t),o={},a={},l=null,h=null;return u.lastCharacter.remove instanceof Array||(u.lastCharacter.remove=n.fn.dotdotdot.defaultArrays.lastCharacter.remove),u.lastCharacter.noEllipsis instanceof Array||(u.lastCharacter.noEllipsis=n.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),o.afterElement=p(u.after,r),o.isTruncated=!1,o.dotId=f++,r.data("dotdotdot",!0).bind_events().trigger("update.dot"),u.watch&&r.watch(),r},n.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},n.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},n.fn.dotdotdot.debug=function(){},f=1,l=n.fn.html,n.fn.html=function(i){return i!=t&&!n.isFunction(i)&&this.data("dotdotdot")?this.trigger("update",[i]):l.apply(this,arguments)},a=n.fn.text,n.fn.text=function(i){return i!=t&&!n.isFunction(i)&&this.data("dotdotdot")?(i=n("<div />").text(i).html(),this.trigger("update",[i])):a.apply(this,arguments)})}(jQuery),function(){var c=this,tt=c._,r=Array.prototype,p=Object.prototype,it=Function.prototype,w=r.push,t=r.slice,l=r.concat,u=p.toString,b=p.hasOwnProperty,rt=Array.isArray,k=Object.keys,a=it.bind,n=function(t){if(t instanceof n)return t;if(!(this instanceof n))return new n(t);this._wrapped=t},i,v,e,f,o,s,nt,h;typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=n),exports._=n):c._=n;n.VERSION="1.7.0";i=function(n,t,i){if(t===void 0)return n;switch(i==null?3:i){case 1:return function(i){return n.call(t,i)};case 2:return function(i,r){return n.call(t,i,r)};case 3:return function(i,r,u){return n.call(t,i,r,u)};case 4:return function(i,r,u,f){return n.call(t,i,r,u,f)}}return function(){return n.apply(t,arguments)}};n.iteratee=function(t,r,u){return t==null?n.identity:n.isFunction(t)?i(t,r,u):n.isObject(t)?n.matches(t):n.property(t)};n.each=n.forEach=function(t,r,u){var f,e,o;if(t==null)return t;if(r=i(r,u),e=t.length,e===+e)for(f=0;f<e;f++)r(t[f],f,t);else for(o=n.keys(t),f=0,e=o.length;f<e;f++)r(t[o[f]],o[f],t);return t};n.map=n.collect=function(t,i,r){var u;if(t==null)return[];i=n.iteratee(i,r);var f=t.length!==+t.length&&n.keys(t),o=(f||t).length,s=Array(o),e;for(u=0;u<o;u++)e=f?f[u]:u,s[u]=i(t[e],e,t);return s};v="Reduce of empty array with no initial value";n.reduce=n.foldl=n.inject=function(t,r,u,f){t==null&&(t=[]);r=i(r,f,4);var o=t.length!==+t.length&&n.keys(t),h=(o||t).length,e=0,s;if(arguments.length<3){if(!h)throw new TypeError(v);u=t[o?o[e++]:e++]}for(;e<h;e++)s=o?o[e]:e,u=r(u,t[s],s,t);return u};n.reduceRight=n.foldr=function(t,r,u,f){t==null&&(t=[]);r=i(r,f,4);var o=t.length!==+t.length&&n.keys(t),e=(o||t).length,s;if(arguments.length<3){if(!e)throw new TypeError(v);u=t[o?o[--e]:--e]}while(e--)s=o?o[e]:e,u=r(u,t[s],s,t);return u};n.find=n.detect=function(t,i,r){var u;return i=n.iteratee(i,r),n.some(t,function(n,t,r){if(i(n,t,r))return u=n,!0}),u};n.filter=n.select=function(t,i,r){var u=[];return t==null?u:(i=n.iteratee(i,r),n.each(t,function(n,t,r){i(n,t,r)&&u.push(n)}),u)};n.reject=function(t,i,r){return n.filter(t,n.negate(n.iteratee(i)),r)};n.every=n.all=function(t,i,r){if(t==null)return!0;i=n.iteratee(i,r);for(var f=t.length!==+t.length&&n.keys(t),o=(f||t).length,e,u=0;u<o;u++)if(e=f?f[u]:u,!i(t[e],e,t))return!1;return!0};n.some=n.any=function(t,i,r){if(t==null)return!1;i=n.iteratee(i,r);for(var f=t.length!==+t.length&&n.keys(t),o=(f||t).length,e,u=0;u<o;u++)if(e=f?f[u]:u,i(t[e],e,t))return!0;return!1};n.contains=n.include=function(t,i){return t==null?!1:(t.length!==+t.length&&(t=n.values(t)),n.indexOf(t,i)>=0)};n.invoke=function(i,r){var u=t.call(arguments,2),f=n.isFunction(r);return n.map(i,function(n){return(f?r:n[r]).apply(n,u)})};n.pluck=function(t,i){return n.map(t,n.property(i))};n.where=function(t,i){return n.filter(t,n.matches(i))};n.findWhere=function(t,i){return n.find(t,n.matches(i))};n.max=function(t,i,r){var u=-Infinity,s=-Infinity,o,f,e,h;if(i==null&&t!=null)for(t=t.length===+t.length?t:n.values(t),e=0,h=t.length;e<h;e++)o=t[e],o>u&&(u=o);else i=n.iteratee(i,r),n.each(t,function(n,t,r){f=i(n,t,r);(f>s||f===-Infinity&&u===-Infinity)&&(u=n,s=f)});return u};n.min=function(t,i,r){var u=Infinity,s=Infinity,o,f,e,h;if(i==null&&t!=null)for(t=t.length===+t.length?t:n.values(t),e=0,h=t.length;e<h;e++)o=t[e],o<u&&(u=o);else i=n.iteratee(i,r),n.each(t,function(n,t,r){f=i(n,t,r);(f<s||f===Infinity&&u===Infinity)&&(u=n,s=f)});return u};n.shuffle=function(t){for(var f=t&&t.length===+t.length?t:n.values(t),e=f.length,r=Array(e),i=0,u;i<e;i++)u=n.random(0,i),u!==i&&(r[i]=r[u]),r[u]=f[i];return r};n.sample=function(t,i,r){return i==null||r?(t.length!==+t.length&&(t=n.values(t)),t[n.random(t.length-1)]):n.shuffle(t).slice(0,Math.max(0,i))};n.sortBy=function(t,i,r){return i=n.iteratee(i,r),n.pluck(n.map(t,function(n,t,r){return{value:n,index:t,criteria:i(n,t,r)}}).sort(function(n,t){var i=n.criteria,r=t.criteria;if(i!==r){if(i>r||i===void 0)return 1;if(i<r||r===void 0)return-1}return n.index-t.index}),"value")};e=function(t){return function(i,r,u){var f={};return r=n.iteratee(r,u),n.each(i,function(n,u){var e=r(n,u,i);t(f,n,e)}),f}};n.groupBy=e(function(t,i,r){n.has(t,r)?t[r].push(i):t[r]=[i]});n.indexBy=e(function(n,t,i){n[i]=t});n.countBy=e(function(t,i,r){n.has(t,r)?t[r]++:t[r]=1});n.sortedIndex=function(t,i,r,u){var e;r=n.iteratee(r,u,1);for(var s=r(i),f=0,o=t.length;f<o;)e=f+o>>>1,r(t[e])<s?f=e+1:o=e;return f};n.toArray=function(i){return i?n.isArray(i)?t.call(i):i.length===+i.length?n.map(i,n.identity):n.values(i):[]};n.size=function(t){return t==null?0:t.length===+t.length?t.length:n.keys(t).length};n.partition=function(t,i,r){i=n.iteratee(i,r);var u=[],f=[];return n.each(t,function(n,t,r){(i(n,t,r)?u:f).push(n)}),[u,f]};n.first=n.head=n.take=function(n,i,r){if(n!=null)return i==null||r?n[0]:i<0?[]:t.call(n,0,i)};n.initial=function(n,i,r){return t.call(n,0,Math.max(0,n.length-(i==null||r?1:i)))};n.last=function(n,i,r){if(n!=null)return i==null||r?n[n.length-1]:t.call(n,Math.max(n.length-i,0))};n.rest=n.tail=n.drop=function(n,i,r){return t.call(n,i==null||r?1:i)};n.compact=function(t){return n.filter(t,n.identity)};f=function(t,i,r,u){var o,s,e;if(i&&n.every(t,n.isArray))return l.apply(u,t);for(o=0,s=t.length;o<s;o++)e=t[o],n.isArray(e)||n.isArguments(e)?i?w.apply(u,e):f(e,i,r,u):r||u.push(e);return u};n.flatten=function(n,t){return f(n,t,!1,[])};n.without=function(i){return n.difference(i,t.call(arguments,1))};n.uniq=n.unique=function(t,i,r,u){var e,s,o,c,f,h;if(t==null)return[];for(n.isBoolean(i)||(u=r,r=i,i=!1),r!=null&&(r=n.iteratee(r,u)),e=[],s=[],o=0,c=t.length;o<c;o++)f=t[o],i?(o&&s===f||e.push(f),s=f):r?(h=r(f,o,t),n.indexOf(s,h)<0&&(s.push(h),e.push(f))):n.indexOf(e,f)<0&&e.push(f);return e};n.union=function(){return n.uniq(f(arguments,!0,!0,[]))};n.intersection=function(t){var r,e,u,o,f,i;if(t==null)return[];for(r=[],e=arguments.length,u=0,o=t.length;u<o;u++)if(f=t[u],!n.contains(r,f)){for(i=1;i<e;i++)if(!n.contains(arguments[i],f))break;i===e&&r.push(f)}return r};n.difference=function(i){var r=f(t.call(arguments,1),!0,!0,[]);return n.filter(i,function(t){return!n.contains(r,t)})};n.zip=function(t){var r,u,i;if(t==null)return[];for(r=n.max(arguments,"length").length,u=Array(r),i=0;i<r;i++)u[i]=n.pluck(arguments,i);return u};n.object=function(n,t){var r,i,u;if(n==null)return{};for(r={},i=0,u=n.length;i<u;i++)t?r[n[i]]=t[i]:r[n[i][0]]=n[i][1];return r};n.indexOf=function(t,i,r){if(t==null)return-1;var u=0,f=t.length;if(r)if(typeof r=="number")u=r<0?Math.max(0,f+r):r;else return u=n.sortedIndex(t,i),t[u]===i?u:-1;for(;u<f;u++)if(t[u]===i)return u;return-1};n.lastIndexOf=function(n,t,i){if(n==null)return-1;var r=n.length;for(typeof i=="number"&&(r=i<0?r+i+1:Math.min(r,i+1));--r>=0;)if(n[r]===t)return r;return-1};n.range=function(n,t,i){var u,f,r;for(arguments.length<=1&&(t=n||0,n=0),i=i||1,u=Math.max(Math.ceil((t-n)/i),0),f=Array(u),r=0;r<u;r++,n+=i)f[r]=n;return f};o=function(){};n.bind=function(i,r){var u,f;if(a&&i.bind===a)return a.apply(i,t.call(arguments,1));if(!n.isFunction(i))throw new TypeError("Bind must be called on a function");return u=t.call(arguments,2),f=function(){var e,s;return(this instanceof f)?(o.prototype=i.prototype,e=new o,o.prototype=null,s=i.apply(e,u.concat(t.call(arguments))),n.isObject(s))?s:e:i.apply(r,u.concat(t.call(arguments)))}};n.partial=function(i){var r=t.call(arguments,1);return function(){for(var f=0,t=r.slice(),u=0,e=t.length;u<e;u++)t[u]===n&&(t[u]=arguments[f++]);while(f<arguments.length)t.push(arguments[f++]);return i.apply(this,t)}};n.bindAll=function(t){var i,u=arguments.length,r;if(u<=1)throw new Error("bindAll must be passed function names");for(i=1;i<u;i++)r=arguments[i],t[r]=n.bind(t[r],t);return t};n.memoize=function(t,i){var r=function(u){var f=r.cache,e=i?i.apply(this,arguments):u;return n.has(f,e)||(f[e]=t.apply(this,arguments)),f[e]};return r.cache={},r};n.delay=function(n,i){var r=t.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},i)};n.defer=function(i){return n.delay.apply(n,[i,1].concat(t.call(arguments,1)))};n.throttle=function(t,i,r){var f,e,s,u=null,o=0,h;return r||(r={}),h=function(){o=r.leading===!1?0:n.now();u=null;s=t.apply(f,e);u||(f=e=null)},function(){var l=n.now(),c;return o||r.leading!==!1||(o=l),c=i-(l-o),f=this,e=arguments,c<=0||c>i?(clearTimeout(u),u=null,o=l,s=t.apply(f,e),u||(f=e=null)):u||r.trailing===!1||(u=setTimeout(h,c)),s}};n.debounce=function(t,i,r){var u,f,e,s,o,h=function(){var c=n.now()-s;c<i&&c>0?u=setTimeout(h,i-c):(u=null,r||(o=t.apply(e,f),u||(e=f=null)))};return function(){e=this;f=arguments;s=n.now();var c=r&&!u;return u||(u=setTimeout(h,i)),c&&(o=t.apply(e,f),e=f=null),o}};n.wrap=function(t,i){return n.partial(i,t)};n.negate=function(n){return function(){return!n.apply(this,arguments)}};n.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,i=n[t].apply(this,arguments);r--;)i=n[r].call(this,i);return i}};n.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}};n.before=function(n,t){var i;return function(){return--n>0?i=t.apply(this,arguments):t=null,i}};n.once=n.partial(n.before,2);n.keys=function(t){var i,r;if(!n.isObject(t))return[];if(k)return k(t);i=[];for(r in t)n.has(t,r)&&i.push(r);return i};n.values=function(t){for(var r=n.keys(t),u=r.length,f=Array(u),i=0;i<u;i++)f[i]=t[r[i]];return f};n.pairs=function(t){for(var r=n.keys(t),u=r.length,f=Array(u),i=0;i<u;i++)f[i]=[r[i],t[r[i]]];return f};n.invert=function(t){for(var u={},r=n.keys(t),i=0,f=r.length;i<f;i++)u[t[r[i]]]=r[i];return u};n.functions=n.methods=function(t){var i=[];for(var r in t)n.isFunction(t[r])&&i.push(r);return i.sort()};n.extend=function(t){var i,r,u,f;if(!n.isObject(t))return t;for(u=1,f=arguments.length;u<f;u++){i=arguments[u];for(r in i)b.call(i,r)&&(t[r]=i[r])}return t};n.pick=function(r,u,f){var o={},e,h,c,s,a;if(r==null)return o;if(n.isFunction(u)){u=i(u,f);for(e in r)h=r[e],u(h,e,r)&&(o[e]=h)}else for(c=l.apply([],t.call(arguments,1)),r=new Object(r),s=0,a=c.length;s<a;s++)e=c[s],e in r&&(o[e]=r[e]);return o};n.omit=function(i,r,u){if(n.isFunction(r))r=n.negate(r);else{var f=n.map(l.apply([],t.call(arguments,1)),String);r=function(t,i){return!n.contains(f,i)}}return n.pick(i,r,u)};n.defaults=function(t){var i,f,u,r;if(!n.isObject(t))return t;for(i=1,f=arguments.length;i<f;i++){u=arguments[i];for(r in u)t[r]===void 0&&(t[r]=u[r])}return t};n.clone=function(t){return n.isObject(t)?n.isArray(t)?t.slice():n.extend({},t):t};n.tap=function(n,t){return t(n),n};s=function(t,i,r,f){var l,a,h,c,e,o,y,v;if(t===i)return t!==0||1/t==1/i;if(t==null||i==null)return t===i;if(t instanceof n&&(t=t._wrapped),i instanceof n&&(i=i._wrapped),l=u.call(t),l!==u.call(i))return!1;switch(l){case"[object RegExp]":case"[object String]":return""+t==""+i;case"[object Number]":return+t!=+t?+i!=+i:+t==0?1/+t==1/i:+t==+i;case"[object Date]":case"[object Boolean]":return+t==+i}if(typeof t!="object"||typeof i!="object")return!1;for(a=r.length;a--;)if(r[a]===t)return f[a]===i;if(h=t.constructor,c=i.constructor,h!==c&&"constructor"in t&&"constructor"in i&&!(n.isFunction(h)&&h instanceof h&&n.isFunction(c)&&c instanceof c))return!1;if(r.push(t),f.push(i),l==="[object Array]"){if(e=t.length,o=e===i.length,o)while(e--)if(!(o=s(t[e],i[e],r,f)))break}else if(y=n.keys(t),e=y.length,o=n.keys(i).length===e,o)while(e--)if(v=y[e],!(o=n.has(i,v)&&s(t[v],i[v],r,f)))break;return r.pop(),f.pop(),o};n.isEqual=function(n,t){return s(n,t,[],[])};n.isEmpty=function(t){if(t==null)return!0;if(n.isArray(t)||n.isString(t)||n.isArguments(t))return t.length===0;for(var i in t)if(n.has(t,i))return!1;return!0};n.isElement=function(n){return!!(n&&n.nodeType===1)};n.isArray=rt||function(n){return u.call(n)==="[object Array]"};n.isObject=function(n){var t=typeof n;return t==="function"||t==="object"&&!!n};n.each(["Arguments","Function","String","Number","Date","RegExp"],function(t){n["is"+t]=function(n){return u.call(n)==="[object "+t+"]"}});n.isArguments(arguments)||(n.isArguments=function(t){return n.has(t,"callee")});typeof/./!="function"&&(n.isFunction=function(n){return typeof n=="function"||!1});n.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))};n.isNaN=function(t){return n.isNumber(t)&&t!==+t};n.isBoolean=function(n){return n===!0||n===!1||u.call(n)==="[object Boolean]"};n.isNull=function(n){return n===null};n.isUndefined=function(n){return n===void 0};n.has=function(n,t){return n!=null&&b.call(n,t)};n.noConflict=function(){return c._=tt,this};n.identity=function(n){return n};n.constant=function(n){return function(){return n}};n.noop=function(){};n.property=function(n){return function(t){return t[n]}};n.matches=function(t){var i=n.pairs(t),r=i.length;return function(n){var t,u,f;if(n==null)return!r;for(n=new Object(n),t=0;t<r;t++)if(u=i[t],f=u[0],u[1]!==n[f]||!(f in n))return!1;return!0}};n.times=function(n,t,r){var f=Array(Math.max(0,n)),u;for(t=i(t,r,1),u=0;u<n;u++)f[u]=t(u);return f};n.random=function(n,t){return t==null&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};n.now=Date.now||function(){return(new Date).getTime()};var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ut=n.invert(d),g=function(t){var r=function(n){return t[n]},i="(?:"+n.keys(t).join("|")+")",u=RegExp(i),f=RegExp(i,"g");return function(n){return n=n==null?"":""+n,u.test(n)?n.replace(f,r):n}};n.escape=g(d);n.unescape=g(ut);n.result=function(t,i){if(t==null)return void 0;var r=t[i];return n.isFunction(r)?t[i]():r};nt=0;n.uniqueId=function(n){var t=++nt+"";return n?n+t:t};n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var y=/(.)^/,ft={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},et=/\\|'|\r|\n|\u2028|\u2029/g,ot=function(n){return"\\"+ft[n]};n.template=function(t,i,r){var o,f,h;!i&&r&&(i=r);i=n.defaults({},i,n.templateSettings);var c=RegExp([(i.escape||y).source,(i.interpolate||y).source,(i.evaluate||y).source].join("|")+"|$","g"),e=0,u="__p+='";t.replace(c,function(n,i,r,f,o){return u+=t.slice(e,o).replace(et,ot),e=o+n.length,i?u+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":r?u+="'+\n((__t=("+r+"))==null?'':__t)+\n'":f&&(u+="';\n"+f+"\n__p+='"),n});u+="';\n";i.variable||(u="with(obj||{}){\n"+u+"}\n");u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{o=new Function(i.variable||"obj","_",u)}catch(s){s.source=u;throw s;}return f=function(t){return o.call(this,t,n)},h=i.variable||"obj",f.source="function("+h+"){\n"+u+"}",f};n.chain=function(t){var i=n(t);return i._chain=!0,i};h=function(t){return this._chain?n(t).chain():t};n.mixin=function(t){n.each(n.functions(t),function(i){var r=n[i]=t[i];n.prototype[i]=function(){var t=[this._wrapped];return w.apply(t,arguments),h.call(this,r.apply(n,t))}})};n.mixin(n);n.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var i=r[t];n.prototype[t]=function(){var n=this._wrapped;return i.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0],h.call(this,n)}});n.each(["concat","join","slice"],function(t){var i=r[t];n.prototype[t]=function(){return h.call(this,i.apply(this._wrapped,arguments))}});n.prototype.value=function(){return this._wrapped};typeof define=="function"&&define.amd&&define("underscore",[],function(){return n})}.call(this);
/*!
* PS
*/
(function(){$.fn.blink=function(){return $(this).fadeTo("normal",.4).fadeTo("normal",1)};$.fn.blank=function(){return this.size()===0};$.fn.present=function(){return this.size()>0};var n={},u=".body",t="data-line-id",f=".comments-wrapper",i=".body [data-line-id]",r=".comments-wrapper [data-line-id]",e=function(){function w(n){return n.parents(u).present()}function v(n){var r=$(n).attr(t),i;return w(n)?(i=$(".comments-wrapper [data-line-id='"+r+"']"),i.blank()&&(i=$(".comment-add")),i):$(".body [data-line-id='"+r+"']")}function tt(n){var r=n.attr(t),i=$(f+" ["+t+"='"+r+"']"),u=$("[data-comment-id]",i);return i.add(u)}function o(n){return $(n).is(":hidden")?0:$(n).height()}function b(n,t,i){return y(n,o(n)),n.animate({height:t},a,i),n}function y(n,t){return n.height(t).css("line-height",""+t+"px"),n.show()}function k(n,t){return y(n,o(n)+t)}function s(n){return $(n).offset().top}function it(t){var i,r;return r=v(t),i=s(r)-o(n.other),i-s(t)-o(n.my)}function h(n){return $(window).scrollTop($(window).scrollTop()+n)}function d(n){return $(r).add(".body [data-line-id]").removeClass("selected"),n?nt(n,function(){$(r).show()}):$(r).show(),$(i).fadeTo(0,1),!1}function g(n){return w(n)?{my:c,other:l}:{my:l,other:c}}function rt(t){var i;i=o(n.my);b(n.other,i+e*-1,function(){n.my.hide();k(n.other,i*-1);h(i*-1);$.isFunction(t)&&t()})}function ut(t){return y(n.my,e),k(n.other,e),h(e),n.other.slideUp(a,t)}function nt(n,t){var i=s(n);return t(),h(s(n)-i)}function p(t){n=t?g($(t)):n;d(t);$(".comment-add [name='lineId']").val("");var i=o(n.my);i>0?b(n.other,i,function(){n.my.hide();n.other.hide();h(i*-1)}):n.other.slideUp(a)}function ft(t){if(t=$(t),n=g(t),t.hasClass("selected"))p(t);else{d(t);var i=v(t);t.add(i).add(tt(t)).addClass("selected");nt(t,function(){$(".comments-wrapper [data-line-id]:not(.selected)").hide()});$(".body [data-line-id]:not(.selected)").fadeTo(0,.5);i.present()&&(e=it(t),e<0?rt(function(){$(".comment-add textarea").focus()}):e>0&&ut(function(){$(".comment-add textarea").focus()}))}return!1}var c=$(".article .top-space"),l=$(".comments-wrapper .top-space"),a="slow",e=0,n=null;return l.add(c).click(function(){return p(this)}),this.move_to=ft,this.related=function(n){var t=v(n);return t.is(".comment-add")?$():t},this.click_on_somewhere_page=function(){$(".body [data-line-id].selected").length>0&&$("#commentBody:focus").blank()&&$.trim($("#commentBody").val())==""&&p()},this};n.commentary=function(){function u(){r("lineId").val("");r("replyOnId").val("");$("#commentAddError").slideUp("normal");$(".comment-add-error",n).slideUp("fast");$(".comment-add-success",n).slideUp("fast")}function r(n){return $(".comment-add [name='"+n+"']")}function h(){$(".comments-count[data-comment-url]").text($("[data-comment-id][data-comment-reply='false']").length)}function s(){$(i).each(function(){var n=$(this),t=f.related(n).present(),i=t?"commented":"",r=$("body").hasClass("unauthenticated"),u=$(".article.commentary").hasClass("english");r?t&&n.prepend("<a href='#' class='inline-comment "+i+"'><span><\/span><\/a>"):u&&n.prepend("<a href='#' aria-hidden='true' class='inline-comment "+i+"' ><span><\/span><\/a>")})}function o(n){n.preventDefault();var i=$(this).parents("[data-line-id]"),e=$("#tab-comments");return e.length>0&&!e.hasClass("visible")&&$("a.atabs[data-target=tab-comments]").trigger("click"),u(),i.hasClass("selected")==!1&&r("lineId").val(i.attr(t)),f.move_to(i),!1}var f,n;u();f=new e;s();$(i+" .inline-comment").click(o);$("a.inlinecomment").click(o);n=$(".comment-add");n.submit(function(i){function l(i){var l,r,e,c,a;u();$(".comment-add [name='commentBody']").val("");$(".loading",n).hide("fast");$(".submit",n).show("fast");i==""?$(".comment-add-error",n).slideDown("fast"):($(".comment-add-success",n).slideDown("fast").delay(5e3).slideUp("fast"),$(".show-comments").click(),l=f==""?".comments ol:first":"[data-comment-id='"+f+"'] ol:first",r=$(l),r.length===0&&(e="[data-comment-id='"+f+"']",$("<ol>").appendTo(e),r=$(e).find("ol:first")),c=$(i.replace("\r\n","")).prependTo(r).hide().slideDown("slow"),$("a.inlinecomment",c).click(o),a=c.attr(t),$(".body [data-line-id='"+a+"'] .inline-comment").addClass("commented"),h(),s())}function a(){$(".loading",n).hide("fast");$(".submit",n).show("fast");$(".comment-add-error",n).slideDown("fast")}if(i.preventDefault(),$.trim($("#commentBody").val())=="")return $("#commentAddError").slideDown("slow"),!1;$("#commentAddError").hide();$(".comment-add-error",n).hide();$(".comment-add-success",n).hide();var e=$(this),c=e.serializeArray(),f=r("replyOnId").val();return $(".submit",n).hide("fast"),$(".loading",n).show(),$.ajax({type:"POST",dataType:"html",url:e.attr("action"),data:c,success:l,error:a}),!1});$(".comment-add .cancel").click(function(n){n.preventDefault();u();$("#commentBody").val("");$("#commentAddError, .comment-add-error").slideUp("normal")});$(".comment-add .submit").click(function(n){n.preventDefault();$(".comment-add").submit()});$(document).click(function(){f.click_on_somewhere_page()});$(document).on("click","[data-comment-id] .reply",function(n){var t=$(this),i=t.parents("[data-comment-id]").attr("data-comment-id");return u(),r("replyOnId").val(i),$(".comment-add").blink(),r("commentBody").focus(),n.preventDefault(),!1});$(document).on("click","[data-comment-id] .vote",function(n){var t=$(this).closest("[data-comment-id]");return $.post($(this).attr("href"),function(n){$(".votes:first",t).text(n.rate)}),n.preventDefault(),!1});$("#comment_new").click(function(){return $("#commentBody").focus(),$.smoothScroll({scrollTarget:"#new_comment"}),!1})};n.sectionsColumnistsInitialization=function(){$("#userSectionsUl").find("input[type=checkbox]").on("change",function(){n.doTask("section",$(this))});$("#author-list").find("input[type=checkbox].chbx-columnist").on("change",function(){n.doTask("columnist",$(this))})};n.doTask=function(t,i){var r="",u="",f="no",e=!1;i.is(":checked")&&(e=!0,f="yes");t=="columnist"?(i.closest("article").removeAttr("data-sort-checked"),i.closest("article").attr("data-sort-checked",f),r=i.attr("data-columnist-id")):t=="section"&&(r=i.attr("data-section-id"));u=n.ajaxDataUrl(r,e,t);n.postUserData(u,r,t)};n.ajaxDataUrl=function(n,t,i){return"/users/follow?entityId="+n+"&selected="+t+"&typ="+i};n.UpdateUserBookmark=function(t){n.doAuthrBookmarkTask(".bookmark-btn",t,"bkm","bookmarked")};n.subscribeToAuthor=function(t){n.doAuthrBookmarkTask("#subscribe-to-author",t,"auth","subscribed")};n.subscribeToAuthorFromCommentary=function(t){n.doAuthrBookmarkTask("#subscribe-to-author",t,"auth","subscribed")};n.doAuthrBookmarkTask=function(t,i,r,u){$(t).on("click",function(t){t.preventDefault();var f=!0,e="",o=!1;$(this).hasClass(u)&&(f=!1,o=!0);e=n.ajaxDataUrl(i,f,r);n.postUserData(e,i,r);o?($(this).removeClass(u),r=="bkm"?$(".tipBkm").html("Add bookmark"):r=="auth"&&$(this).html("Subscribe to Author")):($(this).addClass(u),r=="bkm"?$(".tipBkm").html("Remove bookmark"):r=="auth"&&$(this).html("Unsubscribe from Author"))})};n.postUserData=function(n,t,i){var u=$("[data-"+i+"-id="+t+"]").parents(".autosave"),r;u.addClass("saving");r=$.ajax({type:"POST",url:n,async:!0});r.done(function(){u.removeClass("saving")});r.fail(function(){})};$(document).on("change",".subscribe-newsletter-group",function(){var t=$(this),i=t.data("newsletter-group-id"),r=t.is(":checked");$.ajax({type:"POST",url:n.ajaxDataUrl(i,r,"newsletter-group"),dataType:"json"}).done(function(){})});n.setSelect2Data=function(n,t){n!==""&&t!==""&&$("input.findCountrySelect[type=hidden]").select2("data",{id:t+"|"+n,text:t})};n.initCountrySelect2=function(){$("input.findCountrySelect[type=hidden]").select2({minimumInputLength:1,multiple:!1,width:"copy",allowClear:!0,placeholder:"Country",query:function(n){var t={more:!1,results:[],context:null};n.term==""||n.term==undefined||n.term==null?n.callback(t):$.ajax({url:"/users/FindCountryForSelect",data:{term:n.term},async:!1,dataType:"json"}).done(function(i){if(i!=null)for(var r=0;r<i.length;r++)t.results.push({id:i[r].text+"|"+i[r].id,text:i[r].text});n.callback(t)})}})};n.initRegistrationSwitch=function(n){$(document).on("click",n,function(n){n.preventDefault();var t=$(n.target),r=t.data("registration-type"),i=$("form#registration").find("input#registration-type[type=hidden]");r==="temporary"?(t.data("registration-type","full"),t.html("Full registration"),i.val("temporary"),$(".full-reg").hide(),$("#switch-to-temporary").addClass("hidden"),$("#switch-to-full").removeClass("hidden")):(t.data("registration-type","temporary"),t.html("Temporary registration"),i.val("full"),$(".full-reg").show(),$("#switch-to-temporary").removeClass("hidden"),$("#switch-to-full").addClass("hidden"))})};n.initActivationEmailResend=function(n){$(document).on("click",n,function(n){n.preventDefault();$("div.loading").show();var i=$(n.currentTarget),r=i.data("redirect"),t=i.closest("p.spacer-bottom-20");$.ajax({url:"/psemail/ResendAccountActivationEmail",data:{redirect:r},async:!0,dataType:"json",type:"POST"}).done(function(n){$("div.loading").hide();n!=null?n.success?(t.addClass(""),t.html("Activation email sent successfully !!! Please check your mailbox")):(t.addClass("error"),n.message==="errorsend"?t.html("Something has gone wrong while sending the activation email, please contact digital@project-syndicate.org for support."):n.message==="errortoken"&&t.html("Something has gone wrong, please contact digital@project-syndicate.org for support.")):(t.addClass("error"),t.html("Something has gone wrong, please contact digital@project-syndicate.org for support."))})})};n.reorderColumnists=function(){var n=$("#author-list").find('article[data-sort-checked="yes"]'),t=$("#author-list").find('article[data-sort-checked="no"]');n.each(function(){$("#author-list").append($(this))});t.each(function(){$("#author-list").append($(this))})};n.getBookmarksToBeDeleted=function(){var i=$("#bookmarks_paged").find("input[type=checkbox].booknmark-chkbx"),r=[],u,t;i.length>0&&(i.each(function(){if($(this).is(":checked")){var n=$(this).attr("data-document-id");r.push(n)}}),u=n.ajaxDataUrl(r,!1,"bkm"),t=$.ajax({type:"POST",url:u,async:!1}),t.done(function(){}),t.fail(function(){}))};n.UncheckUserBookmarks=function(){var n=$("#bookmarks_paged").find("input[type=checkbox].booknmark-chkbx");n.each(function(){$(this).is(":checked")&&$(this).attr("checked",!1)})};n.edit_comment_to_paragraph_link=function(){function t(n){$("a",n).click(function(){return n=$(this).closest("div"),$.post("/console/changelinkbetweencommentandparagraph",{comment_id:$(n).closest("[data-comment-id]").data("comment-id"),new_paragraph_id:$("input",n).val()},function(t){$("p",n).text(t).fadeOut().fadeIn()}),!1})}var n=$("<div><a href='#'>Edit comment to paragraph link<\/a><\/div>").prependTo(".comments").find("a");n.click(function(){var n=$("<div><br/><br/><input type='text' placeholder='new paragraph data-line-id'/><p/><a href='#'>Update link<\/a><br/><br/><\/div>").prependTo("[data-comment-id]").hide().slideDown();return t(n),!1})};n.timeStamp=(new Date).getTime();n.recordActivity=function(t){var r=(new Date).getTime()-n.timeStamp,i;r>4e3&&(i=$.ajax({url:"/documentvisittracking/record?genericId="+t,async:!1}),i.done(function(){}),i.fail(function(){}))};window.ps=n}).call(this),function(n,t,i){typeof module!="undefined"&&module.exports?module.exports=i():typeof define=="function"&&define.amd?define(i):t[n]=i()}("jquery-scrollto",this,function(){var i,n,t;return i=n=window.jQuery||require("jquery"),n.propHooks.scrollTop=n.propHooks.scrollLeft={get:function(n,t){var i=null;return(n.tagName==="HTML"||n.tagName==="BODY")&&(t==="scrollLeft"?i=window.scrollX:t==="scrollTop"&&(i=window.scrollY)),i==null&&(i=n[t]),i}},n.Tween.propHooks.scrollTop=n.Tween.propHooks.scrollLeft={get:function(t){return n.propHooks.scrollTop.get(t.elem,t.prop)},set:function(n){n.elem.tagName==="HTML"||n.elem.tagName==="BODY"?(n.options.bodyScrollLeft=n.options.bodyScrollLeft||window.scrollX,n.options.bodyScrollTop=n.options.bodyScrollTop||window.scrollY,n.prop==="scrollLeft"?n.options.bodyScrollLeft=Math.round(n.now):n.prop==="scrollTop"&&(n.options.bodyScrollTop=Math.round(n.now)),window.scrollTo(n.options.bodyScrollLeft,n.options.bodyScrollTop)):n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}},t={config:{duration:400,easing:"swing",callback:undefined,durationMode:"each",offsetTop:0,offsetLeft:0},configure:function(i){return n.extend(t.config,i||{}),this},scroll:function(i,r){var l,u,a,s,y,nt,h,c,p,w,b,k,e,d,g,o,f,v;return l=i.pop(),u=l.$container,a=l.$target,nt=u.prop("tagName"),s=n("<span/>").css({position:"absolute",top:"0px",left:"0px"}),y=u.css("position"),u.css({position:"relative"}),s.appendTo(u),b=s.offset().top,k=a.offset().top,e=k-b-parseInt(r.offsetTop,10),d=s.offset().left,g=a.offset().left,o=g-d-parseInt(r.offsetLeft,10),h=u.prop("scrollTop"),c=u.prop("scrollLeft"),s.remove(),u.css({position:y}),f={},v=function(){return i.length===0?typeof r.callback=="function"&&r.callback():t.scroll(i,r),!0},r.onlyIfOutside&&(p=h+u.height(),w=c+u.width(),h<e&&e<p&&(e=h),c<o&&o<w&&(o=c)),e!==h&&(f.scrollTop=e),o!==c&&(f.scrollLeft=o),u.prop("scrollHeight")===u.width()&&delete f.scrollTop,u.prop("scrollWidth")===u.width()&&delete f.scrollLeft,f.scrollTop!=null||f.scrollLeft!=null?u.animate(f,{duration:r.duration,easing:r.easing,complete:v}):v(),!0},fn:function(i){var e,o,r,u,f,s,h;if(e=[],f=n(this),f.length===0)return this;for(o=n.extend({},t.config,i),r=f.parent(),u=r.get(0);r.length===1&&u!==document.body&&u!==document;)s=r.css("overflow-y")!=="visible"&&u.scrollHeight!==u.clientHeight,h=r.css("overflow-x")!=="visible"&&u.scrollWidth!==u.clientWidth,(s||h)&&(e.push({$container:r,$target:f}),f=r),r=r.parent(),u=r.get(0);return e.push({$container:n("html"),$target:f}),o.durationMode==="all"&&(o.duration/=e.length),t.scroll(e,o),this}},n.ScrollTo=n.ScrollTo||t,n.fn.ScrollTo=n.fn.ScrollTo||t.fn,t});var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},AddScriptOptions=function(){function n(){}return n}(),SocialSettings=function(){function n(n){this.Title=encodeURIComponent(document.title);this.Url=encodeURIComponent(location.href);this.ShowNetWorks=["facebook-like","twitter","linkedin"];this.More=!0;this.ExcludeNetworks=null;this.Layout="standard";this.MoreText="More";this.ShareText="Share this";this.NativeMode=!1;this.LinkOnly=!1;this.BoxPositionClass="";this.Text="";this.ShareLinkTitle="";this.Message="";this.Lang="";this.CountUrl="";this.ShareLink="";this.SocialOptions={twittermessage:"Current Reading",twitterlanguage:"en",facebooklanguage:"en_US",instagramsize:"32",googleplusonesize:"",googleplusonelanguage:"",facebooklikeshowface:"false",facebooklikeaction:"like",facebooklikelayout:"button",facebooksharelayout:"button",facebooksendcolorscheme:"dark",whatsappsize:"s"};this.ShareRender=n}return n}(),ScriptFunctionsModel=function(){function n(){}return n}(),ScriptFunctionOptions=function(){function n(){}return n}(),SocialSiteBase=function(){function n(n){this.socialSettings=n;this.Name="";this.FriendName="";this.Class16="";this.Class32="";this.AnchorTitle="";this.UrlTemplate="";this.JsFrameworkId="";this.JscriptReference="";this.ButtonReference=""}return n.prototype.RenderNative=function(){},n}(),FacebookBase=function(n){function t(t){n.call(this,t);this.socialSettings=t;this.FriendName="facebook";this.Class32="jquery-sharerender-facebook-32";this.Class16="jquery-sharerender-facebook-16";this.AnchorTitle="Share with facebook";this.UrlTemplate="https://www.facebook.com/sharer.php?u={url}&t={title}";this.JsFrameworkId="facebook-jssdk";this.JscriptReference="https://connect.facebook.net/{lang}/all.js";this.RenderNative=this.renderNative}return __extends(t,n),t.prototype.renderNative=function(n){var t=this.ButtonReference.replace("{url}",this.socialSettings.Url),r=this.socialSettings.SocialOptions,u,f,i,e;switch(this.Name){case"facebook-like":t=t.replace("{action}",r.facebooklikeaction);t=t.replace("{layout}",r.facebooklikelayout);t=t.replace("{showface}",r.facebooklikeshowface);break;case"facebook-share":t=t.replace("{layout}",r.facebooksharelayout);break;case"facebook-send":t=t.replace("{colorscheme}",r.facebooksendcolorscheme)}u=$(t);n.append(u);f=this.JscriptReference.replace("{lang}",this.socialSettings.SocialOptions.facebooklanguage);i=new AddScriptOptions;i.Path=f;i.Id=this.JsFrameworkId;i.JObj=n;i.Settings=this.socialSettings;e=this;this.socialSettings.ShareRender.AddScriptObject(i,function(){SocialSettings.FacebookEventSet||(FB.init({appId:SocialSettings.FacebookId,status:!0,cookie:!0,xfbml:!0,version:"v2.6"}),FB.Event.subscribe("edge.create",function(n){e.socialSettings.ShareRender.RaiseEvent("onshare",{sharelink:"",sharetitle:"",shareurl:n,sharenetwork:"facebook-like"})}),SocialSettings.FacebookEventSet=!0);FB.XFBML.parse(n.get(0))})},t}(SocialSiteBase),FacebookShare=function(n){function t(t){n.call(this,t);this.Name="facebook-share";this.ButtonReference='<div class="fb-share-button" data-href="{url}" data-layout="{layout}"><\/div>'}return __extends(t,n),t}(FacebookBase),FacebookLike=function(n){function t(t){n.call(this,t);this.Name="facebook-like";this.PermanentExclude=!0;this.ButtonReference='<div class="fb-like" data-href="{url}" data-layout="{layout}" data-action="{action}" data-show-faces="{showface}" data-share="false"><\/div>'}return __extends(t,n),t}(FacebookBase),FacebookSend=function(n){function t(t){n.call(this,t);this.Name="facebook-send";this.PermanentExclude=!0;this.ButtonReference='<div class="fb-send" data-href="{url}" data-colorscheme="{colorscheme}"><\/div>'}return __extends(t,n),t}(FacebookBase),LinkedIn=function(n){function t(t){n.call(this,t);this.socialSettings=t;this.Name="linkedin";this.FriendName="linkedin";this.Class32="jquery-sharerender-inshare-32";this.Class16="jquery-sharerender-inshare-16";this.AnchorTitle="InShare This";this.UrlTemplate="https://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}";this.JsFrameworkId="linkedin-framework-js";this.JscriptReference="https://platform.linkedin.com/in.js"}return __extends(t,n),t.prototype.RenderNative=function(n){var r=this,t=document.createElement("script"),i;t.type="in/share";t.setAttribute("data-url",this.socialSettings.Url);t.setAttribute("data-title",this.socialSettings.Title);(this.socialSettings.SocialOptions.linkeinlikehidecount===undefined||this.socialSettings.SocialOptions.linkeinlikehidecount!=="true")&&t.setAttribute("data-counter","right");this.socialSettings.ShareRender.LinkedinEventCount=this.socialSettings.ShareRender.LinkedinEventCount+1;t.setAttribute("data-onSuccess","this.socialSettings.ShareRender.LinkedinEventCall"+shareRender.LinkedinEventCount);this.socialSettings.ShareRender["LinkedinEventCall"+this.socialSettings.ShareRender.LinkedinEventCount]=function(){r.socialSettings.ShareRender.RaiseEvent("onshare",{sharelink:"",sharetitle:"",shareurl:r.socialSettings.ShareRender["linkedineventurl"+r.socialSettings.ShareRender.LinkedinEventCount],sharenetwork:"linkedin"})};this.socialSettings.ShareRender["LinkedinEventUrl"+this.socialSettings.ShareRender.LinkedinEventCount]=this.socialSettings.Url;n.get(0).appendChild(t);i=new AddScriptOptions;i.Path=this.JscriptReference;i.Id=this.JsFrameworkId;i.JObj=n;i.Settings=this.socialSettings;this.socialSettings.ShareRender.AddScriptObject(i,function(){IN.init()})},t}(SocialSiteBase),Instagram=function(n){function t(t){n.call(this,t);this.socialSettings=t;this.Name="instagram";this.FriendName="instagram";this.Class32="";this.Class16="";this.AnchorTitle="";this.UrlTemplate="";this.ButtonReference='<a href="https://instagram.com/{username}?ref=badge" target="_blank" class="jquery-sharerender-instagram-{size}"><\/a>'}return __extends(t,n),t.prototype.RenderNative=function(n){var t=this.ButtonReference.replace("{username}",this.socialSettings.SocialOptions.instagramusername);t=t.replace("{size}",this.socialSettings.SocialOptions.instagramsize);n.append(t)},t}(SocialSiteBase),Twitter=function(n){function t(t){n.call(this,t);this.socialSettings=t;this.Name="twitter";this.FriendName="twitter";this.Class32="jquery-sharerender-twitter-32";this.Class16="jquery-sharerender-twitter-16";this.AnchorTitle="Tweet This";this.UrlTemplate="https://twitter.com/share?url={url}&text={message}&lang={lang}&counturl={counturl}";this.JsFrameworkId="twitter-framework-js";this.JscriptReference="https://platform.twitter.com/widgets.js";this.ButtonReference='<a href="https://twitter.com/share" class="twitter-share-button" data-url="{url}" data-text="{message}" data-count="{hidecount}" data-lang="{lang}" >{text}<\/a>'}return __extends(t,n),t.prototype.RenderNative=function(n){var t=this.ButtonReference.replace("{url}",this.socialSettings.Url),u,i,r;t=t.replace("{message}",this.socialSettings.SocialOptions.twittermessage);t=t.replace("{lang}",this.socialSettings.SocialOptions.twitterlanguage);t=this.socialSettings.SocialOptions.twitterhidecount=="true"?t.replace("{hidecount}","none"):t.replace("{hidecount}","horizontal");t=this.socialSettings.SocialOptions.twittertext?t.replace("{text}",this.socialSettings.SocialOptions.twittertext):t.replace("{text}","tweet");u=$(t);n.append(t);i=new AddScriptOptions;i.Path=this.JscriptReference;i.Id=this.JsFrameworkId;i.JObj=n;i.Settings=this.socialSettings;r=this;this.socialSettings.ShareRender.AddScriptObject(i,function(){r.socialSettings.ShareRender.TwitterInitialLoaded?$.getScript(r.JscriptReference,function(){twttr.events.bind("tweet",function(){r.socialSettings.ShareRender.RaiseEvent("onshare",{sharelink:"",sharetitle:"",shareurl:"",sharenetwork:"twitter"})})}):(twttr.events.bind("tweet",function(){r.socialSettings.ShareRender.RaiseEvent("onshare",{sharelink:"",sharetitle:"",shareurl:"",sharenetwork:"twitter"})}),r.socialSettings.ShareRender.TwitterInitialLoaded=!0)})},t}(SocialSiteBase),GoogleBuzz=function(n){function t(t){n.call(this,t);this.ATitle="Post to Google Buzz";this.Message="";this.socialSettings=t;this.Name="google-buzz";this.FriendName="google buzz";this.Class32="jquery-sharerender-google-buzz-32";this.Class16="jquery-sharerender-google-buzz-16";this.AnchorTitle="Buzz This";this.UrlTemplate="https://www.google.com/buzz/post?message={message}&url={url}";this.JsFrameworkId="google-framework-js";this.JscriptReference="https://www.google.com/buzz/api/button.js";this.ButtonReference='<a title="{title}" class="google-buzz-button" href="https://www.google.com/buzz/post" data-button-style="small-button" data-url="{url}" data-message="{message}"><\/a>'}return __extends(t,n),t.prototype.RenderNative=function(n){var i=this.ButtonReference.replace("{url}",this.socialSettings.Url),t;this.socialSettings.SocialOptions.googlebuzztitle&&(this.ATitle=this.socialSettings.SocialOptions.googlebuzztitle);this.socialSettings.SocialOptions.googlebuzzmessage&&(this.Message=this.socialSettings.SocialOptions.googlebuzzmessage);i=i.replace("{title}",this.ATitle);i=i.replace("{message}",this.Message);n.append(i);t=new AddScriptOptions;t.Path=this.JscriptReference;t.Id=this.JsFrameworkId;t.JObj=n;t.Settings=this.socialSettings;this.socialSettings.ShareRender.AddScriptObject(t,function(){})},t}(SocialSiteBase),GooglePlusOne=function(n){function t(t){n.call(this,t);this.socialSettings=t;this.Name="google-plusone";this.FriendName="google +1";this.Class32="";this.Class16="";this.AnchorTitle="+1 this";this.PermanentExclude=!0;this.UrlTemplate="";this.JscriptReference="https://apis.google.com/js/platform.js";this.ButtonReference='<g:plusone href="{url}" size="{size}" callback="googleplusoneeventcall"{ifcount}><\/g:plusone>';this.JsFrameworkId="google-plusone-js"}return __extends(t,n),t.prototype.RenderNative=function(n){var u,r,i,t;u=this.socialSettings.SocialOptions.googleplusonehidecount=="true"?this.ButtonReference.replace("{ifcount}",' count="false"'):this.ButtonReference.replace("{ifcount}","");r=u.replace("{url}",this.socialSettings.Url);r=r.replace("{size}",this.socialSettings.SocialOptions.googleplusonesize);i="{parsetags: 'explicit'";this.socialSettings.SocialOptions.googleplusonelanguage!=""&&(i=i+"   lang: '"+this.socialSettings.SocialOptions.googleplusonelanguage+"'");i=i+"}";n.append(r);t=new AddScriptOptions;t.Path=this.JscriptReference;t.Id=this.JsFrameworkId;t.JObj=n;t.Settings=this.socialSettings;t.Content=i;this.socialSettings.ShareRender.AddScriptObject(t,function(){gapi.plusone.go()})},t}(SocialSiteBase),GoogleBookmark=function(n){function t(t){n.call(this,t);this.socialSettings=t;this.Name="google-bookmark";this.FriendName="google bookmark";this.Class32="jquery-sharerender-google-32";this.Class16="jquery-sharerender-google-16";this.AnchorTitle="Add to google bookmark";this.UrlTemplate="https://google.com/bookmarks/mark?op=edit&bkmk={url}&title={title}"}return __extends(t,n),t.prototype.RenderNative=function(){},t}(SocialSiteBase),Delicious=function(n){function t(t){n.call(this,t);this.socialSettings=t;this.Name="delicious";this.FriendName="delicious";this.Class32="jquery-sharerender-delicious-32";this.Class16="jquery-sharerender-delicious-16";this.AnchorTitle="Delicious bookmark";this.UrlTemplate="https://del.icio.us/post?url={url}&title={title}"}return __extends(t,n),t.prototype.RenderNative=function(){},t}(SocialSiteBase),Digg=function(n){function t(t){n.call(this,t);this.socialSettings=t;this.Name="digg";this.FriendName="digg";this.Class32="jquery-sharerender-digg-32";this.Class16="jquery-sharerender-digg-16";this.AnchorTitle="Digg This";this.UrlTemplate="https://digg.com/submit?phase=2&url={url}&title={title}"}return __extends(t,n),t.prototype.RenderNative=function(){},t}(SocialSiteBase),WhatsApp=function(n){function t(t){n.call(this,t);this.socialSettings=t;this.Name="whats-app";this.FriendName="whatsapp";this.ButtonReference='<a href="whatsapp://send" data-text="{sharetext}" data-href="{sharedhref}" class="wa_btn wa_btn_{size}" style="display:none;">{text}<\/a>'}return __extends(t,n),t.prototype.RenderNative=function(n){var t=this.ButtonReference.replace("{sharetext}",this.socialSettings.SocialOptions.whatsappmessage);t=t.replace("{text}",this.socialSettings.SocialOptions.whatsapptext);t=t.replace("{sharedhref}",this.socialSettings.Url);t=t.replace("{size}",this.socialSettings.SocialOptions.whatsappsize);n.append(t)},t}(SocialSiteBase),ShareRender=function(){function n(){this.SocialSites=[];this.SocialNamesMapping={"facebook-share":"FacebookShare","facebook-like":"FacebookLike",facebook:"FacebookLike","facebook-send":"FacebookSend",linkedin:"LinkedIn",instagram:"Instagram",twitter:"Twitter","google-buzz":"GoogleBuzz","google-plusone":"GooglePlusOne","google-bookmark":"GoogleBookmark",delicious:"Delicious",digg:"Digg","whats-app":"WhatsApp"};this.SocialSiteAttributes=["title","text","message","language","counturl","size","hidecount","username","action","showface","layout","colorscheme"];this.SocialSiteNames=["facebook-share","facebook-like","facebook-send","linkedin","instagram","twitter","google-buzz","google-plusone","google-bookmark","delicious","digg","whats-app"];this.LinkedinEventCount=0;this.TwitterInitialLoaded=!1;this.ScriptsToRunOnReady=[];this.LastBoxId=0;this.EventSubscriptions={}}return n.prototype.Init=function(n){var t=this.GetSocialSettings(n);this.InitializeSocials(t)},n.prototype.GetSocialSettings=function(n){var t=n,i=new SocialSettings(this),u,r,f;t.attr("data-shownetworks")!==undefined&&t.attr("data-shownetworks").length>0&&(i.ShowNetWorks=t.attr("data-shownetworks").split(","));t.attr("data-layout")!==undefined&&t.attr("data-layout").length>0&&(i.Layout=t.attr("data-layout"));t.attr("data-title")!==undefined&&t.attr("data-title").length>0&&(i.Title=t.attr("data-title"));t.attr("data-url")!==undefined&&t.attr("data-url").length>0&&(i.Url=t.attr("data-url"));t.attr("data-href")!==undefined&&t.attr("data-href").length>0&&(i.Url=t.attr("data-href"));t.attr("data-excludenetworks")!==undefined&&t.attr("data-excludenetworks").length>0&&(i.ExcludeNetworks=t.attr("data-excludenetworks").split(","));t.attr("data-more")!==undefined&&t.attr("data-more").length>0&&(i.More=t.attr("data-more")=="false"?!1:!0);t.attr("data-moretext")!==undefined&&t.attr("data-moretext").length>0&&(i.MoreText=t.attr("data-moretext"));t.attr("data-sharetext")!==undefined&&t.attr("data-sharetext").length>0&&(i.ShareText=t.attr("data-sharetext"));t.attr("data-native")!==undefined&&t.attr("data-native").length>0&&(i.NativeMode=t.attr("data-native")=="true"?!0:!1);t.attr("data-boxpositionclass")!==undefined&&t.attr("data-boxpositionclass").length>0&&(i.BoxPositionClass=t.attr("data-boxpositionclass"));t.attr("data-linkonly")!==undefined&&t.attr("data-linkonly").length>0&&(i.LinkOnly=t.attr("data-linkonly")=="true"?!0:!1);var o=this.SocialSiteAttributes,s=this.SocialSiteNames;for(u=0;u<s.length;u++){for(r=s[u],f=0;f<o.length;f++){var h=o[f],e="data-{socialSite}-{attr}".replace("{socialSite}",r).replace("{attr}",h),c="{socialSite}{attr}".replace("{socialSite}",r).replace("{attr}",h).replace("-","");t.attr(e)!==undefined&&t.attr(e).length>0&&(i.SocialOptions[c]=t.attr(e))}t.hasClass(r)&&(i.More=!1,i.Layout="standard",i.ShowNetWorks=[r],i.LinkOnly=!0)}return i},n.prototype.AddScriptObject=function(n,t){for(var f,h,e,i,r=null,s=this,u=s.ScriptsToRunOnReady,o=0;o<u.length;o++)if(u[o].Id==n.Id){r=u[o];break}r==null&&(r=new ScriptFunctionsModel,r.Id=n.Id,r.Functions=[],u[u.length]=r);document.getElementById(n.Id)==null?(i=document.createElement("script"),i.type="text/javascript",f=new ScriptFunctionOptions,f.Run=t,f.Arg1=n.JObj,f.Arg2=n.Settings,r.Functions[r.Functions.length]=f,i.readyState?i.onreadystatechange=function(){var e,u,n,f,t;if(i.readyState=="loaded"||i.readyState=="complete"){for(i.setAttribute("scriptloadcompleted","1"),i.onreadystatechange=null,e=i.getAttribute("id"),u=s.ScriptsToRunOnReady,r=null,n=0;n<u.length;n++)if(u[n].Id==e){r=u[n];break}if(r!==null)for(f=0;f<r.Functions.length;f++)t=r.Functions[f],t.Run!=null&&t.Run(t.Arg1,t.Arg2)}}:i.onload=function(){var n,u,t;i.setAttribute("scriptloadcompleted","1");i.onreadystatechange=null;var e=i.getAttribute("id"),f=s.ScriptsToRunOnReady,r=null;for(n=0;n<f.length;n++)if(f[n].Id==e){r=f[n];break}if(r!=null)for(u=0;u<r.Functions.length;u++)t=r.Functions[u],t.Run!=null&&t.Run(t.Arg1,t.Arg2)},i.src=n.Path,n.Content!=undefined&&(i.text=n.Content),i.setAttribute("id",n.Id),document.body.appendChild(i)):(h=document.getElementById(n.Id),h.getAttribute("scriptloadcompleted")=="1"?t!=null&&t(n.JObj,n.Settings):(e=new ScriptFunctionOptions,e.Run=t,e.Arg1=n.JObj,e.Arg2=n.Settings,r.Functions[r.Functions.length]=e))},n.prototype.Subscribe=function(n,t){this.EventSubscriptions[n]=t},n.prototype.RaiseEvent=function(n,t){var i=this.EventSubscriptions[n];i!==undefined&&i!==null&&i(t)},n.prototype.RenderBoxInternal=function(n,t,i,r){var a,f,s=n.ShareRender,e,w,b,h,c,l,k,u;s.LastBoxId+=1;var v="jquery-sharerender-box-"+s.LastBoxId,o=$("<div><\/div>").addClass("jquery-sharerender-box").attr("id",v),y=$("<div><\/div>").addClass("jquery-sharerender-box-inner"),p=$("<div><\/div>").addClass("jquery-sharerender-box-content");for(y.append($('<div class="jquery-sharerender-box-head"><span class="jquery-sharerender-box-head-title">Select a service<\/span><span class="jquery-sharerender-box-head-space"><\/span><a jboxId ="{jboxId}" href="#" class="jquery-sharerender-box-close">X<\/a><\/div>'.replace("{jboxId}",v))),n.BoxPositionClass!==""&&(o.addClass(n.BoxPositionClass),o.data("haspositionclass",!0)),e=!0,n.More&&(w=new SocialSettings(this),w.ShowNetWorks=this.SocialSiteNames,this.InitializeSocials(w)),b=s.SocialSites,h=0;h<b.length;h++){if(e=!0,f=b[h],a=f.Name.toLowerCase(),f.PermanentExclude!==undefined&&(e=!f.PermanentExclude),e&&!t&&n.ShowNetWorks!=null)for(c=0;c<n.ShowNetWorks.length;c++)if(jQuery.trim(n.ShowNetWorks[c].toLowerCase())==a){e=!1;break}if(e&&n.ExcludeNetworks!==null)for(l=0;l<n.ExcludeNetworks.length;l++)if(jQuery.trim(n.ExcludeNetworks[l].toLowerCase())==a){e=!1;break}e&&(k=s.CompleteSocialSettings(f,n),u=$("<div><\/div>").addClass("jquery-sharerender-box-content-item"),u.append($("<span><span>").addClass("jquery-sharerender-span-link-16").addClass(f.Class16).html(f.FriendName)),u.hover(function(){$(this).addClass("jquery-sharerender-box-content-item-hover")},function(){$(this).removeClass("jquery-sharerender-box-content-item-hover")}),u.attr("data-sharelink",k.ShareLink),u.attr("data-title",n.Title),u.attr("data-url",n.Url),u.attr("data-network",f.Name),u.click(function(){var n=$(this).attr("data-sharelink"),t=$(this).attr("data-title"),i=$(this).attr("data-url"),r=$(this).attr("data-network");return window.open(n,"_blank","width=700,height=700,resizable=yes,scrollbars=yes"),s.RaiseEvent("onshare",{sharelink:n,sharetitle:t,shareurl:i,sharenetwork:r}),!1}),p.append(u))}p.append($("<div style='clear: both;'><\/div>"));y.append(p);o.append(y);i.append(o);o.find("a.jquery-sharerender-box-close").click(function(){return $("#"+$(this).attr("jboxId")).hide().removeClass("hover").removeClass("hover2"),!1});r.attr("jboxId",v);r.click(function(){return!1});r.hover(function(){var t=$(this).offset().top+16,i=$(this).offset().left+16,n=$("#"+$(this).attr("jboxId")),r=n.attr("data-haspositionclass");r=="true"?n.show().addClass("hover"):n.show().offset({top:t,left:i}).addClass("hover")},function(){var n=$("#"+$(this).attr("jboxId"));n.removeClass("hover");n.delay(200).hasClass("hover2")||n.hide()});o.mouseenter(function(){$(this).addClass("hover2")}).mouseleave(function(){$(this).remove("hover2").delay(200);$(this).hasClass("hover")||$(this).hide()})},n.prototype.CompleteSocialSettings=function(n,t){var f="{socialSite}text".replace("{socialSite}",n.Name.replace("-","")),e="{socialSite}title".replace("{socialSite}",n.Name.replace("-","")),o="{socialSite}message".replace("{socialSite}",n.Name.replace("-","")),s="{socialSite}language".replace("{socialSite}",n.Name.replace("-","")),h="{socialSite}counturl".replace("{socialSite}",n.Name.replace("-","")),c,l,i,r,u,a;return c=t.SocialOptions[f]!==undefined?t.SocialOptions[f]:n.FriendName,l=t.SocialOptions[e]!==undefined?t.SocialOptions[e]:n.AnchorTitle,i=t.SocialOptions[o]!==undefined?t.SocialOptions[o]:"",r=t.SocialOptions[s]!==undefined?t.SocialOptions[s]:"",u=t.SocialOptions[h]!==undefined?t.SocialOptions[h]:"",a=n.UrlTemplate.replace("{url}",encodeURIComponent(t.Url)).replace("{title}",encodeURIComponent(t.Title)).replace("{message}",encodeURIComponent(i)).replace("{lang}",r).replace("{counturl}",encodeURIComponent(u)),t.Text=c,t.ShareLinkTitle=l,t.Message=i,t.Lang=r,t.CountUrl=u,t.ShareLink=a,t},n.prototype.RenderStandard=function(n){var y,i,u=n.ShareRender,h=$(this),r,o,s,f,e,t,p,c,l,a,w,v;for(r=$("<div><\/div>").addClass("jquery-sharerender-standard"),o=u.SocialSites,s=0;s<n.ShowNetWorks.length;s++){for(y=jQuery.trim(n.ShowNetWorks[s].toLowerCase()),i=null,f=0;f<o.length;f++)if(o[f].Name.toLowerCase()==y){i=o[f];break}i!=null&&(e=u.CompleteSocialSettings(i,n),n.NativeMode||e.ShareLink==""?n.LinkOnly?i.RenderNative(h):(c=$("<span><\/span>").addClass("jquery-sharerender-span-native"),i.RenderNative(c),r.append(c),r.append($("<spand>&nbsp;&nbsp;<span>"))):(t=$("<a><\/a>").attr("title",e.ShareLinkTitle).attr("href","#"),p=e.ShareLink,t.attr("data-sharelink",p),t.attr("data-title",n.Title),t.attr("data-url",n.Url),t.attr("data-network",i.Name),t.click(function(){var n=$(this).attr("data-sharelink"),t=$(this).attr("data-title"),i=$(this).attr("data-url"),r=$(this).attr("data-network");return window.open(n,"_blank","width=700,height=700,resizable=yes,scrollbars=yes"),u.RaiseEvent("onshare",{sharelink:n,sharetitle:t,shareurl:i,sharenetwork:r}),!1}),n.LinkOnly?(t.append(e.Text),h.append(t)):(t.append($("<span><\/span>").addClass("jquery-sharerender-span-link-32").addClass(i.Class32)),r.append(t))))}n.LinkOnly||(n.More&&(n.NativeMode?(w=$("<a><\/a>").attr("title","More services").attr("href","#"),v=$("<span><\/span>").html(n.MoreText).addClass("jquery-sharerender-span-native"),w.append(v),u.RenderBoxInternal(n,!1,r,v)):(l=$("<a><\/a>").attr("title","More services").attr("href","#"),a=$("<span><\/span>").html(n.MoreText).addClass("jquery-sharerender-span-link-32").addClass("jquery-sharerender-more"),l.append(a),r.append(l),u.RenderBoxInternal(n,!1,r,a))),h.append(r))},n.prototype.RenderBox=function(n){var i=$(this),r,t;i.empty();r=n.ShareRender;t=$("<a><\/a>").attr("title","Services").attr("href","#").addClass("jquery-sharerender-share");t.append($("<span><\/span>").html(n.ShareText));i.append(t);r.RenderBoxInternal(n,!0,i,t)},n.prototype.Render=function(n,t){var i=n.ShareRender;switch(n.Layout.toLowerCase()){case"box":i.RenderBox.call(t,n);break;default:i.RenderStandard.call(t,n)}},n.prototype.InitializeSocials=function(n){for(var r=n.ShowNetWorks,t=0;t<r.length;t++){var u=r[t].toLowerCase(),f=this.SocialNamesMapping[u],i=Object.create(window[f].prototype);i.constructor.apply(i,new Array(n));this.SocialSites.push(i)}},n.RenderStatic=function(){var i=$(this),t=new n,r;t.Init(i);r=t.GetSocialSettings(i);t.Render(r,i);shareRenders.push(t)},n}(),shareRender=new ShareRender;$.fn.ShareRender=ShareRender.RenderStatic;$(function(){shareRenders=[];$("#FacebookApplicationId").length>0&&(SocialSettings.FacebookId=$("#FacebookApplicationId").val());$("body").append('<div id="fb-root""><\/div>');window.fbAsyncInit=function(){SocialSettings.FacebookEventSet||(FB.init({appId:SocialSettings.FacebookId,status:!0,cookie:!0,xfbml:!0,version:"v2.3"}),FB.Event.subscribe("edge.create",function(n){shareRender.RaiseEvent("onshare",{sharelink:"",sharetitle:"",shareurl:n,sharenetwork:"facebook-like"})}),SocialSettings.FacebookEventSet=!0)};window.googleplusoneeventcall=function(n){n&&n.state=="on"&&shareRender.RaiseEvent("onshare",{sharelink:"",sharetitle:"",shareurl:n.href,sharenetwork:"google-plusone"})};$(".jquery-sharerender").each(function(){var n=$(this);n.ShareRender()})}),function(){"use strict";var t=this,n=function(){this.buttons=[];this.isIos===!0&&this.cntLdd(window,this.crBtn)};n.prototype.isIos=navigator.userAgent.match(/Android|iPhone/i)&&!navigator.userAgent.match(/iPod|iPad/i)?!0:!1;n.prototype.cntLdd=function(n,t){var e=!1,o=!0,i=n.document,s=i.documentElement,f=i.addEventListener?"addEventListener":"attachEvent",c=i.addEventListener?"removeEventListener":"detachEvent",u=i.addEventListener?"":"on",r=function(f){("readystatechange"!==f.type||"complete"===i.readyState)&&(("load"===f.type?n:i)[c](u+f.type,r,!1),!e&&(e=!0)&&t.call(n,f.type||f))},h=function(){try{s.doScroll("left")}catch(n){return void setTimeout(h,50)}r("poll")};if("complete"===i.readyState)t.call(n,"lazy");else{if(i.createEventObject&&s.doScroll){try{o=!n.frameElement}catch(l){}o&&h()}i[f](u+"DOMContentLoaded",r,!1);i[f](u+"readystatechange",r,!1);n[f](u+"load",r,!1)}};n.prototype.addStyling=function(){var n=document.createElement("style"),t="body,html{padding:0;margin:0;height:100%;width:100%}.wa_btn{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkViZW5lXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDE2IDE2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxnPg0KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0ZGRkZGRiIgZD0iTTguMTI5LDAuOTQ1Yy0zLjc5NSwwLTYuODcyLDMuMDc3LTYuODcyLDYuODczDQoJCQljMCwxLjI5OCwwLjM2LDIuNTEyLDAuOTg2LDMuNTQ5bC0xLjI0LDMuNjg4bDMuODA1LTEuMjE5YzAuOTg0LDAuNTQ0LDIuMTE2LDAuODU0LDMuMzIxLDAuODU0YzMuNzk1LDAsNi44NzEtMy4wNzUsNi44NzEtNi44NzENCgkJCVMxMS45MjQsMC45NDUsOC4xMjksMC45NDV6IE04LjEyOSwxMy41MzhjLTEuMTYyLDAtMi4yNDQtMC4zNDgtMy4xNDctMC45NDZsLTIuMTk4LDAuNzA1bDAuNzE1LTIuMTI0DQoJCQljLTAuNjg2LTAuOTQ0LTEuMDktMi4xMDMtMS4wOS0zLjM1NGMwLTMuMTU1LDIuNTY2LTUuNzIyLDUuNzIxLTUuNzIyczUuNzIxLDIuNTY2LDUuNzIxLDUuNzIyUzExLjI4MywxMy41MzgsOC4xMjksMTMuNTM4eg0KCQkJIE0xMS4zNTIsOS4zNzljLTAuMTc0LTAuMDk0LTEuMDItMC41NS0xLjE3OC0wLjYxNUMxMC4wMTQsOC43LDkuODk4LDguNjY2LDkuNzc1LDguODM3QzkuNjUyLDkuMDA3LDkuMzAxLDkuMzksOS4xOTMsOS41MDUNCgkJCUM5LjA4OCw5LjYxNyw4Ljk4NCw5LjYyOSw4LjgxMiw5LjUzM2MtMC4xNzEtMC4wOTYtMC43My0wLjMtMS4zNzgtMC45MjNjLTAuNTA0LTAuNDg0LTAuODM0LTEuMDcyLTAuOTMtMS4yNTINCgkJCWMtMC4wOTUtMC4xOCwwLTAuMjcxLDAuMDkxLTAuMzU0QzYuNjc3LDYuOTI4LDYuNzc4LDYuODA1LDYuODcsNi43MDZjMC4wOTEtMC4xLDAuMTI0LTAuMTcxLDAuMTg3LTAuMjg2DQoJCQljMC4wNjItMC4xMTUsMC4wMzgtMC4yMTgtMC4wMDMtMC4zMDhDNy4wMTIsNi4wMjMsNi42OTQsNS4xNDYsNi41NjEsNC43OUM2LjQyOCw0LjQzNCw2LjI4LDQuNDg2LDYuMTc3LDQuNDgyDQoJCQlDNi4wNzUsNC40NzksNS45NTgsNC40NTksNS44NDEsNC40NTZDNS43MjQsNC40NTEsNS41MzMsNC40ODcsNS4zNjYsNC42NTdjLTAuMTY3LDAuMTctMC42MzcsMC41NzYtMC42NjksMS40MzkNCgkJCXMwLjU2NSwxLjcyMiwwLjY0OCwxLjg0MWMwLjA4NCwwLjEyMSwxLjE0LDEuOTkxLDIuODk3LDIuNzYyYzEuNzU2LDAuNzcsMS43NjYsMC41MzQsMi4wODgsMC41MTgNCgkJCWMwLjMyMi0wLjAxOCwxLjA1NS0wLjM4NiwxLjIxNS0wLjc4OWMwLjE2Mi0wLjQwNSwwLjE3Ni0wLjc1NSwwLjEzNS0wLjgzMUMxMS42MzksOS41MjEsMTEuNTIzLDkuNDc1LDExLjM1Miw5LjM3OXoiLz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg==);border:1px solid rgba(0,0,0,.1);display:inline-block!important;position:relative;font-family:Arial,sans-serif;letter-spacing:.4px;cursor:pointer;font-weight:400;text-transform:none;color:#fff;border-radius:2px;background-color:#5cbe4a;background-repeat:no-repeat;line-height:1.2;text-decoration:none;text-align:left}.wa_btn_s{font-size:12px;background-size:16px;background-position:5px 2px;padding:3px 6px 3px 25px}.wa_btn_m{font-size:16px;background-size:20px;background-position:4px 2px;padding:4px 6px 4px 30px}.wa_btn_l{font-size:16px;background-size:20px;background-position:5px 5px;padding:8px 6px 8px 30px}";return n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),n};n.prototype.setButtonAttributes=function(n){var t=n.getAttribute("data-href"),i="?text="+encodeURIComponent(n.getAttribute("data-text"))+(n.getAttribute("data-text")?"%20":"");return i+=encodeURIComponent(t?t:document.URL),n.setAttribute("target","_top"),n.setAttribute("href",n.getAttribute("href")+i),n.setAttribute("onclick","window.parent."+n.getAttribute("onclick")),n};n.prototype.setIframeAttributes=function(n){var i=document.createElement("iframe");return i.width=1,i.height=1,i.button=n,i.style.border=0,i.style.overflow="hidden",i.border=0,i.setAttribute("scrolling","no"),i.addEventListener("load",t.WASHAREBTN.iFrameOnload()),i};n.prototype.iFrameOnload=function(){return function(){this.contentDocument.body.appendChild(this.button);this.contentDocument.getElementsByTagName("head")[0].appendChild(t.WASHAREBTN.addStyling());var n=document.createElement("meta");n.setAttribute("charset","utf-8");this.contentDocument.getElementsByTagName("head")[0].appendChild(n);this.width=Math.ceil(this.contentDocument.getElementsByTagName("a")[0].getBoundingClientRect().width);this.height=Math.ceil(this.contentDocument.getElementsByTagName("a")[0].getBoundingClientRect().height)}};n.prototype.crBtn=function(){for(var i=[].slice.call(document.querySelectorAll(".wa_btn")),r=[],n=0;n<i.length;n++)t.WASHAREBTN.buttons.push(i[n]),i[n]=t.WASHAREBTN.setButtonAttributes(i[n]),r[n]=t.WASHAREBTN.setIframeAttributes(i[n]),i[n].parentNode.insertBefore(r[n],i[n])};t.WASHAREBTN=new n}.call(this);
/**
@license Sticky-kit v1.1.3 | MIT | Leaf Corcoran 2015 | http://leafo.net
*/
(function(){var t,n;t=this.jQuery||window.jQuery;n=t(window);t.fn.stick_in_parent=function(i){var s,a,e,h,r,u,v,o,l,f,y,c,p;for(i==null&&(i={}),f=i.sticky_class,h=i.inner_scrolling,l=i.recalc_every,o=i.parent,u=i.offset_top,r=i.spacer,e=i.bottoming,u==null&&(u=0),o==null&&(o=void 0),h==null&&(h=!0),f==null&&(f="is_stuck"),s=t(document),e==null&&(e=!0),v=function(n){var t,i,r;return window.getComputedStyle?(r=n[0],t=window.getComputedStyle(n[0]),i=parseFloat(t.getPropertyValue("width"))+parseFloat(t.getPropertyValue("margin-left"))+parseFloat(t.getPropertyValue("margin-right")),t.getPropertyValue("box-sizing")!=="border-box"&&(i+=parseFloat(t.getPropertyValue("border-left-width"))+parseFloat(t.getPropertyValue("border-right-width"))+parseFloat(t.getPropertyValue("padding-left"))+parseFloat(t.getPropertyValue("padding-right"))),i):n.outerWidth(!0)},y=function(i,c,a,y,p,w,b,k){var rt,st,tt,ot,ht,g,nt,ut,ft,et,d,it;if(!i.data("sticky_kit")){if(i.data("sticky_kit",!0),ht=s.height(),nt=i.parent(),o!=null&&(nt=nt.closest(o)),!nt.length)throw"failed to find stick parent";if(tt=!1,rt=!1,d=r!=null?r&&i.closest(r):t("<div />"),d&&d.css("position",i.css("position")),ut=function(){var n,t,e;if(!k)return ht=s.height(),n=parseInt(nt.css("border-top-width"),10),t=parseInt(nt.css("padding-top"),10),c=parseInt(nt.css("padding-bottom"),10),a=nt.offset().top+n+t,y=nt.height(),tt&&(tt=!1,rt=!1,r==null&&(i.insertAfter(d),d.detach()),i.css({position:"",top:"",width:"",bottom:""}).removeClass(f),e=!0),p=i.offset().top-(parseInt(i.css("margin-top"),10)||0)-u,w=i.outerHeight(!0),b=i.css("float"),d&&d.css({width:v(i),height:w,display:i.css("display"),"vertical-align":i.css("vertical-align"),float:b}),e?it():void 0},ut(),w!==y){ot=void 0;g=u;et=l;it=function(){var o,st,it,t,v,ft;if(!k)return it=!1,et!=null&&(et-=1,et<=0&&(et=l,ut(),it=!0)),it||s.height()===ht||(ut(),it=!0),t=n.scrollTop(),ot!=null&&(st=t-ot),ot=t,tt?(e&&(v=t+w+g>y+a,rt&&!v&&(rt=!1,i.css({position:"fixed",bottom:"",top:g}).trigger("sticky_kit:unbottom"))),t<p&&(tt=!1,g=u,r==null&&((b==="left"||b==="right")&&i.insertAfter(d),d.detach()),o={position:"",width:"",top:""},i.css(o).removeClass(f).trigger("sticky_kit:unstick")),h&&(ft=n.height(),w+u>ft&&(rt||(g-=st,g=Math.max(ft-w,g),g=Math.min(u,g),tt&&i.css({top:g+"px"}))))):t>p&&(tt=!0,o={position:"fixed",top:g},o.width=i.css("box-sizing")==="border-box"?i.outerWidth()+"px":i.width()+"px",i.css(o).addClass(f),r==null&&(i.after(d),(b==="left"||b==="right")&&d.append(i)),i.trigger("sticky_kit:stick")),tt&&e&&(v==null&&(v=t+w+g>y+a),!rt&&v)?(rt=!0,nt.css("position")==="static"&&nt.css({position:"relative"}),i.css({position:"absolute",bottom:c,top:"auto"}).trigger("sticky_kit:bottom")):void 0};ft=function(){return ut(),it()};st=function(){return k=!0,n.off("touchmove",it),n.off("scroll",it),n.off("resize",ft),t(document.body).off("sticky_kit:recalc",ft),i.off("sticky_kit:detach",st),i.removeData("sticky_kit"),i.css({position:"",bottom:"",top:"",width:""}),nt.position("position",""),tt?(r==null&&((b==="left"||b==="right")&&i.insertAfter(d),d.remove()),i.removeClass(f)):void 0};n.on("touchmove",it);n.on("scroll",it);n.on("resize",ft);t(document.body).on("sticky_kit:recalc",ft);i.on("sticky_kit:detach",st);return setTimeout(it,0)}}},c=0,p=this.length;c<p;c++)a=this[c],y(t(a));return this}}).call(this);
/*!
 *
 * MediaElement.js
 * HTML5 <video> and <audio> shim and player
 * http://mediaelementjs.com/
 *
 * Creates a JavaScript object that mimics HTML5 MediaElement API
 * for browsers that don't understand HTML5 or can't play the provided codec
 * Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
 *
 * Copyright 2010-2014, John Dyer (http://j.hn)
 * License: MIT
 *
 */
mejs=mejs||{};mejs.version="2.23.3";mejs.meIndex=0;mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mp4","audio/mpeg","video/dailymotion","video/x-dailymotion","application/x-mpegURL","audio/ogg"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]};mejs.Utility={encodeUrl:function(n){return encodeURIComponent(n)},escapeHTML:function(n){return n.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(n){var t=document.createElement("div");return t.innerHTML='<a href="'+this.escapeHTML(n)+'">x<\/a>',t.firstChild.href},getScriptPath:function(n){for(var u=0,i,f="",s="",r,h,t,e,o,c=document.getElementsByTagName("script"),l=c.length,a=n.length;u<l;u++){for(t=c[u].src,r=t.lastIndexOf("/"),r>-1?(o=t.substring(r+1),e=t.substring(0,r+1)):(o=t,e=""),i=0;i<a;i++)if(s=n[i],h=o.indexOf(s),h>-1){f=e;break}if(f!=="")break}return f},calculateTimeFormat:function(n,t,i){var s,u,h,c,e;n<0&&(n=0);typeof i=="undefined"&&(i=25);var r=t.timeFormat,l=r[0],o=r[1]==r[0],a=o?2:1,v=":",y=Math.floor(n/3600)%24,p=Math.floor(n/60)%60,w=Math.floor(n%60),b=Math.floor((n%1*i).toFixed(3)),f=[[b,"f"],[w,"s"],[p,"m"],[y,"h"]];for(r.length<a&&(v=r[a]),s=!1,u=0,h=f.length;u<h;u++)if(r.indexOf(f[u][1])!==-1)s=!0;else if(s){for(c=!1,e=u;e<h;e++)if(f[e][0]>0){c=!0;break}if(!c)break;o||(r=l+r);r=f[u][1]+v+r;o&&(r=f[u][1]+r);l=f[u][1]}t.currentTimeFormat=r},twoDigitsString:function(n){return n<10?"0"+n:String(n)},secondsToTimeCode:function(n,t){var r,f,u;n<0&&(n=0);typeof t!="object"&&(r="m:ss",r=arguments[1]?"hh:mm:ss":r,r=arguments[2]?r+":ff":r,t={currentTimeFormat:r,framesPerSecond:arguments[3]||25});f=t.framesPerSecond;typeof f=="undefined"&&(f=25);var r=t.currentTimeFormat,e=Math.floor(n/3600)%24,o=Math.floor(n/60)%60,s=Math.floor(n%60),h=Math.floor((n%1*f).toFixed(3));for(lis=[[h,"f"],[s,"s"],[o,"m"],[e,"h"]],u=r,i=0,len=lis.length;i<len;i++)u=u.replace(lis[i][1]+lis[i][1],this.twoDigitsString(lis[i][0])),u=u.replace(lis[i][1],lis[i][0]);return u},timeCodeToSeconds:function(n,t,i,r){typeof i=="undefined"?i=!1:typeof r=="undefined"&&(r=25);var u=n.split(":"),e=parseInt(u[0],10),o=parseInt(u[1],10),s=parseInt(u[2],10),f=0;return i&&(f=parseInt(u[3])/r),e*3600+o*60+s+f},convertSMPTEtoSeconds:function(n){var t;if(typeof n!="string")return!1;n=n.replace(",",".");var r=0,u=n.indexOf(".")!=-1?n.split(".")[1].length:0,i=1;for(n=n.split(":").reverse(),t=0;t<n.length;t++)i=1,t>0&&(i=Math.pow(60,t)),r+=Number(n[t])*i;return Number(r.toFixed(u))},removeSwf:function(n){var t=document.getElementById(n);t&&/object|embed/i.test(t.nodeName)&&(mejs.MediaFeatures.isIE?(t.style.display="none",function(){t.readyState==4?mejs.Utility.removeObjectInIE(n):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))},removeObjectInIE:function(n){var t=document.getElementById(n),i;if(t){for(i in t)typeof t[i]=="function"&&(t[i]=null);t.parentNode.removeChild(t)}},determineScheme:function(n){return n&&n.indexOf("://")!=-1?n.substr(0,n.indexOf("://")+3):"//"},debounce:function(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null;i||n.apply(u,f)},o=i&&!r;clearTimeout(r);r=setTimeout(e,t);o&&n.apply(u,f)}},isNodeAfter:function(n,t){return!!(n&&t&&typeof n.compareDocumentPosition=="function"&&n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING)}};mejs.PluginDetector={hasPluginVersion:function(n,t){var i=this.plugins[n];return t[1]=t[1]||0,t[2]=t[2]||0,i[0]>t[0]||i[0]==t[0]&&i[1]>t[1]||i[0]==t[0]&&i[1]==t[1]&&i[2]>=t[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(n,t,i,r,u){this.plugins[n]=this.detectPlugin(t,i,r,u)},detectPlugin:function(n,t,i,r){var u=[0,0,0],e,f,o;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[n]=="object"){if(e=this.nav.plugins[n].description,e&&!(typeof this.nav.mimeTypes!="undefined"&&this.nav.mimeTypes[t]&&!this.nav.mimeTypes[t].enabledPlugin))for(u=e.replace(n,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),f=0;f<u.length;f++)u[f]=parseInt(u[f].match(/\d+/),10)}else if(typeof ActiveXObject!="undefined")try{o=new ActiveXObject(i);o&&(u=r(o))}catch(s){}return u}};mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(n){var i=[],t=n.GetVariable("$version");return t&&(t=t.split(" ")[1].split(","),i=[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)]),i});mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(n){var t=[0,0,0,0],i=function(n,t,i,r){while(n.isVersionSupported(t[0]+"."+t[1]+"."+t[2]+"."+t[3]))t[i]+=r;t[i]-=r};return i(n,t,0,1),i(n,t,1,1),i(n,t,2,1e4),i(n,t,2,1e3),i(n,t,2,100),i(n,t,2,10),i(n,t,2,1),i(n,t,3,1),t});mejs.MediaFeatures={init:function(){var n=this,u=document,f=mejs.PluginDetector.nav,t=mejs.PluginDetector.ua.toLowerCase(),r,i,e=["source","track","audio","video"];for(n.isiPad=t.match(/ipad/i)!==null,n.isiPhone=t.match(/iphone/i)!==null,n.isiOS=n.isiPhone||n.isiPad,n.isAndroid=t.match(/android/i)!==null,n.isBustedAndroid=t.match(/android 2\.[12]/)!==null,n.isBustedNativeHTTPS=location.protocol==="https:"&&(t.match(/android [12]\./)!==null||t.match(/macintosh.* version.* safari/)!==null),n.isIE=f.appName.toLowerCase().indexOf("microsoft")!=-1||f.appName.toLowerCase().match(/trident/gi)!==null,n.isChrome=t.match(/chrome/gi)!==null,n.isChromium=t.match(/chromium/gi)!==null,n.isFirefox=t.match(/firefox/gi)!==null,n.isWebkit=t.match(/webkit/gi)!==null,n.isGecko=t.match(/gecko/gi)!==null&&!n.isWebkit&&!n.isIE,n.isOpera=t.match(/opera/gi)!==null,n.hasTouch=("ontouchstart"in window),n.svgAsImg=!!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),r=0;r<e.length;r++)i=document.createElement(e[r]);n.supportsMediaTag=typeof i.canPlayType!="undefined"||n.isBustedAndroid;try{i.canPlayType("video/mp4")}catch(o){n.supportsMediaTag=!1}n.supportsPointerEvents=function(){var n=document.createElement("x"),t=document.documentElement,i=window.getComputedStyle,r;return("pointerEvents"in n.style)?(n.style.pointerEvents="auto",n.style.pointerEvents="x",t.appendChild(n),r=i&&i(n,"").pointerEvents==="auto",t.removeChild(n),!!r):!1}();n.hasFirefoxPluginMovingProblem=!1;n.hasiOSFullScreen=typeof i.webkitEnterFullscreen!="undefined";n.hasNativeFullscreen=typeof i.requestFullscreen!="undefined";n.hasWebkitNativeFullScreen=typeof i.webkitRequestFullScreen!="undefined";n.hasMozNativeFullScreen=typeof i.mozRequestFullScreen!="undefined";n.hasMsNativeFullScreen=typeof i.msRequestFullscreen!="undefined";n.hasTrueNativeFullScreen=n.hasWebkitNativeFullScreen||n.hasMozNativeFullScreen||n.hasMsNativeFullScreen;n.nativeFullScreenEnabled=n.hasTrueNativeFullScreen;n.hasMozNativeFullScreen?n.nativeFullScreenEnabled=document.mozFullScreenEnabled:n.hasMsNativeFullScreen&&(n.nativeFullScreenEnabled=document.msFullscreenEnabled);n.isChrome&&(n.hasiOSFullScreen=!1);n.hasTrueNativeFullScreen&&(n.fullScreenEventName="",n.hasWebkitNativeFullScreen?n.fullScreenEventName="webkitfullscreenchange":n.hasMozNativeFullScreen?n.fullScreenEventName="mozfullscreenchange":n.hasMsNativeFullScreen&&(n.fullScreenEventName="MSFullscreenChange"),n.isFullScreen=function(){return n.hasMozNativeFullScreen?u.mozFullScreen:n.hasWebkitNativeFullScreen?u.webkitIsFullScreen:n.hasMsNativeFullScreen?u.msFullscreenElement!==null:void 0},n.requestFullScreen=function(t){n.hasWebkitNativeFullScreen?t.webkitRequestFullScreen():n.hasMozNativeFullScreen?t.mozRequestFullScreen():n.hasMsNativeFullScreen&&t.msRequestFullscreen()},n.cancelFullScreen=function(){n.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():n.hasMozNativeFullScreen?document.mozCancelFullScreen():n.hasMsNativeFullScreen&&document.msExitFullscreen()});n.hasiOSFullScreen&&t.match(/mac os x 10_5/i)&&(n.hasNativeFullScreen=!1,n.hasiOSFullScreen=!1)}};mejs.MediaFeatures.init();mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(n){this.currentTime=n},setMuted:function(n){this.muted=n},setVolume:function(n){this.volume=n},stop:function(){this.pause()},setSrc:function(n){for(var r=this.getElementsByTagName("source"),t,i;r.length>0;)this.removeChild(r[0]);if(typeof n=="string")this.src=n;else for(t=0;t<n.length;t++)if(i=n[t],this.canPlayType(i.type)){this.src=i.src;break}},setVideoSize:function(n,t){this.width=n;this.height=t}};mejs.PluginMediaElement=function(n,t,i){this.id=n;this.pluginType=t;this.src=i;this.events={};this.attributes={}};mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){this.pluginApi!=null&&(this.pluginType=="youtube"||this.pluginType=="vimeo"?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){this.pluginApi!=null&&(this.pluginType=="youtube"||this.pluginType=="vimeo"||this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){this.pluginApi!=null&&(this.pluginType=="youtube"||this.pluginType=="vimeo"?this.pluginApi.getPlayerState()==1&&this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){this.pluginApi!=null&&(this.pluginType=="youtube"||this.pluginType=="vimeo"?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(n){for(var i,r,u=mejs.plugins[this.pluginType],t=0;t<u.length;t++)if(r=u[t],mejs.PluginDetector.hasPluginVersion(this.pluginType,r.version))for(i=0;i<r.types.length;i++)if(n==r.types[i])return"probably";return""},positionFullscreenButton:function(n,t,i){this.pluginApi!=null&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(n),Math.floor(t),i)},hideFullscreenButton:function(){this.pluginApi!=null&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(n){if(typeof n=="string")this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(n)),this.src=mejs.Utility.absolutizeUrl(n);else for(var i,t=0;t<n.length;t++)if(i=n[t],this.canPlayType(i.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(i.src));this.src=mejs.Utility.absolutizeUrl(i.src);break}},setCurrentTime:function(n){this.pluginApi!=null&&(this.pluginType=="youtube"||this.pluginType=="vimeo"?this.pluginApi.seekTo(n):this.pluginApi.setCurrentTime(n),this.currentTime=n)},setVolume:function(n){this.pluginApi!=null&&(this.pluginType=="youtube"?this.pluginApi.setVolume(n*100):this.pluginApi.setVolume(n),this.volume=n)},setMuted:function(n){this.pluginApi!=null&&(this.pluginType=="youtube"?(n?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=n,this.dispatchEvent({type:"volumechange"})):this.pluginApi.setMuted(n),this.muted=n)},setVideoSize:function(n,t){this.pluginElement&&this.pluginElement.style&&(this.pluginElement.style.width=n+"px",this.pluginElement.style.height=t+"px");this.pluginApi!=null&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(n,t)},setFullscreen:function(n){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(n)},enterFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(n,t){this.events[n]=this.events[n]||[];this.events[n].push(t)},removeEventListener:function(n,t){var r,i;if(!n)return this.events={},!0;if(r=this.events[n],!r)return!0;if(!t)return this.events[n]=[],!0;for(i=0;i<r.length;i++)if(r[i]===t)return this.events[n].splice(i,1),!0;return!1},dispatchEvent:function(n){var t,i=this.events[n.type];if(i)for(t=0;t<i.length;t++)i[t].apply(this,[n])},hasAttribute:function(n){return n in this.attributes},removeAttribute:function(n){delete this.attributes[n]},getAttribute:function(n){return this.hasAttribute(n)?this.attributes[n]:null},setAttribute:function(n,t){this.attributes[n]=t},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id)}};mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,httpsBasicAuthSite:!1,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",flashScriptAccess:"sameDomain",enablePluginSmoothing:!1,enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,customError:"",success:function(){},error:function(){}};mejs.MediaElement=function(n,t){return mejs.HtmlMediaElementShim.create(n,t)};mejs.HtmlMediaElementShim={create:function(n,t){var f={},r=typeof n=="string"?document.getElementById(n):n,l=r.tagName.toLowerCase(),a=l==="audio"||l==="video",e=a?r.getAttribute("src"):r.getAttribute("href"),o=r.getAttribute("poster"),s=r.getAttribute("autoplay"),u=r.getAttribute("preload"),h=r.getAttribute("controls"),i;for(var c in mejs.MediaElementDefaults)f[c]=mejs.MediaElementDefaults[c];for(c in t)f[c]=t[c];return e=typeof e=="undefined"||e===null||e==""?null:e,o=typeof o=="undefined"||o===null?"":o,u=typeof u=="undefined"||u===null||u==="false"?"none":u,s=!(typeof s=="undefined"||s===null||s==="false"),h=!(typeof h=="undefined"||h===null||h==="false"),i=this.determinePlayback(r,f,mejs.MediaFeatures.supportsMediaTag,a,e),i.url=i.url!==null?mejs.Utility.absolutizeUrl(i.url):"",i.scheme=mejs.Utility.determineScheme(i.url),i.method=="native"?(mejs.MediaFeatures.isBustedAndroid&&(r.src=i.url,r.addEventListener("click",function(){r.play()},!1)),this.updateNative(i,f,s,u)):i.method!==""?this.createPlugin(i,f,o,s,u,h):(this.createErrorMessage(i,f,o),this)},determinePlayback:function(n,t,i,r,u){var o=[],f,l,a,v,s,h,e={method:"",url:"",htmlMediaElement:n,isVideo:n.tagName.toLowerCase()!=="audio",scheme:""},y,p,c,w,b;if(typeof t.type!="undefined"&&t.type!=="")if(typeof t.type=="string")o.push({type:t.type,url:u});else for(f=0;f<t.type.length;f++)o.push({type:t.type[f],url:u});else if(u!==null)h=this.formatType(u,n.getAttribute("type")),o.push({type:h,url:u});else for(f=0;f<n.childNodes.length;f++)s=n.childNodes[f],s.nodeType==1&&s.tagName.toLowerCase()=="source"&&(u=s.getAttribute("src"),h=this.formatType(u,s.getAttribute("type")),b=s.getAttribute("media"),(!b||!window.matchMedia||window.matchMedia&&window.matchMedia(b).matches)&&o.push({type:h,url:u}));if(!r&&o.length>0&&o[0].url!==null&&this.getTypeFromFile(o[0].url).indexOf("audio")>-1&&(e.isVideo=!1),e.isVideo&&mejs.MediaFeatures.isBustedAndroid&&(n.canPlayType=function(n){return n.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""}),e.isVideo&&mejs.MediaFeatures.isChromium&&(n.canPlayType=function(n){return n.match(/video\/(webm|ogv|ogg)/gi)!==null?"maybe":""}),i&&(t.mode==="auto"||t.mode==="auto_plugin"||t.mode==="native")&&!(mejs.MediaFeatures.isBustedNativeHTTPS&&t.httpsBasicAuthSite===!0)){for(r||(w=document.createElement(e.isVideo?"video":"audio"),n.parentNode.insertBefore(w,n),n.style.display="none",e.htmlMediaElement=n=w),f=0;f<o.length;f++)if(o[f].type=="video/m3u8"||n.canPlayType(o[f].type).replace(/no/,"")!==""||n.canPlayType(o[f].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""||n.canPlayType(o[f].type.replace(/m4a/,"mp4")).replace(/no/,"")!==""){e.method="native";e.url=o[f].url;break}if(e.method==="native"&&(e.url!==null&&(n.src=e.url),t.mode!=="auto_plugin"))return e}if(t.mode==="auto"||t.mode==="auto_plugin"||t.mode==="shim")for(f=0;f<o.length;f++)for(h=o[f].type,l=0;l<t.plugins.length;l++)for(y=t.plugins[l],p=mejs.plugins[y],a=0;a<p.length;a++)if(c=p[a],c.version==null||mejs.PluginDetector.hasPluginVersion(y,c.version))for(v=0;v<c.types.length;v++)if(h.toLowerCase()==c.types[v].toLowerCase())return e.method=y,e.url=o[f].url,e;return t.mode==="auto_plugin"&&e.method==="native"?e:(e.method===""&&o.length>0&&(e.url=o[0].url),e)},formatType:function(n,t){return n&&!t?this.getTypeFromFile(n):t&&~t.indexOf(";")?t.substr(0,t.indexOf(";")):t},getTypeFromFile:function(n){n=n.split("?")[0];var t=n.substring(n.lastIndexOf(".")+1).toLowerCase(),i=/(mp4|m4v|ogg|ogv|m3u8|webm|webmv|flv|wmv|mpeg|mov)/gi.test(t)?"video/":"audio/";return this.getTypeFromExtension(t,i)},getTypeFromExtension:function(n,t){t=t||"";switch(n){case"mp4":case"m4v":case"m4a":case"f4v":case"f4a":return t+"mp4";case"flv":return t+"x-flv";case"webm":case"webma":case"webmv":return t+"webm";case"ogg":case"oga":case"ogv":return t+"ogg";case"m3u8":return"application/x-mpegurl";case"ts":return t+"mp2t";default:return t+n}},createErrorMessage:function(n,t,i){var r=n.htmlMediaElement,u=document.createElement("div"),f=t.customError;u.className="me-cannotplay";try{u.style.width=r.width+"px";u.style.height=r.height+"px"}catch(e){}f||(f='<a href="'+n.url+'">',i!==""&&(f+='<img src="'+i+'" width="100%" height="100%" alt="" />'),f+="<span>"+mejs.i18n.t("mejs.download-file")+"<\/span><\/a>");u.innerHTML=f;r.parentNode.insertBefore(u,r);r.style.display="none";t.error(r)},createPlugin:function(n,t,i,r,u,f){var s=n.htmlMediaElement,v=1,y=1,c="me_"+n.method+"_"+mejs.meIndex++,o=new mejs.PluginMediaElement(c,n.method,n.url),l=document.createElement("div"),nt,h,a,k,d,g,p,rt,w,tt,it,e,b;for(o.tagName=s.tagName,p=0;p<s.attributes.length;p++)k=s.attributes[p],k.specified&&o.setAttribute(k.name,k.value);for(h=s.parentNode;h!==null&&h.tagName!=null&&h.tagName.toLowerCase()!=="body"&&h.parentNode!=null&&h.parentNode.tagName!=null&&h.parentNode.constructor!=null&&h.parentNode.constructor.name==="ShadowRoot";){if(h.parentNode.tagName.toLowerCase()==="p"){h.parentNode.parentNode.insertBefore(h,h.parentNode);break}h=h.parentNode}if(n.isVideo?(v=t.pluginWidth>0?t.pluginWidth:t.videoWidth>0?t.videoWidth:s.getAttribute("width")!==null?s.getAttribute("width"):t.defaultVideoWidth,y=t.pluginHeight>0?t.pluginHeight:t.videoHeight>0?t.videoHeight:s.getAttribute("height")!==null?s.getAttribute("height"):t.defaultVideoHeight,v=mejs.Utility.encodeUrl(v),y=mejs.Utility.encodeUrl(y)):t.enablePluginDebug&&(v=320,y=240),o.success=t.success,l.className="me-plugin",l.id=c+"_container",n.isVideo?s.parentNode.insertBefore(l,s):document.body.insertBefore(l,document.body.childNodes[0]),n.method==="flash"||n.method==="silverlight"){if(d=s.getAttribute("type")==="audio/mp4",g=s.getElementsByTagName("source"),g&&!d)for(p=0,rt=g.length;p<rt;p++)g[p].getAttribute("type")==="audio/mp4"&&(d=!0);a=["id="+c,"isvideo="+(n.isVideo||d?"true":"false"),"autoplay="+(r?"true":"false"),"preload="+u,"width="+v,"startvolume="+t.startVolume,"timerrate="+t.timerRate,"flashstreamer="+t.flashStreamer,"height="+y,"pseudostreamstart="+t.pseudoStreamingStartQueryParam];n.url!==null&&(n.method=="flash"?a.push("file="+mejs.Utility.encodeUrl(n.url)):a.push("file="+n.url));t.enablePluginDebug&&a.push("debug=true");t.enablePluginSmoothing&&a.push("smoothing=true");t.enablePseudoStreaming&&a.push("pseudostreaming=true");f&&a.push("controls=true");t.pluginVars&&(a=a.concat(t.pluginVars));window[c+"_init"]=function(){switch(o.pluginType){case"flash":o.pluginElement=o.pluginApi=document.getElementById(c);break;case"silverlight":o.pluginElement=document.getElementById(o.id);o.pluginApi=o.pluginElement.Content.MediaElementJS}o.pluginApi!=null&&o.success&&o.success(o,s)};window[c+"_event"]=function(n,t){var i,r,u;i={type:n,target:o};for(r in t)o[r]=t[r],i[r]=t[r];u=t.bufferedTime||0;i.target.buffered=i.buffered={start:function(){return 0},end:function(){return u},length:1};o.dispatchEvent(i)}}switch(n.method){case"silverlight":l.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+c+'" name="'+c+'" width="'+v+'" height="'+y+'" class="mejs-shim"><param name="initParams" value="'+a.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+t.pluginPath+t.silverlightName+'" /><\/object>';break;case"flash":mejs.MediaFeatures.isIE?(nt=document.createElement("div"),l.appendChild(nt),nt.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+c+'" width="'+v+'" height="'+y+'" class="mejs-shim"><param name="movie" value="'+t.pluginPath+t.flashName+"?"+(new Date).getTime()+'" /><param name="flashvars" value="'+a.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="'+t.flashScriptAccess+'" /><param name="allowFullScreen" value="true" /><param name="scale" value="default" /><\/object>'):l.innerHTML='<embed id="'+c+'" name="'+c+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="'+t.flashScriptAccess+'" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+t.pluginPath+t.flashName+'" flashvars="'+a.join("&")+'" width="'+v+'" height="'+y+'" scale="default"class="mejs-shim"><\/embed>';break;case"youtube":n.url.lastIndexOf("youtu.be")!=-1?(w=n.url.substr(n.url.lastIndexOf("/")+1),w.indexOf("?")!=-1&&(w=w.substr(0,w.indexOf("?")))):(tt=n.url.match(/[?&]v=([^&#]+)|&|#|$/),tt&&(w=tt[1]));youtubeSettings={container:l,containerId:l.id,pluginMediaElement:o,pluginId:c,videoId:w,height:y,width:v,scheme:n.scheme,variables:t.youtubeIframeVars};window.postMessage?mejs.YouTubeApi.enqueueIframe(youtubeSettings):mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])&&mejs.YouTubeApi.createFlash(youtubeSettings,t);break;case"vimeo":it=c+"_player";o.vimeoid=n.url.substr(n.url.lastIndexOf("/")+1);l.innerHTML='<iframe src="'+n.scheme+"player.vimeo.com/video/"+o.vimeoid+"?api=1&portrait=0&byline=0&title=0&player_id="+it+'" width="'+v+'" height="'+y+'" frameborder="0" class="mejs-shim" id="'+it+'" webkitallowfullscreen mozallowfullscreen allowfullscreen><\/iframe>';typeof $f=="function"?(e=$f(l.childNodes[0]),b=-1,e.addEvent("ready",function(){function n(n,t,i,r){var u={type:i,target:t};i=="timeupdate"&&(t.currentTime=u.currentTime=r.seconds,t.duration=u.duration=r.duration);t.dispatchEvent(u)}e.playVideo=function(){e.api("play")};e.stopVideo=function(){e.api("unload")};e.pauseVideo=function(){e.api("pause")};e.seekTo=function(n){e.api("seekTo",n)};e.setVolume=function(n){e.api("setVolume",n)};e.setMuted=function(n){n?(e.lastVolume=e.api("getVolume"),e.api("setVolume",0)):(e.api("setVolume",e.lastVolume),delete e.lastVolume)};e.getPlayerState=function(){return b};e.addEvent("play",function(){b=1;n(e,o,"play");n(e,o,"playing")});e.addEvent("pause",function(){b=2;n(e,o,"pause")});e.addEvent("finish",function(){b=0;n(e,o,"ended")});e.addEvent("playProgress",function(t){n(e,o,"timeupdate",t)});e.addEvent("seek",function(t){b=3;n(e,o,"seeked",t)});e.addEvent("loadProgress",function(t){b=3;n(e,o,"progress",t)});o.pluginElement=l;o.pluginApi=e;o.success(o,o.pluginElement)})):console.warn("You need to include froogaloop for vimeo to work")}return s.style.display="none",s.removeAttribute("autoplay"),o},updateNative:function(n,t){var i=n.htmlMediaElement;for(var r in mejs.HtmlMediaElement)i[r]=mejs.HtmlMediaElement[r];return t.success(i,i),i}};mejs.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(n){var t,i;this.isIframeStarted||(t=document.createElement("script"),t.src=n.scheme+"www.youtube.com/player_api",i=document.getElementsByTagName("script")[0],i.parentNode.insertBefore(t,i),this.isIframeStarted=!0)},iframeQueue:[],enqueueIframe:function(n){this.isLoaded?this.createIframe(n):(this.loadIframeApi(n),this.iframeQueue.push(n))},createIframe:function(n){var t=n.pluginMediaElement,i=new YT.Player(n.containerId,{height:n.height,width:n.width,videoId:n.videoId,playerVars:mejs.$.extend({},{controls:0,wmode:"transparent"},n.variables),events:{onReady:function(){i.setVideoSize=function(n,t){i.setSize(n,t)};n.pluginMediaElement.pluginApi=i;n.pluginMediaElement.pluginElement=document.getElementById(n.containerId);t.success(t,t.pluginElement);mejs.YouTubeApi.createEvent(i,t,"canplay");setInterval(function(){mejs.YouTubeApi.createEvent(i,t,"timeupdate")},250);typeof t.attributes.autoplay!="undefined"&&i.playVideo()},onStateChange:function(n){mejs.YouTubeApi.handleStateChange(n.data,i,t)}}})},createEvent:function(n,t,i){var r={type:i,target:t},u;n&&n.getDuration&&(t.currentTime=r.currentTime=n.getCurrentTime(),t.duration=r.duration=n.getDuration(),r.paused=t.paused,r.ended=t.ended,r.muted=n.isMuted(),r.volume=n.getVolume()/100,r.bytesTotal=n.getVideoBytesTotal(),r.bufferedBytes=n.getVideoBytesLoaded(),u=r.bufferedBytes/r.bytesTotal*r.duration,r.target.buffered=r.buffered={start:function(){return 0},end:function(){return u},length:1});t.dispatchEvent(r)},iFrameReady:function(){for(this.isLoaded=!0,this.isIframeLoaded=!0;this.iframeQueue.length>0;){var n=this.iframeQueue.pop();this.createIframe(n)}},flashPlayers:{},createFlash:function(n){this.flashPlayers[n.pluginId]=n;var t,i=n.scheme+"www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+n.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";mejs.MediaFeatures.isIE?(t=document.createElement("div"),n.container.appendChild(t),t.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+n.scheme+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+n.pluginId+'" width="'+n.width+'" height="'+n.height+'" class="mejs-shim"><param name="movie" value="'+i+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="'+options.flashScriptAccess+'" /><param name="allowFullScreen" value="true" /><\/object>'):n.container.innerHTML='<object type="application/x-shockwave-flash" id="'+n.pluginId+'" data="'+i+'" width="'+n.width+'" height="'+n.height+'" style="visibility: visible; " class="mejs-shim"><param name="allowScriptAccess" value="'+options.flashScriptAccess+'"><param name="wmode" value="transparent"><\/object>'},flashReady:function(n){var r=this.flashPlayers[n],i=document.getElementById(n),t=r.pluginMediaElement,u;t.pluginApi=t.pluginElement=i;r.success(t,t.pluginElement);i.cueVideoById(r.videoId);u=r.containerId+"_callback";window[u]=function(n){mejs.YouTubeApi.handleStateChange(n,i,t)};i.addEventListener("onStateChange",u);setInterval(function(){mejs.YouTubeApi.createEvent(i,t,"timeupdate")},250);mejs.YouTubeApi.createEvent(i,t,"canplay")},handleStateChange:function(n,t,i){switch(n){case-1:i.paused=!0;i.ended=!0;mejs.YouTubeApi.createEvent(t,i,"loadedmetadata");break;case 0:i.paused=!1;i.ended=!0;mejs.YouTubeApi.createEvent(t,i,"ended");break;case 1:i.paused=!1;i.ended=!1;mejs.YouTubeApi.createEvent(t,i,"play");mejs.YouTubeApi.createEvent(t,i,"playing");break;case 2:i.paused=!0;i.ended=!1;mejs.YouTubeApi.createEvent(t,i,"pause");break;case 3:mejs.YouTubeApi.createEvent(t,i,"progress")}}};window.onYouTubePlayerAPIReady=function(){mejs.YouTubeApi.iFrameReady()};window.onYouTubePlayerReady=function(n){mejs.YouTubeApi.flashReady(n)};window.mejs=mejs;window.MediaElement=mejs.MediaElement,function(n,t,i){var r={"default":"en",locale:{language:i.i18n&&i.i18n.locale.language||"",strings:i.i18n&&i.i18n.locale.strings||{}},pluralForms:[function(){return arguments[1]},function(){var n=arguments;return n[0]===1?n[1]:n[2]},function(){var n=arguments;return[0,1].indexOf(n[0])>-1?n[1]:n[2]},function(){var n=arguments;return n[0]%10==1&&n[0]%100!=11?n[1]:n[0]!==0?n[2]:n[3]},function(){var n=arguments;return n[0]===1||n[0]===11?n[1]:n[0]===2||n[0]===12?n[2]:n[0]>2&&n[0]<20?n[3]:n[4]},function(){return args[0]===1?args[1]:args[0]===0||args[0]%100>0&&args[0]%100<20?args[2]:args[3]},function(){var n=arguments;return n[0]%10==1&&n[0]%100!=11?n[1]:n[0]%10>=2&&(n[0]%100<10||n[0]%100>=20)?n[2]:[3]},function(){var n=arguments;return n[0]%10==1&&n[0]%100!=11?n[1]:n[0]%10>=2&&n[0]%10<=4&&(n[0]%100<10||n[0]%100>=20)?n[2]:n[3]},function(){var n=arguments;return n[0]===1?n[1]:n[0]>=2&&n[0]<=4?n[2]:n[3]},function(){var n=arguments;return n[0]===1?n[1]:n[0]%10>=2&&n[0]%10<=4&&(n[0]%100<10||n[0]%100>=20)?n[2]:n[3]},function(){var n=arguments;return n[0]%100==1?n[2]:n[0]%100==2?n[3]:n[0]%100==3||n[0]%100==4?n[4]:n[1]},function(){var n=arguments;return n[0]===1?n[1]:n[0]===2?n[2]:n[0]>2&&n[0]<7?n[3]:n[0]>6&&n[0]<11?n[4]:n[5]},function(){var n=arguments;return n[0]===0?n[1]:n[0]===1?n[2]:n[0]===2?n[3]:n[0]%100>=3&&n[0]%100<=10?n[4]:n[0]%100>=11?n[5]:n[6]},function(){var n=arguments;return n[0]===1?n[1]:n[0]===0||n[0]%100>1&&n[0]%100<11?n[2]:n[0]%100>10&&n[0]%100<20?n[3]:n[4]},function(){var n=arguments;return n[0]%10==1?n[1]:n[0]%10==2?n[2]:n[3]},function(){var n=arguments;return n[0]!==11&&n[0]%10==1?n[1]:n[2]},function(){var n=arguments;return n[0]===1?n[1]:n[0]%10>=2&&n[0]%10<=4&&(n[0]%100<10||n[0]%100>=20)?n[2]:n[3]},function(){var n=arguments;return n[0]===1?n[1]:n[0]===2?n[2]:n[0]!==8&&n[0]!==11?n[3]:n[4]},function(){var n=arguments;return n[0]===0?n[1]:n[2]},function(){var n=arguments;return n[0]===1?n[1]:n[0]===2?n[2]:n[0]===3?n[3]:n[4]},function(){var n=arguments;return n[0]===0?n[1]:n[0]===1?n[2]:n[3]}],getLanguage:function(){var n=r.locale.language||r["default"];return/^(x\-)?[a-z]{2,}(\-\w{2,})?(\-\w{2,})?$/.exec(n)?n:r["default"]},t:function(n,t){if(typeof n=="string"&&n.length){var f=r.getLanguage(),i,u,e=function(n,t,i){return typeof n!="object"||typeof t!="number"||typeof i!="number"?n:typeof n=="string"?n:r.pluralForms[i].apply(null,[t].concat(n))},o=function(n){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};return n.replace(/[&<>"]/g,function(n){return t[n]})};return r.locale.strings&&r.locale.strings[f]&&(i=r.locale.strings[f][n],typeof t=="number"&&(u=r.locale.strings[f]["mejs.plural-form"],i=e.apply(null,[i,t,u]))),!i&&r.locale.strings&&r.locale.strings[r["default"]]&&(i=r.locale.strings[r["default"]][n],typeof t=="number"&&(u=r.locale.strings[r["default"]]["mejs.plural-form"],i=e.apply(null,[i,t,u]))),i=i||n,typeof t=="number"&&(i=i.replace("%1",t)),o(i)}return n}};typeof mejsL10n!="undefined"&&(r.locale.language=mejsL10n.language);i.i18n=r}(document,window,mejs),function(n){"use strict";typeof mejsL10n!="undefined"&&(n[mejsL10n.lang]=mejsL10n.strings)}(mejs.i18n.locale.strings);
/*!
 * This is a i18n.locale language object.
 *
 * English; This can serve as a template for other languages to translate
 *
 * @author
 *   TBD
 *   Sascha Greuel (Twitter: @SoftCreatR)
 *
 * @see
 *   me-i18n.js
 *
 * @params
 *  - exports - CommonJS, window ..
 */
(function(n){"use strict";n.en===undefined&&(n.en={"mejs.plural-form":1,"mejs.download-file":"Download File","mejs.fullscreen-off":"Turn off Fullscreen","mejs.fullscreen-on":"Go Fullscreen","mejs.download-video":"Download Video","mejs.fullscreen":"Fullscreen","mejs.time-jump-forward":["Jump forward 1 second","Jump forward %1 seconds"],"mejs.play":"Play","mejs.pause":"Pause","mejs.close":"Close","mejs.time-slider":"Time Slider","mejs.time-help-text":"Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.","mejs.time-skip-back":["Skip back 1 second","Skip back %1 seconds"],"mejs.captions-subtitles":"Captions/Subtitles","mejs.none":"None","mejs.mute-toggle":"Mute Toggle","mejs.volume-help-text":"Use Up/Down Arrow keys to increase or decrease volume.","mejs.unmute":"Unmute","mejs.mute":"Mute","mejs.volume-slider":"Volume Slider","mejs.video-player":"Video Player","mejs.audio-player":"Audio Player","mejs.ad-skip":"Skip ad","mejs.ad-skip-info":["Skip in 1 second","Skip in %1 seconds"],"mejs.source-chooser":"Source Chooser"})})(mejs.i18n.locale.strings);
/*!
 *
 * MediaElementPlayer
 * http://mediaelementjs.com/
 *
 * Creates a controller bar for HTML5 <video> add <audio> tags
 * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
 *
 * Copyright 2010-2013, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
typeof jQuery!="undefined"?mejs.$=jQuery:typeof Zepto!="undefined"?(mejs.$=Zepto,Zepto.fn.outerWidth=function(n){var t=$(this).width();return n&&(t+=parseInt($(this).css("margin-right"),10),t+=parseInt($(this).css("margin-left"),10)),t}):typeof ender!="undefined"&&(mejs.$=ender),function(n){mejs.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(n){return n.duration*.05},defaultSeekForwardInterval:function(n){return n.duration*.05},setDimensions:!0,audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,timeFormat:"",alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,controlsTimeoutDefault:1500,controlsTimeoutMouseEnter:2500,controlsTimeoutMouseLeave:1e3,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,stretching:"auto",enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(n,t){mejs.MediaFeatures.isFirefox||(t.paused||t.ended?t.play():t.pause())}},{keys:[38],action:function(n,t){n.container.find(".mejs-volume-slider").css("display","block");n.isVideo&&(n.showControls(),n.startControlsTimer());var i=Math.min(t.volume+.1,1);t.setVolume(i)}},{keys:[40],action:function(n,t){n.container.find(".mejs-volume-slider").css("display","block");n.isVideo&&(n.showControls(),n.startControlsTimer());var i=Math.max(t.volume-.1,0);t.setVolume(i)}},{keys:[37,227],action:function(n,t){if(!isNaN(t.duration)&&t.duration>0){n.isVideo&&(n.showControls(),n.startControlsTimer());var i=Math.max(t.currentTime-n.options.defaultSeekBackwardInterval(t),0);t.setCurrentTime(i)}}},{keys:[39,228],action:function(n,t){if(!isNaN(t.duration)&&t.duration>0){n.isVideo&&(n.showControls(),n.startControlsTimer());var i=Math.min(t.currentTime+n.options.defaultSeekForwardInterval(t),t.duration);t.setCurrentTime(i)}}},{keys:[70],action:function(n){typeof n.enterFullScreen!="undefined"&&(n.isFullScreen?n.exitFullScreen():n.enterFullScreen())}},{keys:[77],action:function(n){n.container.find(".mejs-volume-slider").css("display","block");n.isVideo&&(n.showControls(),n.startControlsTimer());n.media.muted?n.setMuted(!1):n.setMuted(!0)}}]};mejs.mepIndex=0;mejs.players={};mejs.MediaElementPlayer=function(t,i){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(t,i);var r=this;if(r.$media=r.$node=n(t),r.node=r.media=r.$media[0],r.node)return typeof r.node.player!="undefined"?r.node.player:(typeof i=="undefined"&&(i=r.$node.data("mejsoptions")),r.options=n.extend({},mejs.MepDefaults,i),r.options.timeFormat||(r.options.timeFormat="mm:ss",r.options.alwaysShowHours&&(r.options.timeFormat="hh:mm:ss"),r.options.showTimecodeFrameCount&&(r.options.timeFormat+=":ff")),mejs.Utility.calculateTimeFormat(0,r.options,r.options.framesPerSecond||25),r.id="mep_"+mejs.mepIndex++,mejs.players[r.id]=r,r.init(),r)};mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var t=this,r=mejs.MediaFeatures,u=n.extend(!0,{},t.options,{success:function(n,i){t.meReady(n,i)},error:function(n){t.handleError(n)}}),f=t.media.tagName.toLowerCase(),e,i,o;t.isDynamic=f!=="audio"&&f!=="video";t.isVideo=t.isDynamic?t.options.isVideo:f!=="audio"&&t.options.isVideo;r.isiPad&&t.options.iPadUseNativeControls||r.isiPhone&&t.options.iPhoneUseNativeControls?(t.$media.attr("controls","controls"),r.isiPad&&t.media.getAttribute("autoplay")!==null&&t.play()):r.isAndroid&&t.options.AndroidUseNativeControls||(t.isVideo||!t.isVideo&&t.options.features.length?(t.$media.removeAttr("controls"),e=t.isVideo?mejs.i18n.t("mejs.video-player"):mejs.i18n.t("mejs.audio-player"),n('<span class="mejs-offscreen">'+e+"<\/span>").insertBefore(t.$media),t.container=n('<div id="'+t.id+'" class="mejs-container '+(mejs.MediaFeatures.svgAsImg?"svg":"no-svg")+'" tabindex="0" role="application" aria-label="'+e+'"><div class="mejs-inner"><div class="mejs-mediaelement"><\/div><div class="mejs-layers"><\/div><div class="mejs-controls"><\/div><div class="mejs-clear"><\/div><\/div><\/div>').addClass(t.$media[0].className).insertBefore(t.$media).focus(function(n){var i,r;t.controlsAreVisible||t.hasFocus||!t.controlsEnabled||(t.showControls(!0),t.hasMsNativeFullScreen||(i=".mejs-playpause-button > button",mejs.Utility.isNodeAfter(n.relatedTarget,t.container[0])&&(i=".mejs-controls .mejs-button:last-child > button"),r=t.container.find(i),r.focus()))}),t.options.features.length||t.container.css("background","transparent").find(".mejs-controls").hide(),t.isVideo&&t.options.stretching==="fill"&&!t.container.parent("mejs-fill-container").length&&(t.outerContainer=t.$media.parent(),t.container.wrap('<div class="mejs-fill-container"/>')),t.container.addClass((r.isAndroid?"mejs-android ":"")+(r.isiOS?"mejs-ios ":"")+(r.isiPad?"mejs-ipad ":"")+(r.isiPhone?"mejs-iphone ":"")+(t.isVideo?"mejs-video ":"mejs-audio ")),t.container.find(".mejs-mediaelement").append(t.$media),t.node.player=t,t.controls=t.container.find(".mejs-controls"),t.layers=t.container.find(".mejs-layers"),i=t.isVideo?"video":"audio",o=i.substring(0,1).toUpperCase()+i.substring(1),t.width=t.options[i+"Width"]>0||t.options[i+"Width"].toString().indexOf("%")>-1?t.options[i+"Width"]:t.media.style.width!==""&&t.media.style.width!==null?t.media.style.width:t.media.getAttribute("width")!==null?t.$media.attr("width"):t.options["default"+o+"Width"],t.height=t.options[i+"Height"]>0||t.options[i+"Height"].toString().indexOf("%")>-1?t.options[i+"Height"]:t.media.style.height!==""&&t.media.style.height!==null?t.media.style.height:t.$media[0].getAttribute("height")!==null?t.$media.attr("height"):t.options["default"+o+"Height"],t.setPlayerSize(t.width,t.height),u.pluginWidth=t.width,u.pluginHeight=t.height):t.isVideo||t.options.features.length||t.$media.hide());mejs.MediaElement(t.$media[0],u);typeof t.container!="undefined"&&t.options.features.length&&t.controlsAreVisible&&t.container.trigger("controlsshown")},showControls:function(n){var t=this;(n=typeof n=="undefined"||n,t.controlsAreVisible)||(n?(t.controls.removeClass("mejs-offscreen").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0;t.container.trigger("controlsshown")}),t.container.find(".mejs-control").removeClass("mejs-offscreen").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0})):(t.controls.removeClass("mejs-offscreen").css("display","block"),t.container.find(".mejs-control").removeClass("mejs-offscreen").css("display","block"),t.controlsAreVisible=!0,t.container.trigger("controlsshown")),t.setControlsSize())},hideControls:function(t){var i=this;(t=typeof t=="undefined"||t,!i.controlsAreVisible||i.options.alwaysShowControls||i.keyboardAction||i.media.paused||i.media.ended)||(t?(i.controls.stop(!0,!0).fadeOut(200,function(){n(this).addClass("mejs-offscreen").css("display","block");i.controlsAreVisible=!1;i.container.trigger("controlshidden")}),i.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){n(this).addClass("mejs-offscreen").css("display","block")})):(i.controls.addClass("mejs-offscreen").css("display","block"),i.container.find(".mejs-control").addClass("mejs-offscreen").css("display","block"),i.controlsAreVisible=!1,i.container.trigger("controlshidden")))},controlsTimer:null,startControlsTimer:function(n){var t=this;n=typeof n!="undefined"?n:t.options.controlsTimeoutDefault;t.killControlsTimer("start");t.controlsTimer=setTimeout(function(){t.hideControls();t.killControlsTimer("hide")},n)},killControlsTimer:function(){var n=this;n.controlsTimer!==null&&(clearTimeout(n.controlsTimer),delete n.controlsTimer,n.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){var n=this;n.killControlsTimer();n.hideControls(!1);this.controlsEnabled=!1},enableControls:function(){var n=this;n.showControls(!1);n.controlsEnabled=!0},meReady:function(t,i){var r=this,u=mejs.MediaFeatures,e=i.getAttribute("autoplay"),o=!(typeof e=="undefined"||e===null||e==="false"),h,s,f;if(!r.created){if(r.created=!0,r.media=t,r.domNode=i,!(u.isAndroid&&r.options.AndroidUseNativeControls)&&!(u.isiPad&&r.options.iPadUseNativeControls)&&!(u.isiPhone&&r.options.iPhoneUseNativeControls)){if(!r.isVideo&&!r.options.features.length){o&&t.pluginType=="native"&&r.play();r.options.success&&(typeof r.options.success=="string"?window[r.options.success](r.media,r.domNode,r):r.options.success(r.media,r.domNode,r));return}r.buildposter(r,r.controls,r.layers,r.media);r.buildkeyboard(r,r.controls,r.layers,r.media);r.buildoverlays(r,r.controls,r.layers,r.media);r.findTracks();for(h in r.options.features)if(s=r.options.features[h],r["build"+s])try{r["build"+s](r,r.controls,r.layers,r.media)}catch(c){}r.container.trigger("controlsready");r.setPlayerSize(r.width,r.height);r.setControlsSize();r.isVideo&&(mejs.MediaFeatures.hasTouch&&!r.options.alwaysShowControls?r.$media.bind("touchstart",function(){r.controlsAreVisible?r.hideControls(!1):r.controlsEnabled&&r.showControls(!1)}):(r.clickToPlayPauseCallback=function(){if(r.options.clickToPlayPause){r.media.paused?r.play():r.pause();var n=r.$media.closest(".mejs-container").find(".mejs-overlay-button"),t=n.attr("aria-pressed");n.attr("aria-pressed",!t)}},r.media.addEventListener("click",r.clickToPlayPauseCallback,!1),r.container.bind("mouseenter",function(){r.controlsEnabled&&(r.options.alwaysShowControls||(r.killControlsTimer("enter"),r.showControls(),r.startControlsTimer(r.options.controlsTimeoutMouseEnter)))}).bind("mousemove",function(){r.controlsEnabled&&(r.controlsAreVisible||r.showControls(),r.options.alwaysShowControls||r.startControlsTimer(r.options.controlsTimeoutMouseEnter))}).bind("mouseleave",function(){r.controlsEnabled&&(r.media.paused||r.options.alwaysShowControls||r.startControlsTimer(r.options.controlsTimeoutMouseLeave))})),r.options.hideVideoControlsOnLoad&&r.hideControls(!1),o&&!r.options.alwaysShowControls&&r.hideControls(),r.options.enableAutosize&&r.media.addEventListener("loadedmetadata",function(n){r.options.videoHeight<=0&&r.domNode.getAttribute("height")===null&&!isNaN(n.target.videoHeight)&&(r.setPlayerSize(n.target.videoWidth,n.target.videoHeight),r.setControlsSize(),r.media.setVideoSize(n.target.videoWidth,n.target.videoHeight))},!1));r.media.addEventListener("play",function(){var t,n;for(t in mejs.players)n=mejs.players[t],n.id==r.id||!r.options.pauseOtherPlayers||n.paused||n.ended||n.pause(),n.hasFocus=!1;r.hasFocus=!0},!1);r.media.addEventListener("ended",function(){if(r.options.autoRewind)try{r.media.setCurrentTime(0);window.setTimeout(function(){n(r.container).find(".mejs-overlay-loading").parent().hide()},20)}catch(t){}r.media.pluginType==="youtube"?r.media.stop():r.media.pause();r.setProgressRail&&r.setProgressRail();r.setCurrentRail&&r.setCurrentRail();r.options.loop?r.play():!r.options.alwaysShowControls&&r.controlsEnabled&&r.showControls()},!1);r.media.addEventListener("loadedmetadata",function(){mejs.Utility.calculateTimeFormat(r.duration,r.options,r.options.framesPerSecond||25);r.updateDuration&&r.updateDuration();r.updateCurrent&&r.updateCurrent();r.isFullScreen||(r.setPlayerSize(r.width,r.height),r.setControlsSize())},!1);f=null;r.media.addEventListener("timeupdate",function(){f!==this.duration&&(f=this.duration,mejs.Utility.calculateTimeFormat(f,r.options,r.options.framesPerSecond||25),r.updateDuration&&r.updateDuration(),r.updateCurrent&&r.updateCurrent(),r.setControlsSize())},!1);r.container.focusout(function(t){if(t.relatedTarget){var i=n(t.relatedTarget);r.keyboardAction&&i.parents(".mejs-container").length===0&&(r.keyboardAction=!1,r.isVideo&&!r.options.alwaysShowControls&&r.hideControls(!0))}});setTimeout(function(){r.setPlayerSize(r.width,r.height);r.setControlsSize()},50);r.globalBind("resize",function(){r.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||r.setPlayerSize(r.width,r.height);r.setControlsSize()});r.media.pluginType=="youtube"&&(u.isiOS||u.isAndroid)&&(r.container.find(".mejs-overlay-play").hide(),r.container.find(".mejs-poster").hide())}o&&t.pluginType=="native"&&r.play();r.options.success&&(typeof r.options.success=="string"?window[r.options.success](r.media,r.domNode,r):r.options.success(r.media,r.domNode,r))}},handleError:function(n){var t=this;t.controls&&t.controls.hide();t.options.error&&t.options.error(n)},setPlayerSize:function(n,t){var i=this;if(!i.options.setDimensions)return!1;typeof n!="undefined"&&(i.width=n);typeof t!="undefined"&&(i.height=t);switch(i.options.stretching){case"fill":i.isVideo?this.setFillMode():this.setDimensions(i.width,i.height);break;case"responsive":this.setResponsiveMode();break;case"none":this.setDimensions(i.width,i.height);break;default:this.hasFluidMode()===!0?this.setResponsiveMode():this.setDimensions(i.width,i.height)}},hasFluidMode:function(){var n=this;return n.height.toString().indexOf("%")>0||n.$node.css("max-width")!=="none"&&n.$node.css("max-width")!=="t.width"||n.$node[0].currentStyle&&n.$node[0].currentStyle.maxWidth==="100%"},setResponsiveMode:function(){var t=this,e=function(){return t.isVideo?t.media.videoWidth&&t.media.videoWidth>0?t.media.videoWidth:t.media.getAttribute("width")!==null?t.media.getAttribute("width"):t.options.defaultVideoWidth:t.options.defaultAudioWidth}(),f=function(){return t.isVideo?t.media.videoHeight&&t.media.videoHeight>0?t.media.videoHeight:t.media.getAttribute("height")!==null?t.media.getAttribute("height"):t.options.defaultVideoHeight:t.options.defaultAudioHeight}(),r=t.container.parent().closest(":visible").width(),u=t.container.parent().closest(":visible").height(),i=t.isVideo||!t.options.autosizeProgress?parseInt(r*f/e,10):f;(isNaN(i)||u!==0&&i>u&&u>f)&&(i=u);t.container.parent().length>0&&t.container.parent()[0].tagName.toLowerCase()==="body"&&(r=n(window).width(),i=n(window).height());i&&r&&(t.container.width(r).height(i),t.$media.add(t.container.find(".mejs-shim")).width("100%").height("100%"),t.isVideo&&t.media.setVideoSize&&t.media.setVideoSize(r,i),t.layers.children(".mejs-layer").width("100%").height("100%"))},setFillMode:function(){var n=this,i=n.outerContainer,t,r;i.width()||i.height(n.$media.width());i.height()||i.height(n.$media.height());t=i.width();r=i.height();n.setDimensions("100%","100%");n.container.find(".mejs-poster img").css("display","block");targetElement=n.container.find("object, embed, iframe, video");var e=n.height,o=n.width,c=t,l=e*t/o,s=o*r/e,a=r,u=!(s>t),f=u?Math.floor(c):Math.floor(s),h=u?Math.floor(l):Math.floor(a);u?(targetElement.height(h).width(t),n.media.setVideoSize&&n.media.setVideoSize(t,h)):(targetElement.height(r).width(f),n.media.setVideoSize&&n.media.setVideoSize(f,r));targetElement.css({"margin-left":Math.floor((t-f)/2),"margin-top":0})},setDimensions:function(n,t){var i=this;i.container.width(n).height(t);i.layers.children(".mejs-layer").width(n).height(t)},setControlsSize:function(){var i=this,o=0,t=0,r=i.controls.find(".mejs-time-rail"),u=i.controls.find(".mejs-time-total"),s=r.siblings(),f=s.last(),e=null,h=i.options&&!i.options.autosizeProgress;if(i.container.is(":visible")&&r.length&&r.is(":visible")){h&&(t=parseInt(r.css("width"),10));t!==0&&t||(s.each(function(){var t=n(this);t.css("position")!="absolute"&&t.is(":visible")&&(o+=n(this).outerWidth(!0))}),t=i.controls.width()-o-(r.outerWidth(!0)-r.width()));do h||r.width(t),u.width(t-(u.outerWidth(!0)-u.width())),f.css("position")!="absolute"&&(e=f.length?f.position():null,t--);while(e!==null&&e.top.toFixed(2)>0&&t>0);i.container.trigger("controlsresize")}},buildposter:function(t,i,r,u){var o=this,f=n('<div class="mejs-poster mejs-layer"><\/div>').appendTo(r),e=t.$media.attr("poster");t.options.poster!==""&&(e=t.options.poster);e?o.setPoster(e):f.hide();u.addEventListener("play",function(){f.hide()},!1);t.options.showPosterWhenEnded&&t.options.autoRewind&&u.addEventListener("ended",function(){f.show()},!1)},setPoster:function(t){var u=this,i=u.container.find(".mejs-poster"),r=i.find("img");r.length===0&&(r=n('<img width="100%" height="100%" alt="" />').appendTo(i));r.attr("src",t);i.css({"background-image":"url("+t+")"})},buildoverlays:function(t,i,r,u){var s=this;if(t.isVideo){var f=n('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span><\/span><\/div><\/div>').hide().appendTo(r),e=n('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"><\/div><\/div>').hide().appendTo(r),o=n('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button" role="button" aria-label="'+mejs.i18n.t("mejs.play")+'" aria-pressed="false"><\/div><\/div>').appendTo(r).bind("click",function(){if(s.options.clickToPlayPause){u.paused&&u.play();var t=n(this).find(".mejs-overlay-button"),i=t.attr("aria-pressed");t.attr("aria-pressed",!!i)}});u.addEventListener("play",function(){o.hide();f.hide();i.find(".mejs-time-buffering").hide();e.hide()},!1);u.addEventListener("playing",function(){o.hide();f.hide();i.find(".mejs-time-buffering").hide();e.hide()},!1);u.addEventListener("seeking",function(){f.show();i.find(".mejs-time-buffering").show()},!1);u.addEventListener("seeked",function(){f.hide();i.find(".mejs-time-buffering").hide()},!1);u.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||o.show()},!1);u.addEventListener("waiting",function(){f.show();i.find(".mejs-time-buffering").show()},!1);u.addEventListener("loadeddata",function(){f.show();i.find(".mejs-time-buffering").show();mejs.MediaFeatures.isAndroid&&(u.canplayTimeout=window.setTimeout(function(){if(document.createEvent){var n=document.createEvent("HTMLEvents");return n.initEvent("canplay",!0,!0),u.dispatchEvent(n)}},300))},!1);u.addEventListener("canplay",function(){f.hide();i.find(".mejs-time-buffering").hide();clearTimeout(u.canplayTimeout)},!1);u.addEventListener("error",function(n){s.handleError(n);f.hide();o.hide();e.show();e.find(".mejs-overlay-error").html("Error loading this resource")},!1);u.addEventListener("keydown",function(n){s.onkeydown(t,u,n)},!1)}},buildkeyboard:function(t,i,r,u){var f=this;f.container.keydown(function(){f.keyboardAction=!0});f.globalBind("keydown",function(i){t.hasFocus=n(i.target).closest(".mejs-container").length!==0&&n(i.target).closest(".mejs-container").attr("id")===t.$media.closest(".mejs-container").attr("id");return f.onkeydown(t,u,i)});f.globalBind("click",function(i){t.hasFocus=n(i.target).closest(".mejs-container").length!==0})},onkeydown:function(n,t,i){var r,e,u,f,o;if(n.hasFocus&&n.options.enableKeyboard)for(r=0,e=n.options.keyActions.length;r<e;r++)for(u=n.options.keyActions[r],f=0,o=u.keys.length;f<o;f++)if(i.keyCode==u.keys[f])return typeof i.preventDefault=="function"&&i.preventDefault(),u.action(n,t,i.keyCode,i),!1;return!0},findTracks:function(){var t=this,i=t.$media.find("track");t.tracks=[];i.each(function(i,r){r=n(r);t.tracks.push({srclang:r.attr("srclang")?r.attr("srclang").toLowerCase():"",src:r.attr("src"),kind:r.attr("kind"),label:r.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(n){this.container[0].className="mejs-container "+n;this.setPlayerSize(this.width,this.height);this.setControlsSize()},play:function(){this.load();this.media.play()},pause:function(){try{this.media.pause()}catch(n){}},load:function(){this.isLoaded||this.media.load();this.isLoaded=!0},setMuted:function(n){this.media.setMuted(n)},setCurrentTime:function(n){this.media.setCurrentTime(n)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(n){this.media.setVolume(n)},getVolume:function(){return this.media.volume},setSrc:function(n){var i=this,t,r,u,f;if(i.media.pluginType==="youtube"){if(typeof n!="string")for(r=0;r<n.length;r++)if(u=n[r],this.canPlayType(u.type)){n=u.src;break}n.lastIndexOf("youtu.be")!==-1?(t=n.substr(n.lastIndexOf("/")+1),t.indexOf("?")!==-1&&(t=t.substr(0,t.indexOf("?")))):(f=n.match(/[?&]v=([^&#]+)|&|#|$/),f&&(t=f[1]));i.media.getAttribute("autoplay")!==null?i.media.pluginApi.loadVideoById(t):i.media.pluginApi.cueVideoById(t)}else i.media.setSrc(n)},remove:function(){var n=this,i,t;n.container.prev(".mejs-offscreen").remove();for(i in n.options.features)if(t=n.options.features[i],n["clean"+t])try{n["clean"+t](n)}catch(r){}n.isDynamic?n.$node.insertBefore(n.container):(n.$media.prop("controls",!0),n.$node.clone().insertBefore(n.container).show(),n.$node.remove());n.media.pluginType!=="native"&&n.media.remove();delete mejs.players[n.id];typeof n.container=="object"&&n.container.remove();n.globalUnbind();delete n.node.player},rebuildtracks:function(){var n=this;n.findTracks();n.buildtracks(n,n.controls,n.layers,n.media)},resetSize:function(){var n=this;setTimeout(function(){n.setPlayerSize(n.width,n.height);n.setControlsSize()},50)}},function(){function t(t,r){var u={d:[],w:[]};return n.each((t||"").split(" "),function(n,t){var f=t+"."+r;f.indexOf(".")===0?(u.d.push(f),u.w.push(f)):u[i.test(t)?"w":"d"].push(f)}),u.d=u.d.join(" "),u.w=u.w.join(" "),u}var i=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(i,r,u){var f=this,e=f.node?f.node.ownerDocument:document;i=t(i,f.id);i.d&&n(e).bind(i.d,r,u);i.w&&n(window).bind(i.w,r,u)};mejs.MediaElementPlayer.prototype.globalUnbind=function(i,r){var u=this,f=u.node?u.node.ownerDocument:document;i=t(i,u.id);i.d&&n(f).unbind(i.d,r);i.w&&n(window).unbind(i.w,r)}}();typeof n!="undefined"&&(n.fn.mediaelementplayer=function(t){return t===!1?this.each(function(){var t=n(this).data("mediaelementplayer");t&&t.remove();n(this).removeData("mediaelementplayer")}):this.each(function(){n(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,t))}),this},n(document).ready(function(){n(".mejs-player").mediaelementplayer()}));window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$),function(n){n.extend(mejs.MepDefaults,{playText:"",pauseText:""});n.extend(MediaElementPlayer.prototype,{buildplaypause:function(t,i,r,u){function f(n){"play"===n?(h.removeClass("mejs-play").addClass("mejs-pause"),l.attr({title:s,"aria-label":s})):(h.removeClass("mejs-pause").addClass("mejs-play"),l.attr({title:o,"aria-label":o}))}var c=this,e=c.options,o=e.playText?e.playText:mejs.i18n.t("mejs.play"),s=e.pauseText?e.pauseText:mejs.i18n.t("mejs.pause"),h=n('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+c.id+'" title="'+o+'" aria-label="'+s+'"><\/button><\/div>').appendTo(i).click(function(n){return n.preventDefault(),u.paused?u.play():u.pause(),!1}),l=h.find("button");f("pse");u.addEventListener("play",function(){f("play")},!1);u.addEventListener("playing",function(){f("play")},!1);u.addEventListener("pause",function(){f("pse")},!1);u.addEventListener("paused",function(){f("pse")},!1)}})}(mejs.$),function(n){n.extend(mejs.MepDefaults,{stopText:"Stop"});n.extend(MediaElementPlayer.prototype,{buildstop:function(t,i,r,u){var f=this;n('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+f.id+'" title="'+f.options.stopText+'" aria-label="'+f.options.stopText+'"><\/button><\/div>').appendTo(i).click(function(){u.paused||u.pause();u.currentTime>0&&(u.setCurrentTime(0),u.pause(),i.find(".mejs-time-current").width("0px"),i.find(".mejs-time-handle").css("left","0px"),i.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0,t.options)),i.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0,t.options)),r.find(".mejs-poster").show())})}})}(mejs.$),function(n){n.extend(mejs.MepDefaults,{enableProgressTooltip:!0,progressHelpText:""});n.extend(MediaElementPlayer.prototype,{buildprogress:function(t,i,r,u){var f=this,e=!1,c=!1,o=0,s=!1,l=t.options.autoRewind,p=f.options.progressHelpText?f.options.progressHelpText:mejs.i18n.t("mejs.time-help-text"),a=t.options.enableProgressTooltip?'<span class="mejs-time-float"><span class="mejs-time-float-current">00:00<\/span><span class="mejs-time-float-corner"><\/span><\/span>':"";n('<div class="mejs-time-rail"><span  class="mejs-time-total mejs-time-slider"><span class="mejs-time-buffering"><\/span><span class="mejs-time-loaded"><\/span><span class="mejs-time-current"><\/span><span class="mejs-time-handle"><\/span>'+a+"<\/span><\/div>").appendTo(i);i.find(".mejs-time-buffering").hide();f.total=i.find(".mejs-time-total");f.loaded=i.find(".mejs-time-loaded");f.current=i.find(".mejs-time-current");f.handle=i.find(".mejs-time-handle");f.timefloat=i.find(".mejs-time-float");f.timefloatcurrent=i.find(".mejs-time-float-current");f.slider=i.find(".mejs-time-slider");var h=function(n){var r=f.total.offset(),s=f.total.width(),h=0,o=0,c=0,i;i=n.originalEvent&&n.originalEvent.changedTouches?n.originalEvent.changedTouches[0].pageX:n.changedTouches?n.changedTouches[0].pageX:n.pageX;u.duration&&(i<r.left?i=r.left:i>s+r.left&&(i=s+r.left),c=i-r.left,h=c/s,o=h<=.02?0:h*u.duration,e&&o!==u.currentTime&&u.setCurrentTime(o),mejs.MediaFeatures.hasTouch||(f.timefloat.css("left",c),f.timefloatcurrent.html(mejs.Utility.secondsToTimeCode(o,t.options)),f.timefloat.show()))},v=function(){var n=u.currentTime,i=mejs.i18n.t("mejs.time-slider"),r=mejs.Utility.secondsToTimeCode(n,t.options),e=u.duration;f.slider.attr({"aria-label":i,"aria-valuemin":0,"aria-valuemax":e,"aria-valuenow":n,"aria-valuetext":r,role:"slider",tabindex:0})},y=function(){var n=new Date;n-o>=1e3&&u.play()};f.slider.bind("focus",function(){t.options.autoRewind=!1});f.slider.bind("blur",function(){t.options.autoRewind=l});f.slider.bind("keydown",function(n){new Date-o>=1e3&&(s=u.paused);var f=n.keyCode,r=u.duration,i=u.currentTime,e=t.options.defaultSeekForwardInterval(u),h=t.options.defaultSeekBackwardInterval(u);switch(f){case 37:case 40:i-=h;break;case 39:case 38:i+=e;break;case 36:i=0;break;case 35:i=r;break;case 32:case 13:u.paused?u.play():u.pause();return;default:return}return i=i<0?0:i>=r?r:Math.floor(i),o=new Date,s||u.pause(),i<u.duration&&!s&&setTimeout(y,1100),u.setCurrentTime(i),n.preventDefault(),n.stopPropagation(),!1});f.total.bind("mousedown touchstart",function(n){(n.which===1||n.which===0)&&(e=!0,h(n),f.globalBind("mousemove.dur touchmove.dur",function(n){h(n)}),f.globalBind("mouseup.dur touchend.dur",function(){e=!1;typeof f.timefloat!="undefined"&&f.timefloat.hide();f.globalUnbind(".dur")}))}).bind("mouseenter",function(){c=!0;f.globalBind("mousemove.dur",function(n){h(n)});typeof f.timefloat=="undefined"||mejs.MediaFeatures.hasTouch||f.timefloat.show()}).bind("mouseleave",function(){c=!1;e||(f.globalUnbind(".dur"),typeof f.timefloat!="undefined"&&f.timefloat.hide())});u.addEventListener("progress",function(n){t.setProgressRail(n);t.setCurrentRail(n)},!1);u.addEventListener("timeupdate",function(n){t.setProgressRail(n);t.setCurrentRail(n);v(n)},!1);f.container.on("controlsresize",function(n){t.setProgressRail(n);t.setCurrentRail(n)})},setProgressRail:function(n){var r=this,t=n!==undefined?n.target:r.media,i=null;t&&t.buffered&&t.buffered.length>0&&t.buffered.end&&t.duration?i=t.buffered.end(t.buffered.length-1)/t.duration:t&&t.bytesTotal!==undefined&&t.bytesTotal>0&&t.bufferedBytes!==undefined?i=t.bufferedBytes/t.bytesTotal:n&&n.lengthComputable&&n.total!==0&&(i=n.loaded/n.total);i!==null&&(i=Math.min(1,Math.max(0,i)),r.loaded&&r.total&&r.loaded.width(r.total.width()*i))},setCurrentRail:function(){var n=this,t,i;n.media.currentTime!==undefined&&n.media.duration&&n.total&&n.handle&&(t=Math.round(n.total.width()*n.media.currentTime/n.media.duration),i=t-Math.round(n.handle.outerWidth(!0)/2),n.current.width(t),n.handle.css("left",i))}})}(mejs.$),function(n){n.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | <\/span>"});n.extend(MediaElementPlayer.prototype,{buildcurrent:function(t,i,r,u){var f=this;n('<div class="mejs-time" role="timer" aria-live="off"><span class="mejs-currenttime">'+mejs.Utility.secondsToTimeCode(0,t.options)+"<\/span><\/div>").appendTo(i);f.currenttime=f.controls.find(".mejs-currenttime");u.addEventListener("timeupdate",function(){f.controlsAreVisible&&t.updateCurrent()},!1)},buildduration:function(t,i,r,u){var f=this;i.children().last().find(".mejs-currenttime").length>0?n(f.options.timeAndDurationSeparator+'<span class="mejs-duration">'+mejs.Utility.secondsToTimeCode(f.options.duration,f.options)+"<\/span>").appendTo(i.find(".mejs-time")):(i.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),n('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+mejs.Utility.secondsToTimeCode(f.options.duration,f.options)+"<\/span><\/div>").appendTo(i));f.durationD=f.controls.find(".mejs-duration");u.addEventListener("timeupdate",function(){f.controlsAreVisible&&t.updateDuration()},!1)},updateCurrent:function(){var n=this,t=n.media.currentTime;isNaN(t)&&(t=0);n.currenttime&&n.currenttime.html(mejs.Utility.secondsToTimeCode(t,n.options))},updateDuration:function(){var n=this,t=n.media.duration;n.options.duration>0&&(t=n.options.duration);isNaN(t)&&(t=0);n.container.toggleClass("mejs-long-video",t>3600);n.durationD&&t>0&&n.durationD.html(mejs.Utility.secondsToTimeCode(t,n.options))}})}(mejs.$),function(n){n.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("mejs.mute-toggle"),allyVolumeControlText:mejs.i18n.t("mejs.volume-help-text"),hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"});n.extend(MediaElementPlayer.prototype,{buildvolume:function(t,i,r,u){var w;if(!(mejs.MediaFeatures.isAndroid||mejs.MediaFeatures.isiOS)||!this.options.hideVolumeOnTouchDevices){var f=this,c=f.isVideo?f.options.videoVolume:f.options.audioVolume,e=c=="horizontal"?n('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+f.id+'" title="'+f.options.muteText+'" aria-label="'+f.options.muteText+'"><\/button><\/div><a href="javascript:void(0);" class="mejs-horizontal-volume-slider"><span class="mejs-offscreen">'+f.options.allyVolumeControlText+'<\/span><div class="mejs-horizontal-volume-total"><\/div><div class="mejs-horizontal-volume-current"><\/div><div class="mejs-horizontal-volume-handle"><\/div><\/a>').appendTo(i):n('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+f.id+'" title="'+f.options.muteText+'" aria-label="'+f.options.muteText+'"><\/button><a href="javascript:void(0);" class="mejs-volume-slider"><span class="mejs-offscreen">'+f.options.allyVolumeControlText+'<\/span><div class="mejs-volume-total"><\/div><div class="mejs-volume-current"><\/div><div class="mejs-volume-handle"><\/div><\/a><\/div>').appendTo(i),o=f.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),h=f.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),y=f.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),a=f.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),s=function(n,t){var i,r,u,l,f;if(!o.is(":visible")&&typeof t=="undefined"){o.show();s(n,!0);o.hide();return}n=Math.max(0,n);n=Math.min(n,1);n===0?(e.removeClass("mejs-mute").addClass("mejs-unmute"),e.children("button").attr("title",mejs.i18n.t("mejs.unmute")).attr("aria-label",mejs.i18n.t("mejs.unmute"))):(e.removeClass("mejs-unmute").addClass("mejs-mute"),e.children("button").attr("title",mejs.i18n.t("mejs.mute")).attr("aria-label",mejs.i18n.t("mejs.mute")));i=h.position();c=="vertical"?(r=h.height(),u=r-r*n,a.css("top",Math.round(i.top+u-a.height()/2)),y.height(r-u),y.css("top",i.top+u)):(l=h.width(),f=l*n,a.css("left",Math.round(i.left+f-a.width()/2)),y.width(Math.round(f)))},p=function(n){var t=null,i=h.offset(),r,f,e,o;if(c==="vertical"){if(r=h.height(),f=n.pageY-i.top,t=(r-f)/r,i.top===0||i.left===0)return}else e=h.width(),o=n.pageX-i.left,t=o/e;t=Math.max(0,t);t=Math.min(t,1);s(t);t===0?u.setMuted(!0):u.setMuted(!1);u.setVolume(t)},l=!1,v=!1;e.hover(function(){o.show();v=!0},function(){v=!1;l||c!="vertical"||o.hide()});w=function(){var n=Math.floor(u.volume*100);o.attr({"aria-label":mejs.i18n.t("mejs.volume-slider"),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":n,"aria-valuetext":n+"%",role:"slider",tabindex:0})};o.bind("mouseover",function(){v=!0}).bind("mousedown",function(n){return p(n),f.globalBind("mousemove.vol",function(n){p(n)}),f.globalBind("mouseup.vol",function(){l=!1;f.globalUnbind(".vol");v||c!="vertical"||o.hide()}),l=!0,!1}).bind("keydown",function(n){var i=n.keyCode,t=u.volume;switch(i){case 38:t=Math.min(t+.1,1);break;case 40:t=Math.max(0,t-.1);break;default:return!0}return l=!1,s(t),u.setVolume(t),!1});e.find("button").click(function(){u.setMuted(!u.muted)});e.find("button").bind("focus",function(){o.show()});u.addEventListener("volumechange",function(n){l||(u.muted?(s(0),e.removeClass("mejs-mute").addClass("mejs-unmute")):(s(u.volume),e.removeClass("mejs-unmute").addClass("mejs-mute")));w(n)},!1);t.options.startVolume===0&&u.setMuted(!0);u.pluginType==="native"&&u.setVolume(t.options.startVolume);f.container.on("controlsresize",function(){u.muted?(s(0),e.removeClass("mejs-mute").addClass("mejs-unmute")):(s(u.volume),e.removeClass("mejs-unmute").addClass("mejs-mute"))})}}})}(mejs.$),function(n){n.extend(mejs.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:""});n.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,fullscreenMode:"",buildfullscreen:function(t,i,r,u){var h;if(t.isVideo){t.isInIframe=window.location!=window.parent.location;u.addEventListener("loadstart",function(){t.detectFullscreenMode()});var f=this,e=null,o=f.options.fullscreenText?f.options.fullscreenText:mejs.i18n.t("mejs.fullscreen"),s=n('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+f.id+'" title="'+o+'" aria-label="'+o+'"><\/button><\/div>').appendTo(i).on("click",function(){var n=mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||t.isFullScreen;n?t.exitFullScreen():t.enterFullScreen()}).on("mouseover",function(){if(f.fullscreenMode=="plugin-hover"){e!==null&&(clearTimeout(e),delete e);var n=s.offset(),i=t.container.offset();u.positionFullscreenButton(n.left-i.left,n.top-i.top,!0)}}).on("mouseout",function(){f.fullscreenMode=="plugin-hover"&&(e!==null&&(clearTimeout(e),delete e),e=setTimeout(function(){u.hideFullscreenButton()},1500))});t.fullscreenBtn=s;f.globalBind("keydown",function(n){n.keyCode==27&&(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||f.isFullScreen)&&t.exitFullScreen()});f.normalHeight=0;f.normalWidth=0;mejs.MediaFeatures.hasTrueNativeFullScreen&&(h=function(){t.isFullScreen&&(mejs.MediaFeatures.isFullScreen()?(t.isNativeFullScreen=!0,t.setControlsSize()):(t.isNativeFullScreen=!1,t.exitFullScreen()))},t.globalBind(mejs.MediaFeatures.fullScreenEventName,h))}},detectFullscreenMode:function(){var t=this,n="",i=mejs.MediaFeatures;return i.hasTrueNativeFullScreen&&t.media.pluginType==="native"?n="native-native":i.hasTrueNativeFullScreen&&t.media.pluginType!=="native"&&!i.hasFirefoxPluginMovingProblem?n="plugin-native":t.usePluginFullScreen?mejs.MediaFeatures.supportsPointerEvents?(n="plugin-click",t.createPluginClickThrough()):n="plugin-hover":n="fullwindow",t.fullscreenMode=n,n},isPluginClickThroughCreated:!1,createPluginClickThrough:function(){var t=this;if(!t.isPluginClickThroughCreated){var u=!1,f=function(){if(u){for(var n in i)i[n].hide();t.fullscreenBtn.css("pointer-events","");t.controls.css("pointer-events","");t.media.removeEventListener("click",t.clickToPlayPauseCallback);u=!1}},i={},e=["top","left","right","bottom"],r,o,s=function(){var f=fullscreenBtn.offset().left-t.container.offset().left,n=fullscreenBtn.offset().top-t.container.offset().top,o=fullscreenBtn.outerWidth(!0),u=fullscreenBtn.outerHeight(!0),e=t.container.width(),s=t.container.height();for(r in i)i[r].css({position:"absolute",top:0,left:0});i.top.width(e).height(n);i.left.width(f).height(u).css({top:n});i.right.width(e-f-o).height(u).css({top:n,left:f+o});i.bottom.width(e).height(s-u-n).css({top:n+u})};for(t.globalBind("resize",function(){s()}),r=0,o=e.length;r<o;r++)i[e[r]]=n('<div class="mejs-fullscreen-hover" />').appendTo(t.container).mouseover(f).hide();fullscreenBtn.on("mouseover",function(){if(!t.isFullScreen){var n=fullscreenBtn.offset(),f=player.container.offset();media.positionFullscreenButton(n.left-f.left,n.top-f.top,!1);t.fullscreenBtn.css("pointer-events","none");t.controls.css("pointer-events","none");t.media.addEventListener("click",t.clickToPlayPauseCallback);for(r in i)i[r].show();s();u=!0}});media.addEventListener("fullscreenchange",function(){t.isFullScreen=!t.isFullScreen;t.isFullScreen?t.media.removeEventListener("click",t.clickToPlayPauseCallback):t.media.addEventListener("click",t.clickToPlayPauseCallback);f()});t.globalBind("mousemove",function(n){if(u){var i=fullscreenBtn.offset();(n.pageY<i.top||n.pageY>i.top+fullscreenBtn.outerHeight(!0)||n.pageX<i.left||n.pageX>i.left+fullscreenBtn.outerWidth(!0))&&(fullscreenBtn.css("pointer-events",""),t.controls.css("pointer-events",""),u=!1)}});t.isPluginClickThroughCreated=!0}},cleanfullscreen:function(n){n.exitFullScreen()},containerSizeTimeout:null,enterFullScreen:function(){var t=this;if(mejs.MediaFeatures.isiOS&&mejs.MediaFeatures.hasiOSFullScreen&&typeof t.media.webkitEnterFullscreen=="function"){t.media.webkitEnterFullscreen();return}n(document.documentElement).addClass("mejs-fullscreen");t.normalHeight=t.container.height();t.normalWidth=t.container.width();t.fullscreenMode==="native-native"||t.fullscreenMode==="plugin-native"?(mejs.MediaFeatures.requestFullScreen(t.container[0]),t.isInIframe&&setTimeout(function i(){if(t.isNativeFullScreen){var u=n(window).width(),r=screen.width,f=Math.abs(r-u),e=r*.002;f>e?t.exitFullScreen():setTimeout(i,500)}},1e3)):t.fullscreeMode=="fullwindow";t.container.addClass("mejs-container-fullscreen").width("100%").height("100%");t.containerSizeTimeout=setTimeout(function(){t.container.css({width:"100%",height:"100%"});t.setControlsSize()},500);t.media.pluginType==="native"?t.$media.width("100%").height("100%"):(t.container.find(".mejs-shim").width("100%").height("100%"),setTimeout(function(){var i=n(window),r=i.width(),u=i.height();t.media.setVideoSize(r,u)},500));t.layers.children("div").width("100%").height("100%");t.fullscreenBtn&&t.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen");t.setControlsSize();t.isFullScreen=!0;t.container.find(".mejs-captions-text").css("font-size",screen.width/t.width*100+"%");t.container.find(".mejs-captions-position").css("bottom","45px");t.container.trigger("enteredfullscreen")},exitFullScreen:function(){var t=this;clearTimeout(t.containerSizeTimeout);mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||t.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen();n(document.documentElement).removeClass("mejs-fullscreen");t.container.removeClass("mejs-container-fullscreen").width(t.normalWidth).height(t.normalHeight);t.media.pluginType==="native"?t.$media.width(t.normalWidth).height(t.normalHeight):(t.container.find(".mejs-shim").width(t.normalWidth).height(t.normalHeight),t.media.setVideoSize(t.normalWidth,t.normalHeight));t.layers.children("div").width(t.normalWidth).height(t.normalHeight);t.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");t.setControlsSize();t.isFullScreen=!1;t.container.find(".mejs-captions-text").css("font-size","");t.container.find(".mejs-captions-position").css("bottom","");t.container.trigger("exitedfullscreen")}})}(mejs.$),function(n){n.extend(mejs.MepDefaults,{speeds:["2.00","1.50","1.25","1.00","0.75"],defaultSpeed:"1.00",speedChar:"x"});n.extend(MediaElementPlayer.prototype,{buildspeed:function(t,i,r,u){var e=this,f,a,h,w,v;if(e.media.pluginType=="native"){var s=null,c=null,l=null,y=null,o=[],p=!1;for(f=0,a=e.options.speeds.length;f<a;f++)h=e.options.speeds[f],typeof h=="string"?(o.push({name:h+e.options.speedChar,value:h}),h===e.options.defaultSpeed&&(p=!0)):(o.push(h),h.value===e.options.defaultSpeed&&(p=!0));for(p||o.push({name:e.options.defaultSpeed+e.options.speedChar,value:e.options.defaultSpeed}),o.sort(function(n,t){return parseFloat(t.value)-parseFloat(n.value)}),w=function(n){for(f=0,a=o.length;f<a;f++)if(o[f].value===n)return o[f].name},v='<div class="mejs-button mejs-speed-button"><button type="button">'+w(e.options.defaultSpeed)+'<\/button><div class="mejs-speed-selector"><ul>',f=0,il=o.length;f<il;f++)y=e.id+"-speed-"+o[f].value,v+='<li><input type="radio" name="speed" value="'+o[f].value+'" id="'+y+'" '+(o[f].value===e.options.defaultSpeed?" checked":"")+' /><label for="'+y+'" '+(o[f].value===e.options.defaultSpeed?' class="mejs-speed-selected"':"")+">"+o[f].name+"<\/label><\/li>";v+="<\/ul><\/div><\/div>";s=n(v).appendTo(i);c=s.find(".mejs-speed-selector");l=e.options.defaultSpeed;u.addEventListener("loadedmetadata",function(){l&&(u.playbackRate=parseFloat(l))},!0);c.on("click",'input[type="radio"]',function(){var t=n(this).attr("value");l=t;u.playbackRate=parseFloat(t);s.find("button").html(w(t));s.find(".mejs-speed-selected").removeClass("mejs-speed-selected");s.find('input[type="radio"]:checked').next().addClass("mejs-speed-selected")});s.one("mouseenter focusin",function(){c.height(s.find(".mejs-speed-selector ul").outerHeight(!0)+s.find(".mejs-speed-translations").outerHeight(!0)).css("top",-1*c.height()+"px")})}}})}(mejs.$),function(n){n.extend(mejs.MepDefaults,{startLanguage:"",tracksText:"",tracksAriaLive:!1,hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""});n.extend(MediaElementPlayer.prototype,{hasChapters:!1,cleartracks:function(n){n&&(n.captions&&n.captions.remove(),n.chapters&&n.chapters.remove(),n.captionsText&&n.captionsText.remove(),n.captionsButton&&n.captionsButton.remove())},buildtracks:function(t,i,r,u){var s;if(t.tracks.length!==0){var e=this,c=e.options.tracksAriaLive?'role="log" aria-live="assertive" aria-atomic="false"':"",h=e.options.tracksText?e.options.tracksText:mejs.i18n.t("mejs.captions-subtitles"),f,o;if(e.domNode.textTracks)for(f=e.domNode.textTracks.length-1;f>=0;f--)e.domNode.textTracks[f].mode="hidden";for(e.cleartracks(t,i,r,u),t.chapters=n('<div class="mejs-chapters mejs-layer"><\/div>').prependTo(r).hide(),t.captions=n('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover" '+c+'><span class="mejs-captions-text"><\/span><\/div><\/div>').prependTo(r).hide(),t.captionsText=t.captions.find(".mejs-captions-text"),t.captionsButton=n('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+e.id+'" title="'+h+'" aria-label="'+h+'"><\/button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+t.id+'_captions" id="'+t.id+'_captions_none" value="none" checked="checked" /><label for="'+t.id+'_captions_none">'+mejs.i18n.t("mejs.none")+"<\/label><\/li><\/ul><\/div><\/div>").appendTo(i),s=0,f=0;f<t.tracks.length;f++)o=t.tracks[f].kind,(o==="subtitles"||o==="captions")&&s++;if(e.options.toggleCaptionsButtonWhenOnlyOne&&s==1)t.captionsButton.on("click",function(){lang=t.selectedTrack===null?t.tracks[0].srclang:"none";t.setTrack(lang)});else{t.captionsButton.on("mouseenter focusin",function(){n(this).find(".mejs-captions-selector").removeClass("mejs-offscreen")}).on("click","input[type=radio]",function(){lang=this.value;t.setTrack(lang)});t.captionsButton.on("mouseleave focusout",function(){n(this).find(".mejs-captions-selector").addClass("mejs-offscreen")})}for(t.options.alwaysShowControls?t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):t.container.bind("controlsshown",function(){t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("controlshidden",function(){u.paused||t.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),t.trackToLoad=-1,t.selectedTrack=null,t.isLoadingTrack=!1,f=0;f<t.tracks.length;f++)o=t.tracks[f].kind,(o==="subtitles"||o==="captions")&&t.addTrackButton(t.tracks[f].srclang,t.tracks[f].label);t.loadNextTrack();u.addEventListener("timeupdate",function(){t.displayCaptions()},!1);t.options.slidesSelector!==""&&(t.slidesContainer=n(t.options.slidesSelector),u.addEventListener("timeupdate",function(){t.displaySlides()},!1));u.addEventListener("loadedmetadata",function(){t.displayChapters()},!1);t.container.hover(function(){t.hasChapters&&(t.chapters.removeClass("mejs-offscreen"),t.chapters.fadeIn(200).height(t.chapters.find(".mejs-chapter").outerHeight()))},function(){t.hasChapters&&!u.paused&&t.chapters.fadeOut(200,function(){n(this).addClass("mejs-offscreen");n(this).css("display","block")})});e.container.on("controlsresize",function(){e.adjustLanguageBox()});t.node.getAttribute("autoplay")!==null&&t.chapters.addClass("mejs-offscreen")}},setTrack:function(n){var t=this,i;if(n=="none")t.selectedTrack=null,t.captionsButton.removeClass("mejs-captions-enabled");else for(i=0;i<t.tracks.length;i++)if(t.tracks[i].srclang==n){t.selectedTrack===null&&t.captionsButton.addClass("mejs-captions-enabled");t.selectedTrack=t.tracks[i];t.captions.attr("lang",t.selectedTrack.srclang);t.displayCaptions();break}},loadNextTrack:function(){var n=this;n.trackToLoad++;n.trackToLoad<n.tracks.length?(n.isLoadingTrack=!0,n.loadTrack(n.trackToLoad)):(n.isLoadingTrack=!1,n.checkForTracks())},loadTrack:function(t){var r=this,i=r.tracks[t],u=function(){i.isLoaded=!0;r.enableTrackButton(i.srclang,i.label);r.loadNextTrack()};n.ajax({url:i.src,dataType:"text",success:function(n){i.entries=typeof n=="string"&&/<tt\s+xml/ig.exec(n)?mejs.TrackFormatParser.dfxp.parse(n):mejs.TrackFormatParser.webvtt.parse(n);u();i.kind=="chapters"&&r.media.addEventListener("play",function(){r.media.duration>0&&r.displayChapters(i)},!1);i.kind=="slides"&&r.setupSlides(i)},error:function(){r.removeTrackButton(i.srclang);r.loadNextTrack()}})},enableTrackButton:function(t,i){var r=this;i===""&&(i=mejs.language.codes[t]||t);r.captionsButton.find("input[value="+t+"]").prop("disabled",!1).siblings("label").html(i);r.options.startLanguage==t&&n("#"+r.id+"_captions_"+t).prop("checked",!0).trigger("click");r.adjustLanguageBox()},removeTrackButton:function(n){var t=this;t.captionsButton.find("input[value="+n+"]").closest("li").remove();t.adjustLanguageBox()},addTrackButton:function(t,i){var r=this;i===""&&(i=mejs.language.codes[t]||t);r.captionsButton.find("ul").append(n('<li><input type="radio" name="'+r.id+'_captions" id="'+r.id+"_captions_"+t+'" value="'+t+'" disabled="disabled" /><label for="'+r.id+"_captions_"+t+'">'+i+" (loading)<\/label><\/li>"));r.adjustLanguageBox();r.container.find(".mejs-captions-translations option[value="+t+"]").remove()},adjustLanguageBox:function(){var n=this;n.captionsButton.find(".mejs-captions-selector").height(n.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+n.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},checkForTracks:function(){var n=this,r=!1,t,i;if(n.options.hideCaptionsButtonWhenEmpty){for(t=0;t<n.tracks.length;t++)if(i=n.tracks[t].kind,(i==="subtitles"||i==="captions")&&n.tracks[t].isLoaded){r=!0;break}r||(n.captionsButton.hide(),n.setControlsSize())}},displayCaptions:function(){if(typeof this.tracks!="undefined"){var n=this,t,i=n.selectedTrack;if(i!==null&&i.isLoaded){for(t=0;t<i.entries.times.length;t++)if(n.media.currentTime>=i.entries.times[t].start&&n.media.currentTime<=i.entries.times[t].stop){n.captionsText.html(i.entries.text[t]).attr("class","mejs-captions-text "+(i.entries.times[t].identifier||""));n.captions.show().height(0);return}n.captions.hide()}else n.captions.hide()}},setupSlides:function(n){var t=this;t.slides=n;t.slides.entries.imgs=[t.slides.entries.text.length];t.showSlide(0)},showSlide:function(t){if(typeof this.tracks!="undefined"&&typeof this.slidesContainer!="undefined"){var r=this,u=r.slides.entries.text[t],i=r.slides.entries.imgs[t];typeof i=="undefined"||typeof i.fadeIn=="undefined"?r.slides.entries.imgs[t]=i=n('<img src="'+u+'">').on("load",function(){i.appendTo(r.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()}):i.is(":visible")||i.is(":animated")||i.fadeIn().siblings(":visible").fadeOut()}},displaySlides:function(){if(typeof this.slides!="undefined")for(var t=this,i=t.slides,n=0;n<i.entries.times.length;n++)if(t.media.currentTime>=i.entries.times[n].start&&t.media.currentTime<=i.entries.times[n].stop){t.showSlide(n);return}},displayChapters:function(){for(var n=this,t=0;t<n.tracks.length;t++)if(n.tracks[t].kind=="chapters"&&n.tracks[t].isLoaded){n.drawChapters(n.tracks[t]);n.hasChapters=!0;break}},drawChapters:function(t){var r=this,i,e,u=0,f=0;for(r.chapters.empty(),i=0;i<t.entries.times.length;i++)e=t.entries.times[i].stop-t.entries.times[i].start,u=Math.floor(e/r.media.duration*100),(u+f>100||i==t.entries.times.length-1&&u+f<100)&&(u=100-f),r.chapters.append(n('<div class="mejs-chapter" rel="'+t.entries.times[i].start+'" style="left: '+f.toString()+"%;width: "+u.toString()+'%;"><div class="mejs-chapter-block'+(i==t.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+t.entries.text[i]+'<\/span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(t.entries.times[i].start,r.options)+"&ndash;"+mejs.Utility.secondsToTimeCode(t.entries.times[i].stop,r.options)+"<\/span><\/div><\/div>")),f+=u;r.chapters.find("div.mejs-chapter").click(function(){r.media.setCurrentTime(parseFloat(n(this).attr("rel")));r.media.paused&&r.media.play()});r.chapters.show()}});mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",fl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};mejs.TrackFormatParser={webvtt:{pattern_timecode:/^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(t){for(var i=0,r=mejs.TrackFormatParser.split2(t,/\r?\n/),e={text:[],times:[]},u,f,o;i<r.length;i++){if(u=this.pattern_timecode.exec(r[i]),u&&i<r.length){for(i-1>=0&&r[i-1]!==""&&(o=r[i-1]),i++,f=r[i],i++;r[i]!==""&&i<r.length;)f=f+"\n"+r[i],i++;f=n.trim(f).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,"<a href='$1' target='_blank'>$1<\/a>");e.text.push(f);e.times.push({identifier:o,start:mejs.Utility.convertSMPTEtoSeconds(u[1])===0?.2:mejs.Utility.convertSMPTEtoSeconds(u[1]),stop:mejs.Utility.convertSMPTEtoSeconds(u[3]),settings:u[5]})}o=""}return e}},dfxp:{parse:function(t){var e,o,r,h;t=n(t).filter("tt");var i=0,c=t.children("div").eq(0),u=c.find("p"),l=t.find("#"+c.attr("style")),f,a,s={text:[],times:[]};if(l.length&&(e=l.removeAttr("id").get(0).attributes,e.length))for(f={},i=0;i<e.length;i++)f[e[i].name.split(":")[1]]=e[i].value;for(i=0;i<u.length;i++){if(r={start:null,stop:null,style:null},u.eq(i).attr("begin")&&(r.start=mejs.Utility.convertSMPTEtoSeconds(u.eq(i).attr("begin"))),!r.start&&u.eq(i-1).attr("end")&&(r.start=mejs.Utility.convertSMPTEtoSeconds(u.eq(i-1).attr("end"))),u.eq(i).attr("end")&&(r.stop=mejs.Utility.convertSMPTEtoSeconds(u.eq(i).attr("end"))),!r.stop&&u.eq(i+1).attr("begin")&&(r.stop=mejs.Utility.convertSMPTEtoSeconds(u.eq(i+1).attr("begin"))),f){o="";for(h in f)o+=h+":"+f[h]+";"}o&&(r.style=o);r.start===0&&(r.start=.2);s.times.push(r);a=n.trim(u.eq(i).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,"<a href='$1' target='_blank'>$1<\/a>");s.text.push(a)}return s}},split2:function(n,t){return n.split(t)}};"x\n\ny".split(/\n/gi).length!=3&&(mejs.TrackFormatParser.split2=function(n,t){for(var u=[],i="",r=0;r<n.length;r++)i+=n.substring(r,r+1),t.test(i)&&(u.push(i.replace(t,"")),i="");return u.push(i),u})}(mejs.$),function(n){n.extend(mejs.MepDefaults,{sourcechooserText:""});n.extend(MediaElementPlayer.prototype,{buildsourcechooser:function(t,i,r,u){var e=this,o=e.options.sourcechooserText?e.options.sourcechooserText:mejs.i18n.t("mejs.source-chooser"),s,h,f;t.sourcechooserButton=n('<div class="mejs-button mejs-sourcechooser-button"><button type="button" role="button" aria-haspopup="true" aria-owns="'+e.id+'" title="'+o+'" aria-label="'+o+'"><\/button><div class="mejs-sourcechooser-selector mejs-offscreen" role="menu" aria-expanded="false" aria-hidden="true"><ul><\/ul><\/div><\/div>').appendTo(i).hover(function(){clearTimeout(s);t.showSourcechooserSelector()},function(){var i=n(this);s=setTimeout(function(){t.hideSourcechooserSelector()},500)}).on("keydown",function(i){var r=i.keyCode;switch(r){case 32:mejs.MediaFeatures.isFirefox||t.showSourcechooserSelector();n(this).find(".mejs-sourcechooser-selector").find("input[type=radio]:checked").first().focus();break;case 13:t.showSourcechooserSelector();n(this).find(".mejs-sourcechooser-selector").find("input[type=radio]:checked").first().focus();break;case 27:t.hideSourcechooserSelector();n(this).find("button").focus();break;default:return!0}}).on("focusout",mejs.Utility.debounce(function(){setTimeout(function(){var i=n(document.activeElement).closest(".mejs-sourcechooser-selector");i.length||t.hideSourcechooserSelector()},0)},100)).delegate("input[type=radio]","click",function(){var t,r,f,i;n(this).attr("aria-selected",!0).attr("checked","checked");n(this).closest(".mejs-sourcechooser-selector").find("input[type=radio]").not(this).attr("aria-selected","false").removeAttr("checked");t=this.value;u.currentSrc!=t&&(r=u.currentTime,f=u.paused,u.pause(),u.setSrc(t),u.addEventListener("loadedmetadata",function(){u.currentTime=r},!0),i=function(){f||u.play();u.removeEventListener("canplay",i,!0)},u.addEventListener("canplay",i,!0),u.load())}).delegate("button","click",function(){n(this).siblings(".mejs-sourcechooser-selector").hasClass("mejs-offscreen")?(t.showSourcechooserSelector(),n(this).siblings(".mejs-sourcechooser-selector").find("input[type=radio]:checked").first().focus()):t.hideSourcechooserSelector()});for(h in this.node.children)f=this.node.children[h],f.nodeName==="SOURCE"&&(u.canPlayType(f.type)=="probably"||u.canPlayType(f.type)=="maybe")&&t.addSourceButton(f.src,f.title,f.type,u.src==f.src)},addSourceButton:function(t,i,r,u){var f=this;(i===""||i==undefined)&&(i=t);r=r.split("/")[1];f.sourcechooserButton.find("ul").append(n('<li><input type="radio" name="'+f.id+'_sourcechooser" id="'+f.id+"_sourcechooser_"+i+r+'" role="menuitemradio" value="'+t+'" '+(u?'checked="checked"':"")+'aria-selected="'+u+'" /><label for="'+f.id+"_sourcechooser_"+i+r+'" aria-hidden="true">'+i+" ("+r+")<\/label><\/li>"));f.adjustSourcechooserBox()},adjustSourcechooserBox:function(){var n=this;n.sourcechooserButton.find(".mejs-sourcechooser-selector").height(n.sourcechooserButton.find(".mejs-sourcechooser-selector ul").outerHeight(!0))},hideSourcechooserSelector:function(){this.sourcechooserButton.find(".mejs-sourcechooser-selector").addClass("mejs-offscreen").attr("aria-expanded","false").attr("aria-hidden","true").find("input[type=radio]").attr("tabindex","-1")},showSourcechooserSelector:function(){this.sourcechooserButton.find(".mejs-sourcechooser-selector").removeClass("mejs-offscreen").attr("aria-expanded","true").attr("aria-hidden","false").find("input[type=radio]").attr("tabindex","0")}})}(mejs.$),function(n){n.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(n){return typeof n.enterFullScreen=="undefined"?null:n.isFullScreen?mejs.i18n.t("mejs.fullscreen-off"):mejs.i18n.t("mejs.fullscreen-on")},click:function(n){n.isFullScreen?n.exitFullScreen():n.enterFullScreen()}},{render:function(n){return n.media.muted?mejs.i18n.t("mejs.unmute"):mejs.i18n.t("mejs.mute")},click:function(n){n.media.muted?n.setMuted(!1):n.setMuted(!0)}},{isSeparator:!0},{render:function(){return mejs.i18n.t("mejs.download-video")},click:function(n){window.location.href=n.media.currentSrc}}]});n.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(t){t.contextMenu=n('<div class="mejs-contextmenu"><\/div>').appendTo(n("body")).hide();t.container.bind("contextmenu",function(n){if(t.isContextMenuEnabled)return n.preventDefault(),t.renderContextMenu(n.clientX-1,n.clientY-1),!1});t.container.bind("click",function(){t.contextMenu.hide()});t.contextMenu.bind("mouseleave",function(){t.startContextMenuTimer()})},cleancontextmenu:function(n){n.contextMenu.remove()},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var n=this;n.killContextMenuTimer();n.contextMenuTimer=setTimeout(function(){n.hideContextMenu();n.killContextMenuTimer()},750)},killContextMenuTimer:function(){var n=this.contextMenuTimer;n!=null&&(clearTimeout(n),delete n,n=null)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(t,i){for(var o,r=this,f="",e=r.options.contextMenuItems,u=0,s=e.length;u<s;u++)e[u].isSeparator?f+='<div class="mejs-contextmenu-separator"><\/div>':(o=e[u].render(r),o!=null&&(f+='<div class="mejs-contextmenu-item" data-itemindex="'+u+'" id="element-'+Math.random()*1e6+'">'+o+"<\/div>"));r.contextMenu.empty().append(n(f)).css({top:i,left:t}).show();r.contextMenu.find(".mejs-contextmenu-item").each(function(){var i=n(this),u=parseInt(i.data("itemindex"),10),t=r.options.contextMenuItems[u];typeof t.show!="undefined"&&t.show(i,r);i.click(function(){typeof t.click!="undefined"&&t.click(r);r.contextMenu.hide()})});setTimeout(function(){r.killControlsTimer("rev3")},100)}})}(mejs.$),function(n){n.extend(mejs.MepDefaults,{skipBackInterval:30,skipBackText:""});n.extend(MediaElementPlayer.prototype,{buildskipback:function(t,i,r,u){var f=this,o=mejs.i18n.t("mejs.time-skip-back",f.options.skipBackInterval),e=f.options.skipBackText?f.options.skipBackText:o,s=n('<div class="mejs-button mejs-skip-back-button"><button type="button" aria-controls="'+f.id+'" title="'+e+'" aria-label="'+e+'">'+f.options.skipBackInterval+"<\/button><\/div>").appendTo(i).click(function(){u.setCurrentTime(Math.max(u.currentTime-f.options.skipBackInterval,0));n(this).find("button").blur()})}})}(mejs.$),function(n){n.extend(mejs.MepDefaults,{postrollCloseText:""});n.extend(MediaElementPlayer.prototype,{buildpostroll:function(t,i,r){var u=this,e=u.options.postrollCloseText?u.options.postrollCloseText:mejs.i18n.t("mejs.close"),f=u.container.find('link[rel="postroll"]').attr("href");typeof f!="undefined"&&(t.postroll=n('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+e+'<\/a><div class="mejs-postroll-layer-content"><\/div><\/div>').prependTo(r).hide(),u.media.addEventListener("ended",function(){n.ajax({dataType:"html",url:f,success:function(n){r.find(".mejs-postroll-layer-content").html(n)}});t.postroll.show()},!1))}})}(mejs.$),function(n){n.extend(mejs.MepDefaults,{markerColor:"#E9BC3D",markers:[],markerCallback:function(){}});n.extend(MediaElementPlayer.prototype,{buildmarkers:function(n,t,i,r){for(var h=this,u=0,f=-1,e=-1,s=-1,o=-1,u=0;u<n.options.markers.length;++u)t.find(".mejs-time-total").append('<span class="mejs-time-marker"><\/span>');r.addEventListener("durationchange",function(){n.setmarkers(t)});r.addEventListener("timeupdate",function(){for(f=Math.floor(r.currentTime),s>f?o>f&&(o=-1):s=f,u=0;u<n.options.markers.length;++u)e=Math.floor(n.options.markers[u]),f===e&&e!==o&&(n.options.markerCallback(r,r.currentTime),o=e)},!1)},setmarkers:function(t){for(var i=this,r=0,u,r=0;r<i.options.markers.length;++r)Math.floor(i.options.markers[r])<=i.media.duration&&Math.floor(i.options.markers[r])>=0&&(u=100*Math.floor(i.options.markers[r])/i.media.duration,n(t.find(".mejs-time-marker")[r]).css({width:"1px",left:u+"%",background:i.options.markerColor}))}})}(mejs.$);$(function(){function w(){var n=$(".banner-call");n.length>0&&!n.hasClass("embedded")&&(n.find(".columns.hide-small").is(":visible")||n.hasClass("detached")?!n.is(":visible")&&n.hasClass("detached")&&(n.detach(),$(".bg-container").before(n.removeClass("detached"))):(n.detach(),$("#tab-latest").children("article:nth-of-type(2)").after(n.addClass("detached"))))}function ot(n){$(n).validate({ignore:":hidden:not(input[type='file'])",highlight:function(n){$(n).hasClass("file-upload")?$(n).parent().addClass("no-file"):($(n).addClass("error"),$(n).removeClass("success"))},unhighlight:function(n){$(n).hasClass("file-upload")?$(n).parent().removeClass("no-file"):($(n).removeClass("error"),$(n).addClass("success"))},errorPlacement:function(n,t){$(t).hasClass("file-upload")?n.appendTo($(".file-upload-container")):n.insertAfter(t)},rules:{lastname:{required:!0},firstname:{required:!0},email:{required:!0,email:!0},website:{url:!0},password:{required:!0,minlength:6},"password-confirmation":{required:!0,minlength:6,equalTo:"#password"},friendname:{required:!0},friendemail:{required:!0,email:!0},attachments:{required:!0},CCMonth:{required:!0,digits:!0,minlength:2},CCYear:{required:!0,digits:!0,minlength:2}},messages:{firstname:{required:"Please enter your first name"},lastname:{required:"Please enter your last name"},email:{required:"Please provide your email address",email:"Please enter a valid email address"},website:{url:"Please enter a valid URL."},password:{required:"Please provide a password",minlength:"Your password must be at least 6 characters long."},"password-confirmation":{required:"Please confirm your password",minlength:"Your password must be at least 6 characters long.",equalTo:"Please enter the same password as above"},yourname:{required:"Please enter your name."},friendname:{required:"Please enter your friend's name."},friendemail:{required:"Please provide your friend's email address",email:"Please enter a valid email address"},emailsubject:{required:"Please enter the subject of your request."},body:{required:"Please provide more details about your request."},phone:{required:"Please enter a phone number."},organisation:{required:"Please enter an organization or educational institution."},attachments:{required:"Please add an attachment."},CCYear:{required:"Please enter a year.",digits:"Please enter the expiration year in numbers"},CCMonth:{required:"Please enter a month.",digits:"Please enter the expiration month in numbers"}},validClass:"success",submitHandler:function(t){var i,r;$(n).hasClass("registration")&&(i=Piwik.getTracker(FlowliWatConfig.TrackerServerUrl+"piwik.php",FlowliWatConfig.SiteId),$("#referrer-src").length>0?(ga("send","event","registration","archive"),i.trackGoal(2)):(ga("send","event","registration","general"),i.trackGoal(3)),r=$("#registration-type").val(),r=="temporary"?(ga("send","event","registration-type","temporary"),i.trackGoal(4)):r=="full"&&(ga("send","event","registration-type","full"),i.trackGoal(5)));t.submit()}})}function st(n){var t=n.find("li.visible");return t.next().length>0?t.next():n.find("li:first")}function d(n,t){var i=n.find("li.visible");i.removeClass("visible").find("article");t.addClass("visible").find("article")}function f(n,t,i,r){var f=$("#comments-wrapper"),u=$("#comments-column"),e=u.outerWidth(),o=u.offset().left;if(r){var c=$(".default").width(),s=$(".default>.columns:first-of-type"),h=s.innerWidth();e=c-h;o=s.offset().left+h+20}n?u.addClass("sticky").css({left:o,height:"",position:""}).outerWidth(e):t?u.removeClass("sticky").css({left:"",width:"",height:"",position:""}):i?u.removeClass("sticky").css({height:f.prev().height()+40,"left:":"",position:"",width:""}):u.removeClass("sticky").css({height:f.prev().height()+40,position:"absolute",left:f.css("padding-left")})}function ht(n){if($(".commentary").length>0&&$("#paywall-barrier").length==0){var t=$(window).scrollTop(),i=t+$(window).height();t>e+$(".banner").outerHeight()&&i<$(document).height()-o?$("#comments-column").hasClass("comments-visible")&&f(!0,!1,!1,n):i>$(document).height()-o&&t>e+$(".banner").outerHeight()?$("#comments-column").hasClass("comments-visible")&&f(!1,!1,!1,n):t<e+$(".banner").outerHeight()?$("#comments-column").hasClass("comments-visible")&&f(!1,!1,!0,n):f(!1,!0,!1,n)}}function l(n){if($(window).width()>=980&&!$("body").hasClass("cleansheet"))ht(n);else{var t=$("#comments-column");t.removeClass("sticky").css({left:"",width:"",height:"",position:""})}}function tt(n){n||$("a",this).remove()}function ct(){var n=$(".about #about-testimonials ~ blockquote");n.length>0&&(n.dotdotdot(i),$('<a class="testimonial-read-more" href="#">Read more<\/a>').insertAfter(n))}function lt(){var n=$(".tabs .visible"),t=n.find("a.atabs");it(t)}function it(n){var t=n,i=t.parent(),r;return i.siblings().removeClass("visible"),i.addClass("visible"),$(".tab").removeClass("visible"),r=t.data("target"),$("#"+r).addClass("visible"),$(window).trigger("scroll"),!1}function ut(){var n=!1,t=$("#recaptcha_challenge_field").val(),i=$("#recaptcha_response_field").val();return vt=t,at=i,$.ajax({url:"/captcha/CheckCaptachResponse?captchaResponse="+i+"&challengeKey="+t,type:"POST",async:!1}).done(function(t){t!=null&&t=="true"&&(n=!0)}),n}function r(n){n=="show"?$("#flowli_custom_captcha").show():n=="hide"?$("#flowli_custom_captcha").hide():n=="hideError"?s.hide():n=="showError"?s.show():n=="showSuccess"&&$("#recaptcha_success").show()}function a(){var n=$(".file-upload"),t=$(".file-upload").length;n.each(function(){var n=$(this),i=n.parent("label"),r=n.prev("span").text(),u=i.parent(".file-upload-container").clone();n.on("change",function(n){var f=n.target.value.split("\\").pop();f?(i.addClass("has-file").find("span").text(f),t<5?(u.insertAfter(i.parent(".file-upload-container")),a()):$("#file-notif").removeClass("hidden")):i.find("span").text(r)});n.on("focus",function(){n.addClass("has-focus")}).on("blur",function(){n.removeClass("has-focus")})});$(".remove-file").click(function(n){var t,i;n.stopImmediatePropagation();n.preventDefault();t=$(".remove-file").length;t==1?($(this).addClass("hidden"),i=$(this).prev("label"),i.html("Choose file&hellip;"),i.child("input").val("")):t>4?($(this).parent("li").remove(),$("#file-notif").addClass("hidden")):$(this).parent("li").remove()})}function et(t){t!==""?$.ajax({url:"/feedback/getformfields",type:"GET",data:{feedbackType:t}}).done(function(t){t!=undefined&&t!==""?($("#feedback-form-fields").empty().append(t),n.removeClass("hidden"),a()):$("#general-email-error").html("Something has gone wrong, please try again or contact the support").show()}):($("#feedback-form-fields").empty(),n.addClass("hidden"))}function y(n){var t=$("#"+n);(!t.hasClass("cookie-hide")||t.hasClass("cookie-hide")&&$.cookie(n)!="true")&&($(t).show(),$(".popup-overlay").filter("[id="+n+"]").show())}function yt(n,t){n.keydown(function(){t.css("display")!="none"&&t.hide()})}function pt(n){var t=!1;return $.ajax({type:"POST",url:"/newsletter/checkemail",data:{email:n},async:!1,dataType:"json"}).done(function(n){t=n.exists}),t}function wt(n){var t=new RegExp("\\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}\\b","gi");return t.test(n)}function bt(){var n=$("#comment-users").prop("checked"),t=$("#comment-experts").prop("checked");n?$("#comments li.user").fadeIn("fast"):$("#comments li.user").fadeOut("fast");t?$("#comments li.expert").fadeIn("fast"):$("#comments li.expert").fadeOut("fast")}function kt(){var n=$("#show-monthly").hasClass("current"),t=$("#show-all").hasClass("current");return n?$(".searchable:not(.monthly)").hide():t&&$(".searchable").show(),!1}function h(n){if(n!=""){var t="english",i="relevance",r="desc",u=$("#languages"),f=$("#sortorder"),e=$("#sortby");u.length>0&&(t=u.val());e.length>0&&(i=e.val());f.length>0&&(r=f.val());document.location.href="/search?query="+encodeURIComponent(n)+"&language="+t+"&sortBy="+i+"&sortOrder="+r}}function dt(n){n.preventDefault();var t=$(n.target),i=parseInt(t.attr("data-skip")),r=parseInt(t.attr("data-take")),f=parseInt(t.attr("data-total")),e=t.attr("data-url"),u=t.attr("data-container"),o=t.attr("data-sort-by"),s=t.attr("data-sort-order");$.ajax({url:"/get/"+e+"&skip="+i+"&take="+r+"&sortby="+o+"&sortOrder="+s,dataType:"html"}).done(function(n){var e,o;n!=null&&(e=t.parent(),u?(o=$(u),o.length>0&&o.append(n)):e.before(n),i=i+r,i>=f?e.hide():t.attr("data-skip",i),$("img.lazy").show().lazyload())})}function gt(n){$.ajax({url:"/get/"+n.url+"&skip="+n.skip+"&take="+n.take,dataType:"html"}).done(function(t){t!=null&&($(n.container).html(t),$("img.lazy").show().lazyload())})}function ni(n){return n.length<6?!1:n.match(".*[A-Z].*")?n.match(".*[a-z].*")?n.match(".*\\d.*")?n.match("[^A-Za-z0-9\\s]")?!0:!1:!1:!1:!1}function ti(n){var r=0,t=n.find("article"),f=t.height(),i=0,e=t.find("a").children().not(".truncate").each(function(){i=i+$(this).height()}),u;r=f-i-30;u={height:r,after:"a",watch:"window",callback:tt};t.find(".truncate").dotdotdot(u)}var b,k,c,o,u,nt,i,rt,n,ft,v,p;w();$("input, textarea").placeholder();$(".printme").click(function(){return window.print(),!1});$.validator.addMethod("completeUrl",function(n,t){return $(t).val().length==0?!0:(/^(https):\/\//i.test(n)||(n="https://"+n,$(t).val(n)),/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n))});jQuery.validator.addClassRules({required:{required:!0,minlength:1},email:{required:!0,email:!0}});b=$(".user-input-form");b.each(function(n,t){ot(t)});$(".support-link").click(function(){var n=Piwik.getTracker(FlowliWatConfig.TrackerServerUrl+"piwik.php",FlowliWatConfig.SiteId);n.trackGoal(8);ga("send","event","donation","call")});k=$(".paywall-track");k.length>0&&(ga("send","event","paywallPopup","displayed"),$(".paywall-sign-in").click(function(){ga("send","event","paywallPopup","login")}),$(".paywall-register").click(function(){ga("send","event","paywallPopup","register")}));$("img.lazy").show().lazyload({effect:"fadeIn"});$(".sub-nav .ico-after").click(function(){var n=$(this).parent("li");return n.hasClass("expanded")?n.removeClass("expanded"):n.addClass("expanded"),!1});$("body").on("click",".caller",function(n){var i=$(this),t;return i.hasClass("active")?($(".active:not(.keep)").removeClass("active"),$("body").hasClass("mobile-menu")&&$("body").removeClass("mobile-menu"),$("body").addClass("interacting")):($(".active:not(.keep)").removeClass("active"),i.addClass("active"),t=i.data("target"),$("#"+t).addClass("active"),t==="main-mobile-nav"&&$("body").addClass("mobile-menu"),t==="nav-search"&&$("#"+t+" input[type=search]").focus(),$("body").addClass("interacting")),n.preventDefault(),!1});$(".closer").click(function(n){return $(".active:not(.keep)").removeClass("active"),$("body").hasClass("mobile-menu")&&$("body").removeClass("mobile-menu"),$("body").addClass("interacting"),n.preventDefault&&n.preventDefault(),!1});$(document).click(function(n){if(!$(n.target).hasClass("no-hide")&&!$(n.target).hasClass("read-more")&&!$(n.target).parents().hasClass("no-hide")&&!$(n.target).attr("href")&&$("body").hasClass("interacting")){var t=$(".active").removeClass("active");return $("body").removeClass("mobile-menu").removeClass("interacting"),!1}});$(".accordion").click(function(){return $(this).toggleClass("active"),!1});$("figure.lightbox").click(function(){$(this).toggleClass("on");$(this).setFigcaptionTopMargin()}).children("img").click(function(){return!$(this).parent().parent("figure.lightbox").hasClass("on")});$.fn.setFigcaptionTopMargin=function(){if(console.log($(this)),$(this).hasClass("on")){var n=$(window).height()/2+$(this).find("img").height()/2;$(this).find("figcaption").css("margin-top",n)}else $(this).find("figcaption").css("margin-top",0)};c=!1;$(".article-carousel li .article-preview-tab").hoverIntent(function(){c=!0;d($(".article-carousel"),$(this).parent())});setInterval(function(){c==!1&&d($(".article-carousel"),st($(".article-carousel")))},9e3);var t=$("#header"),g=$("#footer"),e=0;t.length>0&&(e=t.offset().top+t.height());o=0;g.length>0&&(o=g.height()+50);$("#p:before").click(function(){console.log("e")});u=$("#debates-header-container");u.length?u.headroom({offset:u.height()+35,classes:{pinned:"pinned",top:"top"},onPin:function(){t.prev().css("margin-bottom",u.height())},onUnpin:function(){t.prev().css("margin-bottom","")},onTop:function(){t.prev().css("margin-bottom","")}}):t.headroom({offset:t.height(),classes:{pinned:"pinned",top:"top"},onPin:function(){t.prev().css("margin-bottom",t.height())},onUnpin:function(){t.prev().css("margin-bottom","")},onTop:function(){t.prev().css("margin-bottom","")}});nt=function(){var n=0;return function(t,i){clearTimeout(n);n=setTimeout(t,i)}}();$(window).scroll(function(){l(!1)});$(window).resize(function(){nt(function(){l(!0);w()},250)});l(!1);i={height:150,after:"a",watch:"window",callback:tt};$(".show-comments").click(function(n){n.preventDefault();history.pushState?history.pushState(null,null,"#comments"):location.hash="#comments";$("#comments-column").addClass("comments-visible");$(window).trigger("scroll");$("#comments p[itemprop='text']").dotdotdot(i);var t=Piwik.getTracker(FlowliWatConfig.TrackerServerUrl+"piwik.php",FlowliWatConfig.SiteId);t.trackGoal(10);ga("send","event","comments","show")});$(".track-event").click(function(){var n=$(this).data("trackevent");n!==""&&ga("send","event","link-click",n)});$("#comments a.read-more").click(function(n){if(n.preventDefault(),$(this).text()=="Read more"){var t=$(this).closest("p");return t.trigger("destroy").find(".read-more").text("Read less"),!1}return $(this).text("Read more"),$(this).closest("p").dotdotdot(i),!1});$(".close-comments").click(function(n){n.preventDefault();history.pushState?history.pushState(null,null,null):location.hash="";$("#comments-column").removeClass("comments-visible");f(!1,!0);ga("send","event","comments","hide")});$(document).on("click",".about .testimonial-read-more",function(n){if(n.preventDefault(),$(this).text()=="Read more"){var t=$(this).prev("blockquote");return t.trigger("destroy"),$(this).text("Read less"),!1}return $(this).text("Read more"),$(this).prev("blockquote").dotdotdot(i),!1});ct();lt();$(".tabs a.atabs").click(function(n){n.preventDefault();it($(this));$(this).attr("data-target")=="tab-comments"&&$("#comments p[itemprop='commentText']").dotdotdot(i)});rt=new RegExp(location.host);$("a[href^='//'],a[href^='http://'],a[href^='https://']").each(function(){var n=$(this).attr("href");rt.test(n)==!1&&$(this).attr("target","_blank")});$(".show-popup").click(function(n){var i,t,r,u;n.preventDefault();i=$(this);t=i.data("target");t=="mail-to-friend"?(r=$("body.unauthenticated").length>0,r==!1?y(t):(u=i.data("doc-url"),window.location.href="/login?redirect="+encodeURIComponent(u)+"&backaction=emailfriend")):y(t)});var s=$("#captcha_not_valid"),at="",vt="";$("#recaptcha_response_field").keydown(function(){s.css("display")!="none"&&s.hide()});$(".send-to-friend").click(function(n){var s,i,o;if(n.stopImmediatePropagation(),n.preventDefault(),s=$(this),i=$("#email-to-friend-form"),i.valid()){var l=s.data("doc-url"),u=$("#general-email-error"),f=new FormData,t=i.serializeArray();$.each(t,function(n,t){var i;i=t.name==="recaptcha_challenge_field"?"CaptchaChallenge":t.name==="recaptcha_response_field"?"CaptchaResponse":t.name;f.append(i,t.value)});var h=_.find(t,function(n){return n.name==="recaptcha_challenge_field"}),c=_.find(t,function(n){return n.name==="recaptcha_response_field"}),e=h!=undefined&&h.value!==""&&c!=undefined&&c.value!=="";f.append("WithCaptcha",e);o=!1;e&&!ut()?(o=!0,r("showError"),n.preventDefault()):e&&(r("hide"),r("showSuccess"));o||$.ajax({url:"/email/sendtofriend",data:f,cache:!1,dataType:"json",processData:!1,type:"POST",contentType:!1}).done(function(i){i!=null?i.Success?(n.preventDefault(),window.location.href=l):(n.preventDefault(),t.NoData="",t.Captcha="",t.EmailSending="",_.each(t,function(n,t){var r=i.Result[t.name];r!=undefined&&r!==""&&(t.name.toLowerCase()==="emailsending"||t.name.toLowerCase()==="nodata"?u.html(r).show():$("."+t.name.toLowerCase()+"-error").html(r).show())})):(n.preventDefault(),u.html("An error occurred, please try again later.").show())}).fail(function(){n.preventDefault();u.html("An error occurred, please try again later.").show()})}});$("#signToNewsletter").change(function(){var n=$(this);n.is(":checked")?n.val("true"):n.val("false")});a();n=$("#feedback-form");ft=["firstname","email","lastname","body","organisation","telephone","recaptcha_challenge_field","recaptcha_response_field","submittedfromtitle","submittedfromurl","__requestverificationtoken","feedbacktypekey","address1","address2","town","postcode","country","website"];$("#feedback-send").click(function(t){var f,s,l,e,h;if(t.stopImmediatePropagation(),t.preventDefault(),n.addClass("saving"),n.valid()){var o=$("#general-email-error"),u=new FormData,i=n.serializeArray(),c=n.find('input[name="attachments"]');_.each(c,function(n,t){n.files.length>0&&u.append("attachment-"+t,n.files[0])});f="";s=[];$.each(i,function(t,i){var e,r,o;i.name!=="UserStatus"&&(_.contains(ft,i.name.toLowerCase())||_.contains(s,i.name.toLowerCase())?(o=i.name==="recaptcha_challenge_field"?"CaptchaChallenge":i.name==="recaptcha_response_field"?"CaptchaResponse":i.name,u.append(o,i.value)):(e=n.find('[name="'+i.name+'"]'),r=i.value,e.length>1&&(s.push(i.name.toLowerCase()),r=[],e.each(function(n,t){var i="";$(t).attr("type")==="checkbox"||$(t).attr("type")==="radio"?$(t).is(":checked")&&(i=$(t).val()):i=$(t).val();i!==""&&r.push(i)})),f=f===""?i.name+":"+r:f+"|"+i.name+":"+r))});u.append("Customs",f);l=$('input[name="UserStatus"]').val();e=l==="notok";u.append("WithCaptcha",e);h=!1;e&&!ut()?(h=!0,r("showError"),t.preventDefault()):e&&(r("hide"),r("showSuccess"));h||$.ajax({url:"/Feedback/Send",data:u,cache:!1,dataType:"json",processData:!1,type:"POST",contentType:!1}).done(function(r){if(r!=null)if(r.Success)n.addClass("hidden").removeClass("saving"),$(".feedback-selected-caller").text("Your request has been sent"),$("#feedback-success").removeClass("hidden");else{t.preventDefault();i.push({name:"NoData",value:""});i.push({name:"Captcha",value:""});var u=_.find(i,function(n){return n.name.toLowerCase()=="attachments"});c.length>0&&u==undefined&&i.push({name:"Attachments",value:""});_.each(i,function(n){var t=r.Result[n.name];t!=undefined&&t!==""&&(n.name.toLowerCase()==="nodata"?o.html(t).show():$("."+n.name.toLowerCase()+"-error").html(t).show())});n.removeClass("saving")}else t.preventDefault(),n.removeClass("saving"),o.html("An error occurred, please try again later.").show()}).fail(function(){t.preventDefault();n.removeClass("saving");o.html("An error occurred, please try again later.").show()})}else n.removeClass("saving")});$(".feedback-selected-caller").click(function(){return $(this).text("Select your type of request"),$("#feedback-selector").addClass("active"),!1});v=function(){$("#feedback-form-fields").empty();n.addClass("hidden");$(".feedback-selected-caller").text("Contact us...")};$("#feedback-cancel").click(function(){v()});$(document).click(function(){$("#feedback-selector").hasClass("active")&&(v(),$("#feedback-selector").removeClass("active"))});$("#feedback-selector button").click(function(n){n.stopImmediatePropagation();n.preventDefault();$(".feedback-selected-caller").text($(this).text());$("#feedback-selector").removeClass("active");et($(this).val());$("#feedback-success").hasClass("hidden")||$("#feedback-success").addClass("hidden")});$(".feedback-trigger").click(function(n){n.preventDefault();var i=$(this),t=i.data("feedback-type");$(".feedback-selected-caller").text($("#fbt-"+t).text());et(t);$("html,body").animate({scrollTop:$("#feedback-types-container").offset().top},"slow")});$(".popup-overlay .cancel").click(function(n){var t=$(n.target),i;$(".popup-overlay").hide();t.hasClass("cancel-email-friend")&&(i=t.data("doc-url"),window.location.href=i)});$(window).load(function(){y("paywall-popup")});$(".close-popup").click(function(){var n=$(this).parents(".popup-overlay");n.addClass("hidden");n.hasClass("cookie-hide")&&$.cookie(n.attr("id"),"true",{expires:45})});$("#nl-all").on("click",function(){$(this).closest("fieldset").find(":checkbox").prop("checked",this.checked)});$(".skip-twitter-email").click(function(n){n.preventDefault();var t=$("input[type=hidden][name='redirect-value']"),i="";i=t.val()==""?"/":t.val();window.location.href(i)});$(document).on("click",".subscribe-newsletter",function(n){var r;n.preventDefault();n.stopImmediatePropagation();var u=$('input[id="module-newsletter-email"]'),t=$("span#email-error"),f=$("#signToOnpointNewsletter");yt(u,t);var s=$(this).data("user-logged")==="true",h=f.is(":checked"),i=u.val();if(i===""){t.html("The email is required").show();return}if(i=i.trim(),!wt(i)){t.html("Invalid email, enter a correct one").show();return}r=[];r.push(u.data("newsletter-list"));h&&r.push(f.data("newsletter-list"));var e=!1,o="",c={Email:i,Lists:r};$.ajax({type:"POST",url:"/newsletter/subscribetonewsletter",data:c,async:!1,dataType:"json"}).done(function(n){e=n.success;o=n.message});e?(t.hide(),$("#newsletter-signup-request").hide(),$("#newsletter-signup-result").show(),s||(pt(i)?$("div.has-account").show():$("div.no-account").show())):o=="noemail"?t.html("The email is required").show():t.html("Something went wrong, please check your data and try again.").show()});$("#comment-users, #comment-experts").change(bt);$(".switch").click(function(){var n=$(this);n.addClass("current");n.siblings().removeClass("current");kt()});$(".hide-more > p:gt(0), .hide-more > ul").hide();$(".read-more-text, .read-less-text").click(function(){return $(".hide-more > p:gt(0),.hide-more > ul").slideToggle(),$(".read-more-text, .read-less-text").toggle(),!1});$(document).on("click",".comments-listing a.read-more",function(){var n=$(this);return n.hide(),n.next(".comment-reply").slideDown(),!1});$(document).on("click",".comments-listing a.close",function(){var n=$(this).parents(".comment-reply");return n.slideUp(function(){n.prev("a.read-more").show()}),!1});$("form.search-form").submit(function(n){n.preventDefault?n.preventDefault():n.returnValue=!1;var i=$(n.target),t=$.trim(i.find("input[name=query]").val());t!=""&&h(t)});$(".login-page span.forgot-password, .login-page .back-to-login").click(function(){var n=$(this).parent().parent();n.hide();n.parent().find("form").not(n).show()});$("#sortby").on("change",function(n){n.preventDefault();var t=$("#savedQuery").val();h(t)});$("#sortorder").on("change",function(n){n.preventDefault();var t=$("#savedQuery").val();h(t)});$("#languages").on("change",function(n){n.preventDefault();var t="",i=$("#savedQuery");t=i.length>0?i.val():$("#search-query2").val();h(t)});$("a.more-button[data-skip][data-take][data-total][data-url]").click(dt);$("a.more-button[data-skip][data-take][data-total][data-url][data-immediate-load='true']").each(function(){$(this).click()});$(".paginator[data-url][data-container]").each(function(){$(this).FlowliPaginator({onChanged:gt})});$(".comments-count[data-comment-url]").each(function(){var n=$(this),t=n.attr("data-comment-url");$.trim(t)!=""&&$.ajax({url:"/documentvisittracking/commentscount?url="+t,dataType:"html"}).done(function(t){t!=null&&n.html(t)})});$("#email-change-popup").find(".button-highlight.submit").click(function(n){var h,c,f,r;n.preventDefault();var e=$("#email-change-popup"),o=e.find("input[name=email]"),s=e.find("input[name=password]"),t=o.next("span.error"),i=s.next("span.error"),u=o.val().trim();if(u==""){t.text("Email is required");t.show();return}if(h="\\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}\\b",c=new RegExp(h,"gi"),!c.test(u)){t.text("A valid email is required");t.show();return}if(t.hide(),f=s.val().trim(),f==""){i.text("Your current password is required");i.show();return}i.hide();r={};r.email=u;r.password=f;$.ajax({url:"/flowli/changeemail",type:"POST",dataType:"json",data:r}).done(function(n){if(!n.isValid){"email"in n&&($emailError.text(n.email),$emailError.show());"password"in n&&(i.text(n.password),i.show());return}var t=window.location.href;document.location.href="/session/delete?returnurl="+encodeURIComponent(t)}).fail(function(){alert("An error occurs and your email can't be changed now. Please try it again later")})});$("#password-change-popup").find(".button-highlight.submit").click(function(n){var u;n.preventDefault();var f=$("#password-change-popup"),o=f.find("input[name=password]"),s=f.find("input[name=password-new]"),h=f.find("input[name=password-new-repeat]"),i=o.next("span.error"),t=s.next("span.error"),e=h.next("span.error"),c=o.val().trim(),r=s.val().trim(),l=h.val().trim();if(c==""){i.text("Your current password is required");i.show();return}if(i.hide(),r==""){t.text("Enter your new password");t.show();return}if(r.length<6){t.text("Password is required and must be at least 6 characters");t.show();return}if(!ni(r)){t.text("Password not strong. It must meet the following criteria: at least one number, one upper character and one symbol");t.show();return}if(t.hide(),l!=r){e.text("The repeat password field must match the password field");e.show();return}e.hide();u={};u.password=r;u.repeatPassword=l;u.currentPassword=c;$.ajax({url:"/flowli/changepassword",type:"POST",dataType:"json",data:u}).done(function(n){if(!n.isValid){"currentPassword"in n&&(i.text(n.currentPassword),i.show());"password"in n&&(t.text(n.password),t.show());return}var r=window.location.href;document.location.href="/session/delete?returnurl="+encodeURIComponent(r)}).fail(function(){alert("An error occurs and your password can't be changed now. Please try it again later")})});$(".twitter-duplicate-account").click(function(){var n=$(this),t=n.data("psmember-id"),i=n.data("new-created-id"),r="/PsEmail/SendDuplicatedAccount?psMemberId="+t+"&newCreatedUserId="+i;$.post(r,{psMemberId:t,newCreatedUserId:i})});$(".twitter-forgot-password").click(function(n){n.preventDefault();$(".step-twitter-password").hide();$(".twitter-password-reset").show()});$(".twitter-back-to-password").click(function(n){n.preventDefault();$(".step-twitter-password").show();$(".twitter-password-reset").hide()});$(".flex-space").each(function(){ti($(this))});p=$("#contactCategories");p.length>0&&p.select2({placeholder:"Choose a topic",allowClear:!0});$(".piwik_download").click(function(){var n=Piwik.getTracker(FlowliWatConfig.TrackerServerUrl+"piwik.php",FlowliWatConfig.SiteId);ga("send","event","download",$(this).attr("title"));n.trackEvent("Download","downloaded",$(this).attr("title"))});$(".sticky__sidebar").stick_in_parent({parent:".row.default",offset_top:20});$("video").mediaelementplayer({startLanguage:"en"});$("video").on("play pause seeked ended",function(n){var t=Piwik.getTracker(FlowliWatConfig.TrackerServerUrl+"piwik.php",FlowliWatConfig.SiteId);ga("send","event","Video",n.type,$(this).parents(".plyr").attr("data-file-url"));t.trackEvent(["Video",n.type,$(this).parents(".plyr").attr("data-file-url")])})});
//# sourceMappingURL=PS.min.js.map
