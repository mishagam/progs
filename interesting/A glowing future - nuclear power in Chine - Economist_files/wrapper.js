"use strict";function isReady(){return isContainerReady}function setSWFReady(){isSWFReady=!0}function formatToNumber(a,b){if("number"==typeof a)return a;var c;return a.indexOf("%")!=-1?(c=parseInt(a.split("%")[0]),c=b*c/100):c=a.indexOf("px")!=-1?parseInt(a.split("px")[0]):parseInt(a),c}function getParameterByName(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))}function AutoPlayerDetect(a,b,c,d,e){this.ADTYPE={WRAPPER:"Wrapper",INLINE:"InLine",INVALID:"InValid"},this.playerId="",this.adtag="",this.wrapperElement={},this.inlineElement={},this.domainPath=a,this.speedKbps=0,this.speedBps=0,this.isSecure=b,this.PLAYERTYPE={FLASH:"flash",HTML5:"html5"},this.xmlDataMap=new DataMap,this.filteredMediaSources=[],this.isXMLTag=!1,this.debugMode=c,this.errorURLTemplates=[],this.onAdErrorCallback=d,this.onErrorCallback=e,this.adId=[],this.sources=[],this.extParams=[],this.currentPlayerType="",this.responseTime=new Date,this.customTrackers=new Object,this.customTrackers.customScripts={},this.customTrackers.customTrackingEvents={},this.recordedTime={startTime:null,responseTime:null}}function MediaFile(){this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.apiFramework=null,this.scalable=!1,this.maintainAspectRatio=null,this.width=0,this.height=0}function ParallelProcessor(a,b,c,d,e,f,g,h,i,j,k){this.orderedVasts=[],this.waitForAdMaxMs=c.waitForAdMaxMs,this.selectionDelayMs=c.selectionDelayMs;var l=a.parentId;Object();this.dataModel=b,this.config=a,this.impressionOccured=!1,this.stopReceived=!1,this.startAdReceived=!1,this.currentIndex=0,this.registerCallback=d,this.allFailedCallback=e,this.getApiMemory=f,this.hidePlayer=g,this.readyCallback=h,this.adReadyCallback=i,this.setSelectedPlayerType=k,this.waitForLimoStatMS=5e3,this.selectionTimerFired=!1,this.loadPlayer=j;for(var m=0;m<c.orderedVasts.length;m++)l=this.config.parentId+(m+1),zUtils.createChildDiv(this.config.parentId,l),this.orderedVasts.push({adtag:c.orderedVasts[m],playerId:l});this.orderedVastLength=this.orderedVasts.length,this.maxParallelism=c.maxParallelism,this.noOfTagsInitlizedAfterErr=c.noOfTagsInitlizedAfterErr;var n=this,o=function(){if(!n.impressionOccured)if(n.stopSelection())n.forceDie();else{var a=function(){n.impressionOccured||n.forceDie()};zUtils.log("log"," Parallel Processor is in limbo state waitForLimo "+n.waitForLimoStatMS),setTimeout(a,n.waitForLimoStatMS)}};nullOrUndefined(n.waitForAdMaxMs)||(zUtils.log("log"," stopParallelProcessor Timer Started "+n.waitForAdMaxMs),setTimeout(o,n.waitForAdMaxMs))}function DebugEvents(){}function DebugLogEvent(a,b,c){this.parsedEvents=a.customTrackingEvents,this.cLog=b,this.playerId=c}function DebugPlayer(a,b,c,d){this.playerObj=a,this.debgLgEvt=b,this.cLog=c,this.onAdReady=function(){},this.onAdImpression=function(){},this.onAdError=function(){},this.onStartAd=function(){},this.onAdCompanions=function(){},this.onReady=function(){},this.onPlay=function(a){},this.onComplete=function(){},this.onBeforeComplete=function(){},this.onVolume=function(){},this.onFullscreen=function(){},this.onResize=function(){},this.onMuteChange=function(){},this.onPause=function(){},this.onBuffer=function(){},this.onError=function(){},this.onAdComplete=function(){},this.onAdSkipped=function(){},this.onNonLinearAd=function(){},this.onBeforePlay=function(){},this.onAdTime=function(){},this.onSeek=function(){},this.onTime=function(){},this.onAdClick=function(){},this.onAdStarted=function(){},this.onAdStopped=function(){},this.onAdUserClose=function(){},this.onClick=function(){},this.onAdClosed=function(){},this.onVpaidAdFirstQuartile=function(){},this.onVpaidAdMidpoint=function(){},this.onVpaidAdThirdQuartile=function(){},this.isStartAdCalled=!1,this.isAdImpressionCalled=!1,this.isAdComplete=!1,this.pReadyTime=0,this.adReadyTime=0,this.startAdTime=0,this.adImprTime=0,this.adErrorTime=0,this.id=this.playerObj.id;var e=this;this.eventSeqObj=d;var f=function(a){var b=nullOrUndefined(a)?"":a.toLowerCase();return"vast"==b?"1":"vpaid"==b?"2":"N"};this.playerObj.onAdReady=function(a){e.adReadyTime=zUtils.getCurrentTime();try{e.debgLgEvt.trackEvent(DebugEvents.AD_READY),e.eventSeqLog("AdAvailability",this.id+"_Y",e.getTimeFrom(e.pReadyTime,e.adReadyTime)),e.eventSeqLog("AvailableAdApi",this.id+"_"+f(a.adType),"")}catch(a){}e.onAdReady(a)},this.playerObj.onAdImpression=function(a,b){e.adImprTime=zUtils.getCurrentTime();try{e.eventSeqLog("AdResult",this.id+"_I",e.getTimeFrom(e.startAdTime,e.adImprTime)),e.eventSeqLog("AdResultType",this.id+"_"+f(a.adType),e.getTimeFrom(e.startAdTime,e.adImprTime))}catch(a){}e.isAdImpressionCalled=!0,e.onAdImpression(a,b)},this.playerObj.onAdError=function(a,b,c){zUtils.log("log"," DebugPlayer :: onAdError,  isStartAdCalled "+e.isStartAdCalled+" isAdImpressionCalled "+e.isAdImpressionCalled,this.cLog),e.adErrorTime=zUtils.getCurrentTime(),e.isStartAdCalled&&!e.isAdImpressionCalled?(e.eventSeqLog("AdAvailability",this.id+"_N",e.getTimeFrom(e.pReadyTime,e.adErrorTime)),e.debgLgEvt.trackEvent(DebugEvents.FALSE_POSITIVE)):e.isAdImpressionCalled&&!this.isAdComplete&&(e.eventSeqLog("AdResult",this.id+"_N",e.getTimeFrom(e.startAdTime,e.adErrorTime)),e.debgLgEvt.trackEvent(DebugEvents.FALSE_IMPRESSION)),e.onAdError(a,b,c)},this.playerObj.onStartAd=function(){e.isStartAdCalled=!0,e.debgLgEvt.trackEvent(DebugEvents.AD_SELECTED),e.startAdTime=zUtils.getCurrentTime(),e.eventSeqLog("AdStarted",this.id,e.getTimeFrom(e.adReadyTime,e.startAdTime)),e.onStartAd()},this.playerObj.onAdCompanions=function(a,b){e.onAdCompanions(a,b)},this.playerObj.onReady=function(){e.onReady(),e.pReadyTime=zUtils.getCurrentTime(),e.eventSeqLog("PlayerReady",this.id+"_LoadTime",e.getTimeFrom(e.eventSeqObj.basePlayerStartTime,e.pReadyTime))},this.playerObj.onPlay=function(a){e.onPlay(a)},this.playerObj.onComplete=function(){e.onComplete()},this.playerObj.onBeforeComplete=function(){e.onBeforeComplete()},this.playerObj.onVolume=function(a){e.onVolume(a)},this.playerObj.onFullscreen=function(a){e.onFullscreen(a)},this.playerObj.onResize=function(a,b){e.onResize(a,b)},this.playerObj.onMuteChange=function(a){e.onMuteChange(a)},this.playerObj.onPause=function(a){e.onPause(a)},this.playerObj.onBuffer=function(a){e.onBuffer(a)},this.playerObj.onError=function(a){e.onError(a)},this.playerObj.onAdComplete=function(a){e.onAdComplete(a)},this.playerObj.onAdSkipped=function(){e.onAdSkipped()},this.playerObj.onNonLinearAd=function(){e.onNonLinearAd()},this.playerObj.onBeforePlay=function(){e.onBeforePlay()},this.playerObj.onAdTime=function(a,b,c){e.onAdTime(a,b,c)},this.playerObj.onSeek=function(a,b){e.onSeek(a,b)},this.playerObj.onTime=function(a,b){e.onTime(a,b)},this.playerObj.onAdClick=function(a,b){e.onAdClick(a,b)},this.playerObj.onAdStarted=function(){e.onAdStarted()},this.playerObj.onAdStopped=function(){e.onAdStopped()},this.playerObj.onAdUserClose=function(){e.onAdUserClose()},this.playerObj.onClick=function(){e.onClick()},this.playerObj.onAdClosed=function(){e.onAdClosed()},this.playerObj.onVpaidAdFirstQuartile=function(){e.onVpaidAdFirstQuartile()},this.playerObj.onVpaidAdMidpoint=function(){e.onVpaidAdMidpoint()},this.playerObj.onVpaidAdThirdQuartile=function(){e.onVpaidAdThirdQuartile()},e.debgLgEvt.trackEvent(DebugEvents.RESPONSE_RECEIVED)}function MACRO(){}function zAppendRandomNum(a){var b;return b=a.indexOf("?")==-1?"?":"&",a+=b+""+Math.round(1e10*Math.random())}function EventSeqLogger(a,b,c){this.events=[],this.enableLogger=b,this.DEFAULT_ALLOWED_LOGEVT_LIMIT=15,this.basePlayerStartTime=c,EventSeqLogger.EventSeqLoggerMap[a]=this}function nullOrUndefined(a){return"undefined"==typeof a||null==a}function getScriptParams(){var a=document.getElementsByTagName("script"),b=a[0],c=b.getAttribute("src");return null==c?null:b.getAttribute("src").split("?")[1]}function apiMemory(){this.btnParams=[],this.buttonShow=[],this.width=null,this.height=null,this.mute=null,this.volume=null}function XHRURLHandler(){}function FlashURLHandler(){}function TokenChecker(){this.debugTokenDecryptorObj=new DebugTokenDecryptor,this.TOKENDATERANGE=7,this.tokenKey="QWASZX12"}function DebugTokenDecryptor(){this.key="SXGWLZPDOKFIVUHJYTQBNMACERxswgzldpkoifuvjhtybqmncare"}function JsScriptExecutor(){}if("undefined"!=typeof VideoPlayer&&"undefined"!=typeof window.VideoPlayer);else{var VideoPlayer=function(a,b){function c(a){console&&console.log&&console.log(a)}function d(a){return"undefined"==typeof a||null==a}this.id=a,this.parentDiv=document.getElementById(a),this.iframeElement=document.createElement("iframe"),this.companionDiv=document.createElement("div"),this.fullscreen=null,this.volume=1,this.currentWidth=0,this.currentHeight=0,this.isMuted=!1,this.controlsEnabled=!1,this.duration=0,this.currentPosition=0,this.config=b,this.isMobileDevice=!1,this.isiOSDevice=!1,this.isWindowsDevice=!1,this.onReadyCalled=!1,this.domainPath=b.domainPath+"HTML/app/",this.clickThrough=null,this.ipadDivStyle={},VideoPlayer.PlayerStates={PLAYING:"PLAYING",PAUSED:"PAUSED",BUFFERING:"BUFFERING",STOP:"IDLE"},this.currentState=VideoPlayer.PlayerStates.STOP,this.onReady=function(){this.onReadyCalled=!0},this.onError=function(){},this.onPlay=function(){},this.onPause=function(){},this.onBuffer=function(){},this.onComplete=function(){},this.onVolume=function(){},this.onFullscreen=function(a){},this.onResize=function(){},this.onMuteChange=function(){},this.onAdReady=function(a){},this.onAdComplete=function(){},this.onAdStopped=function(){},this.onAdUserClose=function(){},this.onStartAd=function(){},this.onAdCompanions=function(){},this.onNonLinearAd=function(){},this.onBeforePlay=function(){},this.onAdImpression=function(){},this.onAdClick=function(){},this.onAdSkipped=function(){},this.onAdTime=function(){},this.onBeforeComplete=function(){},this.onAdError=function(){},this.onSeek=function(){},this.onTime=function(){},this.onClick=function(){},this.onInitialized=function(){},this.onVpaidAdFirstQuartile=function(){},this.onVpaidAdMidpoint=function(){},this.onVpaidAdThirdQuartile=function(){},this.setConfig=function(a){try{d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.setConfig(a)}catch(a){console.error("videoplayer:: error calling setConfig ",a)}},this.isFullScreen=function(){try{if(!d(this.iframeElement.contentWindow))return this.fullscreen}catch(a){console.error("videoplayer:: error calling isFullScreen ",a)}},this.playPause=function(){try{d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.playPause()}catch(a){console.error("videoplayer:: error calling playPause",a)}},this.getVolume=function(){try{if(!d(this.iframeElement.contentWindow))return this.volume=100*this.iframeElement.contentWindow.getVolume(),this.volume}catch(a){console.error("videoplayer:: error calling getVolume",a)}},this.hideDefaultControls=function(){try{d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.hideDefaultControls(!0)}catch(a){console.error("videoplayer:: error calling hideDefaultControls ",a)}},this.showDefaultControls=function(){try{d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.hideDefaultControls(!1)}catch(a){console.error("videoplayer:: error calling showDefaultControls ",a)}},this.setVolume=function(a){try{d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.setVolume(a)}catch(a){console.error("videoplayer:: error calling setVolume ",a)}},this.mute=function(a){try{d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.setMuted(a)}catch(a){console.error("videoplayer:: error calling setmute ",a)}},this.isMute=function(){try{if(!d(this.iframeElement.contentWindow))return this.iframeElement.contentWindow.isMuted()}catch(a){console.error("videoplayer:: error calling isMuted ",a)}},this.play=function(a){try{d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.playEvent(a)}catch(a){console.error("videoplayer:: error calling play ",a)}},this.pause=function(){try{d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.pause()}catch(a){console.error("videoplayer:: error calling pause ",a)}},this.stop=function(){try{d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.stop()}catch(a){console.error("videoplayer:: error calling stop ",a)}},this.seek=function(a){try{d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.seek(a)}catch(a){console.error("videoplayer:: error calling seek ",a)}},this.getControlsState=function(){try{if(!d(this.iframeElement.contentWindow))return this.iframeElement.contentWindow.areControlsEnabled()}catch(a){console.error("videoplayer:: error calling getControlsState ",a)}},this.getControlsEnabled=function(){try{if(!d(this.iframeElement.contentWindow))return this.iframeElement.contentWindow.areControlsEnabled()}catch(a){console.error("videoplayer:: error calling getControlsEnabled ",a)}},this.resize=function(a,b){try{var c=this.formatToNumber(b,this.parentDiv.style.height),e=this.formatToNumber(a,this.parentDiv.style.width);this.parentDiv.style.width=e,this.parentDiv.style.height=c,d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.resize(e,c)}catch(a){console.error("videoplayer:: error calling resize ",a)}},this.addButton=function(a,b,c,e,f,g,h,i,j){try{if(!d(this.iframeElement.contentWindow)){var k={};k.id=e,k.controlposition=f,k.width=i,k.height=j,k.toppadding=h,k.leftpadding=g,k.image=a,k.classname=b,k.functionname="callback_"+e,k.controlHandler=c,this.iframeElement.contentWindow.addButton(k)}}catch(a){console.error("videoplayer:: error calling addButton ",a)}},this.getControlsState=function(){try{if(!d(this.iframeElement.contentWindow))return this.iframeElement.contentWindow.areControlsEnabled()}catch(a){console.error("videoplayer:: error calling getControlsState ",a)}},this.hideButton=function(a){try{d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.hideButton(a)}catch(a){console.error("videoplayer:: error calling hideButton ",a)}},this.showButton=function(a){try{d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.showButton(a)}catch(a){console.error("videoplayer:: error calling showButton ",a)}},this.deleteButton=function(a){try{d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.deleteButton(a)}catch(a){console.error("videoplayer:: error calling deleteButton ",a)}},this.playAd=function(a){try{var b=!1;a.indexOf("<VAST")!=-1&&(b=!0),d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.playAdTag(b,a)}catch(a){console.error("videoplayer:: error calling playAd ",a)}},this.clearAdTag=function(){try{d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.clearAdTag()}catch(a){console.error("videoplayer:: error calling clearAdTag ",a)}},this.startAd=function(){try{d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.startAd()}catch(a){console.error("videoplayer:: error calling startAd ",a)}},this.trackEvent=function(a){try{d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.trackEvent(a)}catch(a){console.error("videoplayer:: error calling trackEvent ",a)}},this.loadContent=function(){try{d(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.loadContent()}catch(a){console.error("videoplayer:: error calling loadContent ",a)}},this.createIframe=function(a){this.iframeElement.id="iframe_"+a,this.iframeElement.src="about:blank",this.iframeElement.setAttribute("allowfullscreen",!0),this.iframeElement.setAttribute("seamless",!0),this.iframeElement.setAttribute("frameborder",0),this.iframeElement.setAttribute("scrolling","no"),this.iframeElement.width="100%",this.iframeElement.height="100%",this.parentDiv.appendChild(this.iframeElement)},this.removeIframe=function(a){this.parentDiv.removeChild(this.iframeElement)},this.createCompanion=function(b,c){this.companionDiv.id="companion_"+a,this.companionDiv.setAttribute("scrolling","no");var d=document.createElement("a"),e=new Image;d.setAttribute("target","_blank"),e.src=b.variations[c].staticResource,e.width=b.variations[c].width,e.height=b.variations[c].height,d.href=b.variations[c].companionClickThroughURLTemplate,d.appendChild(e),this.companionDiv.appendChild(d),this.parentDiv.style.height=this.parentDiv.style.height+b.variations[c].height,this.parentDiv.appendChild(this.companionDiv)},this.setState=function(a){this.currentState=a},this.getState=function(){return this.currentState},this.getSize=function(){return{width:this.currentWidth,height:this.currentHeight}},this.getWidth=function(){return this.currentWidth},this.getHeight=function(){return this.currentHeight},this.getDuration=function(){return this.duration},this.getPosition=function(){return this.currentPosition},this.storeDivStyle=function(){this.ipadDivStyle.top=this.parentDiv.style.top,this.ipadDivStyle.left=this.parentDiv.style.left,this.ipadDivStyle.width=this.parentDiv.style.width,this.ipadDivStyle.height=this.parentDiv.style.height,this.ipadDivStyle.position=this.parentDiv.style.position},this.restoreDivStyle=function(){this.parentDiv.style.top=this.ipadDivStyle.top,this.parentDiv.style.left=this.ipadDivStyle.left,this.parentDiv.style.width=this.ipadDivStyle.width,this.parentDiv.style.height=this.ipadDivStyle.height,this.parentDiv.style.position=this.ipadDivStyle.position},this.formatToNumber=function(a,b){var c;return"number"==typeof a?a+"px":(a.indexOf("%")!==-1?(c=parseInt(a.split("%")[0],10),b.indexOf("%")?b=parseInt(b.split("%")[0],10):b.indexOf("px")&&(b=parseInt(b.split("px")[0],10)),c="undefined"===b||""===b?a:b*c/100):c=a.indexOf("px")!==-1?parseInt(a.split("px")[0],10):parseInt(a,10)+"px",c)},this.isViewable=function(){var a=this.getViewSize();return a.top>=window.pageYOffset&&a.left>=window.pageXOffset&&a.top+a.height<=window.pageYOffset+window.innerHeight&&a.left+a.width<=window.pageXOffset+window.innerWidth},this.isPartialyViewable=function(){var a=this.getViewSize();return a.top<window.pageYOffset+window.innerHeight&&a.left<window.pageXOffset+window.innerWidth&&a.top+a.height>window.pageYOffset&&a.left+a.width>window.pageXOffset},this.getViewSize=function(){var a={},b=this.iframeElement;for(a.top=b.offsetTop,a.left=b.offsetLeft,a.width=b.offsetWidth,a.height=b.offsetHeight;b.offsetParent;)b=b.offsetParent,a.top+=b.offsetTop,a.left+=b.offsetLeft;return a},this.isiOSFirefox=function(){return navigator.userAgent.toString().toLowerCase().indexOf("fxios")>-1},this.isIphoneDevice=function(){var a,b,c,d=navigator.userAgent,e=8,f="iOS";return d.match(/iPhone/i)||d.match(/iPad/i)?(b="iOS",a=d.indexOf("OS ")):d.match(/Android/i)?(b="Android",a=d.indexOf("Android ")):b="unknown",c="iOS"===b&&a>-1?d.substr(a+3,3).replace("_","."):"Android"===b&&a>-1?d.substr(a+8,3):"unknown",b===f&&c>=e},this.getIframeContent=function(){var d="";this.isIphoneDevice()&&(d='<script src="'+this.domainPath+'scripts/lib/iosPlayer/iosplayer.min.js" type="text/javascript"> </script> ');var e='<!doctype html><head> <base target="_blank" /><meta charset="utf-8"> <meta name="apple-mobile-web-app-capable"  content="yes" /> <meta name="apple-mobile-web-app-status-bar-style"  content="black-translucent" /><meta http-equiv="X-UA-Compatible" content="IE=edge"> <title></title> <meta name="description" content=""><meta name="viewport" content="width=device-width"> <!-- Place favicon.ico and apple-touch-icon.png in the root directory --><!-- build:css(.tmp) styles/main.css --> <!-- endbuild --> <script type="text/javascript">var domainPath="'+this.domainPath+'", playerid ="'+a+'", muteOnLoad ='+b.muteOnLoad+", debugMode = "+b.debugMode+";</script> "+d+'<script src="'+this.domainPath+'scripts/all.min.js" type="text/javascript"> </script><!-- endbuild --> <!-- build:js({.tmp,app}) scripts/scripts.js --></head> <body ng-app="playerApp"><!-- Add your site or application content here --> <div ng-controller="MainCtrl"> <div class="container"> <div><videogular pwidth="'+b.width+'" pheight="'+b.height+'" vg-player-ready="onPlayerReady" vg-complete="onCompleteVideo" vg-update-time="onUpdateTime" vg-update-size="onUpdateSize" vg-update-volume="onUpdateVolume" vg-update-state="onUpdateState"vg-full-screen="onFullScreen" vg-start-play = "playStrated" vg-mute = "onMute" vg-hide-controls="config.hideControls" vg-pause = "onPause" vg-buffering = "onBuffering" vg-controls = "onControls" vg-on-error = "onError" vg-on-seek ="onSeek" vg-width="config.width" vg-height="config.height" vg-theme="config.theme.url" vg-autoplay="config.autoPlay" vg-stretch="config.stretch.value"vg-responsive="config.responsive" vg-ad-mode="config.adMode" vg-on-load-mute="config.muteOnLoad" vg-on-click="onClick" vg-media = "config.media" vg-on-replay="onReplay"> <video id="zzzVideoPlayer" vg-src="config.sources" vg-poster="config.poster" preload="none" webkit-playsinline></video> <vg-overlay-play vg-play-icon="config.theme.playIcon" vg-hide-replay="config.hideReplay"></vg-overlay-play> <vg-vast-ads vg-network="config.plugins.ads.network" vg-unit-path="config.plugins.ads.unitPath" vg-companion="config.plugins.ads.companion" vg-companion-size="config.plugins.ads.companionSize" vg-ad-tag="config.plugins.ads.adTag" vg-ad-tag-is-inline="config.plugins.ads.isInline" vg-ad-tag-on-ready = "onAdReady" vg-on-ad-complete = "onAdComplete" vg-on-ad-stopped = "onAdStopped" vg-on-start-ad = "onStartAd" vg-on-ad-userClose = "onAdUserClose" vg-on-companion = "onCompanion"  vg-on-nonlinear-ad = "onNonLinearAd" vg-on-before-play = "onBeforePlay" vg-on-ad-impression = "onAdImpression" vg-on-ad-timeupdate = "onAdTimeUpdate" vg-on-before-complete = "onBeforeComplete" vg-on-ad-error ="onAdError"  vg-track-event= "trackEvent" vg-on-ad-click= "onAdClick" vg-play-ad-on-ready ="config.playAdOnReady" vg-start-ad ="config.plugins.ads.startAd" vg-landing-page-on-click = "config.landingPageOnClick"  vg-on-ad-skip = "onAdSkip" vg-skipable = "config.skipable" vg-skipcount = "config.skipCount" vg-skipimage = "config.skipImage" vg-show-nonlinear = "config.showNonlinearAd" vg-onclick-fullscreen = "config.onclickFullscreen"  vg-on-ad-video-first-quartile = "onAdVideoFirstQuartile" vg-on-ad-video-started = "onAdVideoStarted" vg-on-ad-video-mid-point="onAdVideoMidPoint" vg-on-ad-video-third-quartile = "onAdVideoThirdQuartile"  vg-landing-page-on-esc = "config.landingPageOnEsc" vg-landing-page-on-exit = "config.landingPageOnExit" ></vg-vast-ads>  <vg-vpaid-ads></vg-vpaid-ads> <vg-ios-player></vg-ios-player><div class="maincontainer" id="mainContainer" style="position:absolute"></div> </div> </videogular> </div> <div id="companionAd"></div> </div> </div> </body> </html>';if(null==this.iframeElement.srcdoc||"undefined"==typeof this.iframeElement.srcdoc||this.isiOSFirefox())try{var f=this.iframeElement.contentDocument||this.iframeElement.contentWindow.document;f.open("text/html","replace"),f.write(e),f.close()}catch(a){c(a)}else this.iframeElement.srcdoc=e},void 0!=b.width&&void 0!=b.height&&(this.parentDiv.style.width=this.formatToNumber(b.width,this.parentDiv.style.width),this.parentDiv.style.height=this.formatToNumber(b.height,this.parentDiv.style.height)),this.createIframe(this.id),this.getIframeContent(),this.updateVolume=function(a){try{var b=Math.round(100*a);VideoPlayer.getVideoPlayer(this.id).volume=b,VideoPlayer.getVideoPlayer(this.id).onVolume(b),0===b?VideoPlayer.getVideoPlayer(this.id).isMuted=!0:VideoPlayer.getVideoPlayer(this.id).isMuted=!1}catch(a){console.error("videoplayer:: error calling updateVolume ",a)}},this.updateControlState=function(a){try{VideoPlayer.getVideoPlayer(this.id).controlsEnabled=a}catch(a){console.error("videoplayer:: error calling updateControlState ",a)}},this.onPlayerReady=function(){try{VideoPlayer.getVideoPlayer(this.id).onReadyCalled=!0,VideoPlayer.getVideoPlayer(this.id).onReady()}catch(a){console.error("videoplayer:: error calling onPlayerReady ",a)}},this.updateMuteState=function(a){try{VideoPlayer.getVideoPlayer(this.id).isMuted=a.muted,a.flag||VideoPlayer.getVideoPlayer(this.id).onMuteChange(a.muted)}catch(a){console.error("videoplayer:: error calling updateMuteState ",a)}},this.onUpdateTime=function(a){try{VideoPlayer.getVideoPlayer(this.id).duration!=a.duration&&(VideoPlayer.getVideoPlayer(this.id).duration=a.duration),VideoPlayer.getVideoPlayer(this.id).currentPosition=a.position,VideoPlayer.getVideoPlayer(this.id).onTime(a.position,a.duration)}catch(a){console.error("videoplayer:: error calling onUpdateTime ",a)}},this.onSeekEvent=function(a,b){try{VideoPlayer.getVideoPlayer(this.id).onSeek(a,b)}catch(a){console.error("videoplayer:: error calling onSeek ",a)}},this.onFullScreenEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).fullscreen=a,VideoPlayer.getVideoPlayer(this.id).onFullscreen(a)}catch(a){console.error("videoplayer:: error calling onFullScreenEvent ",a)}},this.setSize=function(a){try{VideoPlayer.getVideoPlayer(this.id).currentWidth=a.width,VideoPlayer.getVideoPlayer(this.id).currentHeight=a.height,a.onready||VideoPlayer.getVideoPlayer(this.id).onResize(a.width,a.height)}catch(a){console.error("videoplayer:: error calling setSize ",a)}},this.onResize=function(a,b){try{VideoPlayer.getVideoPlayer(this.id).onResize(a,b)}catch(a){console.error("videoplayer:: error calling onResize ",a)}},this.onPlayStarted=function(){try{var a=VideoPlayer.getVideoPlayer(this.id).getState();VideoPlayer.getVideoPlayer(this.id).onPlay(a),VideoPlayer.getVideoPlayer(this.id).setState(VideoPlayer.PlayerStates.PLAYING)}catch(a){console.error("videoplayer:: error calling onPlayStarted ",a)}},this.playerPause=function(){try{var a=VideoPlayer.getVideoPlayer(this.id).getState();VideoPlayer.getVideoPlayer(this.id).onPause(a),VideoPlayer.getVideoPlayer(this.id).setState(VideoPlayer.PlayerStates.PAUSED)}catch(a){console.error("videoplayer:: error calling playerPause ",a)}},this.playerStop=function(){try{VideoPlayer.getVideoPlayer(this.id).getState();VideoPlayer.getVideoPlayer(this.id).setState(VideoPlayer.PlayerStates.STOP)}catch(a){console.error("videoplayer:: error calling playerStop ",a)}},this.onClickEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onClick()}catch(a){console.error("videoplayer:: error calling onClick ",a)}},this.onReplayEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onReplay()}catch(a){console.error("videoplayer:: error calling onReplay ",a)}},this.playerBufferingEvent=function(){try{var a=VideoPlayer.getVideoPlayer(this.id).getState();VideoPlayer.getVideoPlayer(this.id).onBuffer(a),VideoPlayer.getVideoPlayer(this.id).setState(VideoPlayer.PlayerStates.BUFFERING)}catch(a){console.error("videoplayer:: error calling playerBuffering ",a)}},this.onErrorEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).onError(a)}catch(a){console.error("videoplayer:: error calling onError ",a)}},this.onCompleteEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onComplete()}catch(a){console.error("videoplayer:: error calling onComplete ",a)}},this.onAdReadyEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).onAdReady(a)}catch(a){console.error("videoplayer:: error calling onAdReady ",a)}},this.onCompanionEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).onAdCompanions(a.adtag,a.companions)}catch(a){console.error("videoplayer:: error calling onCompanion ",a)}},this.onNonLinearAdEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).onNonLinearAd(a.adtag,a.nonlinear)}catch(a){console.error("videoplayer:: error calling onNonLinearAd ",a)}},this.onAdClickEvent=function(a,b){try{VideoPlayer.getVideoPlayer(this.id).onAdClick(a,b)}catch(a){console.error("videoplayer:: error calling onAdClick ",a)}},this.onAdSkippedEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).onAdSkipped(a)}catch(a){console.error("videoplayer:: error calling onAdSkipped ",a)}},this.onAdCompleteEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).onAdComplete(a)}catch(a){console.error("videoplayer:: error calling onAdComplete ",a)}},this.onAdStoppedEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onAdStopped()}catch(a){console.error("videoplayer:: error calling onAdStopped ",a)}},this.onStartAdEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).onStartAd()}catch(a){console.error("videoplayer:: error calling onStartAd ",a)}},this.onAdUserCloseEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onAdUserClose()}catch(a){console.error("videoplayer:: error calling onAdUserClose ",a)}},this.onBeforePlayEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onBeforePlay()}catch(a){console.error("videoplayer:: error calling onBeforePlay ",a)}},this.onAdImpressionEvent=function(a){try{var b=a.adtag,c=a.closeTrackerArray;VideoPlayer.getVideoPlayer(this.id).onAdImpression(b,c),VideoPlayer.getVideoPlayer(this.id).clickThrough=b.clickThrough}catch(a){console.error("videoplayer:: error calling onAdImpression ",a)}},this.onAdTimeUpdate=function(a){try{VideoPlayer.getVideoPlayer(this.id).duration!=a.duration&&(VideoPlayer.getVideoPlayer(this.id).duration=a.duration),VideoPlayer.getVideoPlayer(this.id).currentPosition=a.position,VideoPlayer.getVideoPlayer(this.id).onAdTime(a.adtag,a.position,a.duration)}catch(a){console.error("videoplayer:: error calling onAdTimeUpdate ",a)}},this.onBeforeCompleteEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onBeforeComplete()}catch(a){console.error("videoplayer:: error calling onBeforeComplete ",a)}},this.onAdErrorEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).onAdError(a.message,a.adtag,a.errorObj)}catch(a){console.error("videoplayer:: error calling onAdError ",a)}},this.onAdVideoStartedEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onAdStarted()}catch(a){console.error("videoplayer:: error calling onAdVideoStarted ",a)}},this.onAdVideoFirstQuartileEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onVpaidAdFirstQuartile()}catch(a){console.error("videoplayer:: error calling onAdVideoFirstQuartile ",a)}},this.onAdVideoMidPointEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onVpaidAdMidpoint()}catch(a){console.error("videoplayer:: error calling onAdVideoMidPoint ",a)}},this.onAdVideoThirdQuartileEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onVpaidAdThirdQuartile()}catch(a){console.error("videoplayer:: error calling onAdVideoThirdQuartile ",a)}},this.initialize=function(a){try{VideoPlayer.getVideoPlayer(this.id).setState(a.state),VideoPlayer.getVideoPlayer(this.id).fullscreen=a.fullscreen,VideoPlayer.getVideoPlayer(this.id).controlsEnabled=a.controls;var b=Math.round(100*a.volume);VideoPlayer.getVideoPlayer(this.id).volume=b;var c=VideoPlayer.getVideoPlayer(this.id).config;VideoPlayer.getVideoPlayer(this.id).setConfig(c),VideoPlayer.getVideoPlayer(this.id).isiOSDevice=a.isiOSDevice,VideoPlayer.getVideoPlayer(this.id).isMobileDevice=a.isMobileDevice,VideoPlayer.getVideoPlayer(this.id).isWindowsDevice=a.isWindowsPhone,VideoPlayer.getVideoPlayer(this.id).onInitialized()}catch(a){console.error("videoplayer:: error calling initialize ",a)}},VideoPlayer.videoPlayerMap[a]=this};"undefined"==typeof VideoPlayer.videoPlayerMap&&(VideoPlayer.videoPlayerMap={}),VideoPlayer.getVideoPlayer=function(a){return VideoPlayer.videoPlayerMap[a]};var zziOSAdClick=function(a,b){VideoPlayer.getVideoPlayer(b).isiOSDevice&&window.open(VideoPlayer.getVideoPlayer(b).clickThrough,"_blank")},togglePlayerFullScreen=function(a,b){var c=VideoPlayer.getVideoPlayer(a),d=Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight);b.getAttribute("isVPAID")&&null!=b.getAttribute("isVPAID")&&(b.style.top="0px",b.style.top="0px",b.style.left="0px",b.style.width="100%",b.style.height="100%",b.style.position="fixed",b.style.zIndex="2147483647",b.style.overflow="hidden");var e=document.createElement("div");e.id="ipad-overlay",
e.style.position="fixed",e.style.width=d+"px",e.style.height=d+"px",e.style.left=0,e.style.top=0,e.style.backgroundColor="#333333",e.style.opacity="1",e.style.zIndex="214748364",e.style.overflow="hidden";var f=c.parentDiv;if(c.fullscreen){var g=document.getElementById("ipad-overlay");c.restoreDivStyle(),document.body.style.overflow="auto","undefined"!=typeof g&&null!=g&&f.parentNode.removeChild(g)}else c.storeDivStyle(),f.style.top="0px",f.style.left="0px",f.style.width="100%",f.style.height="100%",f.style.position="fixed",f.style.zIndex="2147483647",f.style.overflow="hidden",f.parentNode.insertBefore(e,f),document.body.style.overflow="hidden"}}var ZdPlayer=function(a,b,c,d,e,f,g,h,i,j,k,l){var m=new ZZPlayer;return m.setId(a),m.setWidth(b),m.setHeight(c),m.setAdvertiserClient(d),m.setAdvertiserTag(e),m.config={skipable:!0,skipCount:!0,landingPageOnEsc:!0,isSecure:!1,preLoadMedia:!1,landingPageOnExit:!0,type:"Auto"},m.setMediaURL(f),m.setAdPlayOnReady(g),m.setLandingPage(h),m.setHideControls(i),m.setFullscreenOnClick(j),m.setDebugMode(k),m.setConfig(l),m.init(),m.setObj(a,m),ZdPlayer.videoPlayerMap[a]=m,m},isContainerReady=!1,isSWFReady=!1,ZZPlayer=function(){return{setId:function(a){this.id=a},setWidth:function(a){this.width=a},setHeight:function(a){this.height=a},setAdvertiserClient:function(a){this.aClient=a},setAdvertiserTag:function(a){this.aTag=a},setLandingPage:function(a){this.landingPageOnClick=a},setHideControls:function(a){this.hideControls=a},setFullscreenOnClick:function(a){this.fullScreenOnClick=a},setDebugMode:function(a){var b=getParameterByName("zBug");return b?void(this.debugMode=!0):void(this.debugMode=a)},setConfig:function(a){if(a)for(var b in a)a.hasOwnProperty(b)&&(this.config[b]=a[b])},setAdPlayOnReady:function(a){this.playAdOnReady=a},setMediaURL:function(a){this.pMediaURL=a},onReady:function(){},init:function(){var a,b=!1;"vast"==this.aClient.toLowerCase()?(b=!0,a=this.aTag):a="";var c=this.config.domainPath,d=c+"Flash/ZEDOFlashVideoPlayer.swf",e="w="+this.width+"&h="+this.height+"&vasttag="+b+'&playerID=ZdPlayer.getVideoPlayer("'+this.id+'")';e+="&playAdOnReady="+this.playAdOnReady+"&landingPageOnClick="+this.landingPageOnClick+"&hideControls="+this.hideControls,e+="&fullScreenOnClick="+this.fullScreenOnClick+"&debugMode="+this.debugMode+"&skipable="+this.config.skipable+"&skipCount="+this.config.skipCount,e+="&landingPageOnesc="+this.config.landingPageOnEsc+"&mediaurl="+this.pMediaURL+"&muteOnLoad="+this.config.muteOnLoad+"&isSecure="+this.config.isSecure+"&preLoadMedia="+this.config.preLoadMedia,e+="&landingPageOnExit="+this.config.landingPageOnExit+"&type="+this.config.type,this.loadSWF(d,e)},loadSWF:function(a,b){function c(a,b){var c=document.createElement("div"),d="";return a=a+"?"+b+"&"+Math.round(1e10*Math.random()),d="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000' style='visibility:visible' data='"+a+"' wmode='opaque'  >",d+="<param name='movie' value='"+a+"'><param name='allowfullscreen' value='true'>",d+="<param name='scale' value='showAll'> <param name='menu' value='false'> <param name='bgcolor' value='#000000'> <param name='salign' value='TL' > <param name='allowScriptAccess' value='always' > </object>",c.innerHTML=d,c.firstChild}var d=document.getElementById(this.id),e=this.isIE(),f=e?c(a,b):document.createElement("object");f.setAttribute("id",this.id),f.setAttribute("width",this.width),f.setAttribute("height",this.height),e||(f.setAttribute("type","application/x-shockwave-flash"),f.setAttribute("data",a),f.appendChild(this.getParamTag("flashvars",b)),f.appendChild(this.getParamTag("movie",a)),f.appendChild(this.getParamTag("allowfullscreen",!0)),f.appendChild(this.getParamTag("id",this.id)),f.appendChild(this.getParamTag("menu",!1)),f.appendChild(this.getParamTag("scale","showAll")),f.appendChild(this.getParamTag("bgcolor","#000000")),f.appendChild(this.getParamTag("salign","TL")),f.appendChild(this.getParamTag("wmode","opaque")),f.appendChild(this.getParamTag("allowScriptAccess","always"))),d.parentNode.replaceChild(f,d)},createFriendlyiFrame:function(a,b,c){try{var d=document.getElementById(a),e=document.createElement("iframe");e.id="iframe_"+b,e.src="about:blank",e.setAttribute("allowfullscreen",!0),e.setAttribute("seamless",!0),e.setAttribute("frameborder",0),e.setAttribute("scrolling","no"),e.width="0px",e.height="0px",e.style.display="none",d.parentNode.appendChild(e);var f="<!DOCTYPE html><head><body>"+c+"</body></html>",g=e.contentDocument||e.contentWindow.document;g.open("text/html","replace"),g.write(f),g.close()}catch(a){console.log(a)}},createNonFriendlyiFrame:function(a,b){var c=document.createElement("iframe");return c.id="iframe_"+a,c.src=b,c.setAttribute("allowfullscreen",!0),c.setAttribute("seamless",!0),c.setAttribute("frameborder",0),c.setAttribute("scrolling","no"),c.width="0px",c.height="0px",c.style.display="none",c},appendScriptContent:function(a,b,c,d,e){try{var f,g=document.getElementById(a),h="SCRIPTSRC";c==h?(f=document.createElement("script"),f.type="text/javascript",f.src=b):f=this.createNonFriendlyiFrame(c,b),"true"==d||1==d?g.parentNode.appendChild(f):(c==h?contents="<script src="+b+" ></script>":contents="<iframe src = "+b+"></iframe>",this.createFriendlyiFrame(a,c,contents))}catch(a){console.log(a)}},getParamTag:function(a,b){var c=document.createElement("param");return c.setAttribute("name",a),c.setAttribute("value",b),c},thisMovie:function(a){return navigator.appName.indexOf("Microsoft")!=-1&&"undefined"!=typeof window[a]?window[a]:document[a]},registerOnReady:function(a){this.onReadyFunction=a},onError:function(a){this.logInfo("ZP:onError()"+a)},onPlay:function(a){this.logInfo("ZP:onPlay() > "+a)},onPause:function(a){this.logInfo("ZP:onPause() > "+a)},onVolume:function(a){this.logInfo("ZP:onVolume()")},onMuteChange:function(a){this.logInfo("ZP:onMuteChange()"+a)},onComplete:function(){this.logInfo("ZP:onComplete()")},onFullscreen:function(a){this.logInfo("ZP:onFullscreen()"+a)},goFullScreen:function(){this.thisMovie(this.id).goFullScreen()},onBuffer:function(){this.logInfo("ZP:onBuffer() called ")},onAdCompanions:function(a,b){console.log("onAdCompanions  "+a+"Companions are "+b)},companionHandler:function(){return this.companionArray},onAdClick:function(a,b){this.logInfo("ZP:onAdClick() adtag "+a+"landing Page url"+b)},onClick:function(){this.logInfo("ZP:onClick()")},onAdStarted:function(){this.logInfo("ZP:onAdStarted() ")},onAdStopped:function(){this.logInfo("ZP:onAdStopped() ")},onStartAd:function(){this.logInfo("ZP:onStartAd() ")},onAdUserClose:function(){this.logInfo("ZP:onAdUserClose() ")},onAdComplete:function(a){this.logInfo(a)},onAdImpression:function(a,b){this.logInfo("ZP:onAdImpression()"+a)},onAdError:function(a,b,c){this.logInfo("ZP:onAdError()"+a+b+c.adId)},onAdReady:function(a){this.logInfo("ZP:onAdReady()"),this.logInfo(a)},onAdTime:function(a,b,c){this.logInfo("ZP:onAdTime() tag:"+a+" position"+b+" duration:"+c)},onTime:function(a,b){this.logInfo("ontime Position"+a+" Duration"+b)},onBeforePlay:function(){this.logInfo("ZP:onBeforePlay() ")},onBeforeComplete:function(){this.logInfo("ZP:onBeforeComplete() ")},onSeek:function(a,b){this.loginfo(" Position ---> "+a+" offset "+b)},onTrackEvent:function(a){this.logInfo(a)},onVpaidAdFirstQuartile:function(){this.logInfo("onAdVideoFirstQuartile ")},onVpaidAdMidpoint:function(){this.logInfo("onAdVideoMidpoint ")},onVpaidAdThirdQuartile:function(){this.logInfo("onAdVideoThirdQuartile ")},onPreLoadMedia:function(a){this.logInfo(" -- Preloading Media File -- ");var b=new Image;b.src=a},play:function(){this.thisMovie(this.id).playPlayer()},pause:function(){return this.thisMovie(this.id).zzPauseVideo()},startAd:function(){this.logInfo("ZP:startAd()"),this.thisMovie(this.id).startAd()},loadContent:function(){this.logInfo("ZP:loadContent()"),this.thisMovie(this.id).loadContent()},mute:function(a){this.thisMovie(this.id).zzMuteVideo(a)},isMute:function(){return this.thisMovie(this.id).zzPlayerIsMute()},setVolume:function(a){this.thisMovie(this.id).zzSetVolume(a)},onResize:function(a,b){this.logInfo("ZP:onResize() "+a+" "+b)},replay:function(){this.thisMovie(this.id).replayAd(this.mediaURL)},stop:function(){this.thisMovie(this.id).stopPlayer()},resize:function(a,b){var c=formatToNumber(a,this.width),d=formatToNumber(b,this.height);this.width=c,this.height=d,document.getElementById(this.id).width=c,document.getElementById(this.id).height=d,this.thisMovie(this.id).resizePlayer(c,d)},resizeZoom:function(a){this.thisMovie(this.id).resizeZoomPlayer(a)},exitFullscreen:function(){this.thisMovie(this.id).exitFullScreen()},isFullScreen:function(){return this.thisMovie(this.id).isFullScreenFlag()},showDefaultControls:function(){this.thisMovie(this.id).zzShowDefaultControls()},hideDefaultControls:function(){this.thisMovie(this.id).zzHideDefaultControls()},addButton:function(a,b,c,d,e,f,g,h,i){this.thisMovie(this.id).addButton(a,b,c,d,e,f,g,h,i)},deleteButton:function(a){this.thisMovie(this.id).deleteButton(a)},showButton:function(a){this.thisMovie(this.id).showButton(a)},hideButton:function(a){this.thisMovie(this.id).hideButton(a)},seek:function(a){this.thisMovie(this.id).seek(a)},playAd:function(a){this.thisMovie(this.id).playAd(a)},getControlsEnabled:function(){return this.thisMovie(this.id).areControlsEnabled()},getAdTag:function(){return this.aTag},getXMLMapObj:function(){return console.log(" getXMLMapObj() called "),console.log(this.config.xmlDataMap),this.config.xmlDataMap},getPosition:function(){return this.thisMovie(this.id).getPosition()},getState:function(){return this.thisMovie(this.id).zzCallFlash()},getVolume:function(){return this.thisMovie(this.id).zzGetVolume()},getDuration:function(){return this.thisMovie(this.id).getDuration()},getWidth:function(){return this.thisMovie(this.id).getWidth()},getHeight:function(){return this.thisMovie(this.id).getHeight()},logInfo:function(a){if(this.debugMode){var b=!1;"undefined"==typeof console||"undefined"==typeof console.log?(console={},b?console.log=function(a){alert(a)}:console.log=function(){}):console.log&&console.log(a)}},log:function(a,b){switch(a.toLowerCase()){case"warn":console.warn(b);break;case"info":console.info(b);break;case"error":console.error(b);break;case"trace":console.trace(b);break;case"bizlogic":"undefined"!=typeof console.bizlogic&&console.bizlogic(b);break;default:console.log(b)}},clean:function(){var a=document.createElement("div");a.id=this.id;var b=document.getElementById(this.id).parentNode;b.appendChild(a),console.log(logMessage)},setMediaType:function(a){var b=MacroProcessor.getMacroProcObj(this.id);b&&b.setMediaType(a)},track:function(a){var b,c,d=!0;if(c=a,"undefined"!=typeof window&&null!==window){var e=MacroProcessor.getMacroProcObj(this.id);e&&(c=e.replaceMacro(a,d)),b=new Image,b.src=c}},trackClick:function(a){var b,c,d=!1;if(c=a,"undefined"!=typeof window&&null!==window){var e=MacroProcessor.getMacroProcObj(this.id);e&&(c=e.replaceMacro(a,d)),b=new Image,b.src=c}},isIE:function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("msie")!=-1&&parseInt(a.split("msie")[1])},setObj:function(a,b){window["player_"+a]=b},logTime:function(a,b){},trackEvent:function(a){this.thisMovie(this.id).trackExternalEvent(a)}}};ZdPlayer.videoPlayerMap={},ZdPlayer.getVideoPlayer=function(a){return window["player_"+a]};var zzAdPlayer=function(a,b,c){try{if(this.onSetupError=function(a){},nullOrUndefined(c)||(this.onSetupError=c),nullOrUndefined(a)||nullOrUndefined(document.getElementById(a)))throw"element matching "+a+" is undefined or null, pass valid id";if(nullOrUndefined(b))throw"config is undefined, need to pass config object";this.id=a,this.playerObj=new Object,this.viewabilityObj=new Object,this.firstPlayerObj={},this.closeTrackers=[],this.adType="",this.apiMemory=new apiMemory,this.isOnReadyFired=!1,this.isOnAdReadyFired=!1,this.alreadyProcessed=!1;var d=3e3,e=1,f=10;this.DEFAULT_WAIT_FOR_FILE_LOADING=5e3,this.config={type:"auto",width:640,height:480,pClient:"vast",adtag:"",sources:[],playAdOnReady:!0,landingPageOnClick:!0,onclickFullscreen:!1,hideControls:!1,domainPath:zPlayerCnf.getProperty("domainPath"),skipable:!0,skipCount:!0,landingPageOnEsc:!0,muteOnLoad:!1,viewability:!0,debugMode:!1,isSecure:!1,preLoadMedia:!1,landingPageOnExit:!0,debugPlayerLogMode:!1,debugToken:"",bandwidthSpeedKbps:0},window.zVpLoadStatus="undefined"==typeof window.zVpLoadStatus?"START":window.zVpLoadStatus,this.config.callback=function(a){},this.setConfig(b),this.config.basePlayerStartTime=zUtils.getCurrentTime(),"true"===this.getParameterByName("zBug")&&(this.config.debugMode=!0),this.config.adtag.indexOf("<VAST")!=-1&&(this.config.pClient="vastxml"),this.config.isSecure?this.config.domainPath=zPlayerCnf.getProperty("secureDomainPath"):"https:"==window.location.protocol&&(this.config.isSecure=!0,this.config.domainPath=zPlayerCnf.getProperty("secureDomainPath")),this.config.playerVer=zPlayerCnf.getProperty("playerVer");try{this.config.playerVer=zUtils.getRandMization(this.config.playerVer,zPlayerCnf.getProperty("replaceToPlayerVer"),zPlayerCnf.getProperty("randmizationPercentage")),this.config.domainPath=this.config.domainPath+this.config.playerVer+"/"}catch(a){this.config.domainPath=this.config.domainPath+this.config.playerVer+"/"}var g=this,h=new TokenChecker;g.config.debugPlayerLogMode=h.checkToken(g.config.debugToken),zUtils.log("log","debug player Enabled "+g.config.debugPlayerLogMode,this.config.debugMode),g.selectedPlayer=this.config.type.toLowerCase()!=zUtils.PLAYERTYPE.AUTO?this.config.type.toLowerCase():"",g.parsedEvents=[],g.reqTime={};var i=function(){if(g.shouldProcessParallel()){g.config.parentId=g.id,g.dataModel=new DataMap;var a=function(a,b,c){g.onAdError(a,b,c)},b=function(){return g.apiMemory},c=function(){zUtils.removePlayer(g.config.id)},h=function(a){g.oneOfThePlayersIsReady(a)},i=function(a,b){g.oneOfThePlayersIsAdReady(a,b)},j=function(a,b,c,d,e){g.parallelObj.dataModel.setPlayerType(b.id,a);var f=function(a){e(a)};g.selectPlayer(a,b,c,d,f)},k=function(a){g.selectedPlayer=a};nullOrUndefined(g.config.parallel.selectionDelayMs)&&(g.config.parallel.selectionDelayMs=d),nullOrUndefined(g.config.parallel.maxParallelism)&&(g.config.parallel.maxParallelism=f),nullOrUndefined(g.config.parallel.noOfTagsInitlizedAfterErr)&&(g.config.parallel.noOfTagsInitlizedAfterErr=e),g.parallelObj=new ParallelProcessor(g.config,g.dataModel,g.config.parallel,function(a){g.playerObj=a,g.registerCallbacks(a,g)},a,b,c,h,i,j,k),g.config.playAdOnReady&&g.parallelObj.setStartAdReceived()}else{var l=function(){this.onAdErrorHandler=function(){},this.onAdImpressionHandler=function(){},this.setStartAdReceived=function(){}};g.dataModel=new DataMap,g.parallelObj=new l}g.loadAdPlayer()};g.autoPlayerDetectObj=new Object;var j=g.id+"0";g.config.id=j,zUtils.createChildDiv(g.id,j),zUtils.showChildDiv(j),i(),this.config.viewability&&this.loadViewabilityFiles()}catch(a){this.onSetupError(a),zUtils.log("error",a,!0)}};zzAdPlayer.prototype={loadViewabilityFiles:function(){var a="OVVAsset.js",b=this;window.zIsVALoaded?b.config.viewability&&b.config.debugMode&&null==document.getElementById("chip")&&Viewability.initViewability(b.config.domainPath):this.loadJsFiles(this.config.domainPath+""+a,function(){window.zIsVALoaded=!0,b.config.viewability&&b.config.debugMode&&null==document.getElementById("chip")&&Viewability.initViewability(b.config.domainPath)})},loadJsFiles:function(a,b){this.log("info","loading Js files.. "+a);var c=!1,d=document.createElement("script");d.asynch=!0,d.src=a;var e=document.head||document.getElementsByTagName("head")[0];d.onload=d.onreadystatechange=function(){var a=this.readyState;c||a&&"complete"!=a&&"loaded"!=a||(c=!0,b())},e.appendChild(d)},loadHtmlPlayer:function(a,b){this.log("info","loading html player...");var c=this,d=!1;a.adtag.indexOf("<VAST")!=-1&&(d=!0),a.plugins={ads:{adTag:a.adtag,isInline:d}};var e=c.getHtmlPlayerObj(a);b(e)},getHtmlPlayerObj:function(a){this.log("info"," Creating html player object...");var b;return b=new VideoPlayer(a.id,a)},loadFlashPlayer:function(a,b){this.log("info"," loading flashplayer...");var c="";c=this.getMediaForFlash(this.config.sources),c&&(c=c.src),c="undefined"==typeof c?"":c;var d=this.getFlashPlayerObj(c,a);b(d)},getFlashPlayerObj:function(a,b){this.log("info"," Creating flash player object ...");var c=new ZdPlayer(b.id,b.width,b.height,b.pClient,b.adtag,a,b.playAdOnReady,b.landingPageOnClick,b.hideControls,b.onclickFullscreen,b.debugMode,b);return c},loadAdPlayer:function(){try{var a=this,b=function(){if(a.log("log"," Loading Player : Type = "+a.config.type),a.config.type.toLowerCase()===zUtils.PLAYERTYPE.FLASH)a.loadFlashPlayer(a.config,function(b){var c=new EventSeqLogger(a.config.id,a.config.debugPlayerLogMode,a.config.basePlayerStartTime);new MacroProcessor(a.config.id,c);a.playerObj=b,a.firstPlayerObj=b,a.registerCallbacks(b,a),a.config.callback(a)});else{if(a.config.type.toLowerCase()!==zUtils.PLAYERTYPE.HTML5&&a.config.type.toLowerCase()!==zUtils.PLAYERTYPE.AUTO)throw"Invalid player type ";a.log("log"," Creating autoPlayerDetectObj");var b=function(b,c,d){a.log("log","Wrapper:loadAdPlayer:onAdErrorCallback"),a.onAdErrorHandler(b,c,d)},c=function(b,c){a.log("log","Wrapper:loadAdPlayer:onErrorCallback"),a.onErrorHandler(b,c)},d=function(b,c,d,e){a.log("log","Wrapper:loadAdPlayer:onSuccessCallback"),a.config.xmlDataMap=a.autoPlayerDetectObj.xmlDataMap.getXMlObj(),a.dataModel.setCustomScript(a.config.id,e.customScripts),a.config.bandwidthSpeedKbps=a.autoPlayerDetectObj.getBandWidth(),a.config.filteredMediaSources=a.autoPlayerDetectObj.filteredMediaSources,a.log("log",a.config.xmlDataMap),a.log("log","autoPlayerDetectObj: DetectedPlayerType : "+b+" filteredMediaSources ==> "),a.log("log",a.config.filteredMediaSources),a.selectPlayer(b,a.config,c,d,function(b){a.playerObj=b,a.firstPlayerObj=b,a.registerCallbacks(b,a),a.config.callback(a)})};a.autoPlayerDetectObj=new AutoPlayerDetect(a.config.domainPath,a.config.isSecure,a.config.debugMode,b,c),a.autoPlayerDetectObj.getPlayerType(a.config,d)}};"START"!=window.zVpLoadStatus&&"LOADED"!=window.zVpLoadStatus||b()}catch(a){throw a}},selectPlayer:function(a,b,c,d,e){var f=this;f.selectedPlayer=a;var g=function(a,e){if(e){f.log("info"," Creating debugPlayerObj ....");var g=new DebugLogEvent(c,b.debugMode,a.id),a=new DebugPlayer(a,g,b.debugMode,d)}return a};a.toLowerCase()==zUtils.PLAYERTYPE.FLASH?f.loadFlashPlayer(b,function(a){e(g(a,b.debugPlayerLogMode))}):a.toLowerCase()==zUtils.PLAYERTYPE.HTML5?f.loadHtmlPlayer(b,function(a){e(g(a,b.debugPlayerLogMode))}):f.onSetupError("Player type is wrong detected")},getMediaForFlash:function(a){if(void 0!==typeof a.length)for(var b=0,c=a.length;b<c;b++)if("video/mp4"===a[b].type||"video/x-flv"===a[b].type||"video/flv"===a[b].type)return a[b]},setConfig:function(a){if(a)for(var b in a)a.hasOwnProperty(b)&&(this.config[b]=a[b])},log:function(a,b){zUtils.log(a,b,this.config.debugMode)},getParameterByName:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},shouldProcessParallel:function(){return"undefined"!=typeof this.config.parallel&&"undefined"!=typeof this.config.parallel.orderedVasts&&this.config.parallel.orderedVasts.length>0},oneOfThePlayersIsReady:function(a){if(zUtils.log("bizlogic",a+" onReady ",this.config.debugMode),zUtils.log("info",a+" onReady ",this.config.debugMode),!this.isOnReadyFired){if(this.isOnReadyFired=!0,this.config.viewability)try{this.log("info"," Viewability:: viewability:CreateObject "),this.viewabilityObj=new Viewability(this.id)}catch(a){this.viewabilityObj.stopCountingOthrEvntViewability(),zUtils.log("error",a,this.config.debugMode)}this.onReady()}},oneOfThePlayersIsAdReady:function(a){zUtils.log("bizlogic",a+" AdReady ",this.config.debugMode),this.isOnAdReadyFired||(this.isOnAdReadyFired=!0,this.onAdReady())},onAdErrorHandler:function(a,b,c){zUtils.log("bizlogic",this.config.id+" AdError ",this.config.debugMode),zUtils.log("log",this.config.id+" onAdErrorHandler "+a),this.shouldProcessParallel()?(this.alreadyProcessed||(this.parallelObj.load(),this.alreadyProcessed=!0),this.config.callback(this),this.onParallelInitializedHandler()):(this.config.callback(this),c.selectedPlayer=this.selectedPlayer,this.onAdError(a,b,c))},onParallelInitializedHandler:function(){this.onParallelInitialized()},onErrorHandler:function(a,b){zUtils.log("bizlogic",this.config.id+" onError ",this.config.debugMode),zUtils.log("log",this.config.id+" onErrorHandler "+a),this.onError(a,b)},registerCallbacks:function(a,b){var c=a;a.onReady=function(){b.oneOfThePlayersIsReady(c.id)},a.onPlay=function(a){b.onPlay(a)},a.onComplete=function(){b.onComplete()},a.onBeforeComplete=function(){b.onBeforeComplete()},a.onVolume=function(a){b.onVolume(a)},a.onFullscreen=function(a){b.onFullscreen(a)},a.onResize=function(a,c){b.onResize(a,c)},a.onMuteChange=function(a){b.onMuteChange(a)},a.onPause=function(a){b.onPause(a)},a.onBuffer=function(a){b.onBuffer(a)},a.onError=function(a){b.onError(a)},a.onStartAd=function(){},a.onAdReady=function(a){b.oneOfThePlayersIsAdReady(c.id,a)},a.onAdComplete=function(a){if(b.config.viewability&&!b.viewabilityObj.stopCountingOthrEvnt){var c=function(a){b.trackEvent(a)},d=function(a,c){b.log(a,c)};b.viewabilityObj.onAdCompleteHandler(b.config.debugMode,c,d)}b.onAdComplete(a)},a.onAdStarted=function(){b.onAdStarted()},a.onAdStopped=function(){b.onAdStopped()},a.onAdUserClose=function(){b.closeAd()},a.onAdCompanions=function(a,c){b.onAdCompanions(a,c)},a.onAdSkipped=function(a){b.onAdSkipped(a)},a.onNonLinearAd=function(a,c){b.onNonLinearAd(a,c)},a.onBeforePlay=function(){b.onBeforePlay()},a.onAdImpression=function(a,d){b.adType="undefined"!=typeof a.adType?a.adType.toLowerCase():"",b.closeTrackers=d,a.selectedPlayer=b.selectedPlayer,this!==b.firstPlayerObj&&b.parallelObj.onAdImpressionHandler(),b.onAdImpression(a),zUtils.log("bizlogic",c.id+" AdImpression ",b.config.debugMode);try{var e=new JsScriptExecutor,f=b.dataModel.getCustomScript(c.id);for(var g in f)for(var h=0;h<f[g].length;h++){var i=MacroProcessor.getMacroProcObj(c.id);if(i){var j=i.replaceMacro(f[g][h].trackingURLTemplate,!1),k=f[g][h].scriptType,l=f[g][h].isSafe;"flash"==a.selectedPlayer?c.appendScriptContent(c.id,j,k,l,b.id):e.appendScriptContent(c.id,j,k,l,b.id)}}}catch(a){zUtils.log("warn",a,b.config.debugMode)}b.viewabilityObj.isAdImpressionCalled=!0,b.viewabilityObj.stopCountingOthrEvnt=!1},a.onAdTime=function(a,c,d){if(b.onAdTime(a,c,d),b.config.viewability&&!b.viewabilityObj.stopCheckingViewablity){var e=function(a){b.trackEvent(a)},f=function(a,c){b.log(a,c)};try{b.viewabilityObj.isFullScreen=b.isFullScreen();var g=b.getWidth(),h=b.getHeight();b.viewabilityObj.onAdTimeHandler(c,d,b.adType,b.config.debugMode,e,f,g,h)}catch(a){b.viewabilityObj.stopCountingOthrEvntViewability(),zUtils.log("error",a,b.config.debugMode)}}else b.viewabilityObj.stopCheckingViewablity&&b.viewabilityObj.updateWidgetStatus(b.config.debugMode)},a.onVpaidAdFirstQuartile=function(){!b.viewabilityObj.stopCountingOthrEvnt&&b.config.viewability&&(b.log("info","Viewability::VPAID : Tracked first Quartile impressions "),b.trackEvent("viewableFirstQuartile"),Viewability.appendLog("First Quartile",b.config.debugMode))},a.onVpaidAdMidpoint=function(){!b.viewabilityObj.stopCountingOthrEvnt&&b.config.viewability&&(b.log("info","Viewability::VPAID : Tracked Minpoint impressions "),b.trackEvent("viewableMidPoint"),Viewability.appendLog("Mid Point",b.config.debugMode))},a.onVpaidAdThirdQuartile=function(){!b.viewabilityObj.stopCountingOthrEvnt&&b.config.viewability&&(b.log("info","Viewability::VPAID : Tracked third Quartile impressions "),b.trackEvent("viewableThirdQuartile"),Viewability.appendLog("Third Quartile",b.config.debugMode))},a.onAdError=function(a,d,e){zUtils.log("bizlogic",c.id+" AdError ",b.config.debugMode),b.shouldProcessParallel()&&!b.viewabilityObj.isAdImpressionCalled?this===b.firstPlayerObj?b.alreadyProcessed||(b.parallelObj.load(),b.alreadyProcessed=!0,b.onParallelInitializedHandler()):b.parallelObj.onAdErrorHandler(c.id):(e.selectedPlayer=b.selectedPlayer,b.onAdError(a,d,e))},a.onSeek=function(a,c){b.onSeek(a,c)},a.onTime=function(a,c){b.onTime(a,c)},a.onAdClick=function(a,c){b.onAdClick(a,c)},a.onClick=function(){b.onClick()}},onReady:function(){},onPlay:function(a){},onAdReady:function(a){},onComplete:function(){},onBeforeComplete:function(){},onVolume:function(a){},onFullscreen:function(a){},onResize:function(a,b){},onMuteChange:function(a){},onPause:function(a){},onBuffer:function(a){},onError:function(a,b){},onAdComplete:function(a){},onAdCompanions:function(a,b){},onAdSkipped:function(a){},onNonLinearAd:function(a,b){},onBeforePlay:function(){},onAdImpression:function(a){},onAdTime:function(a,b,c){},onAdError:function(a,b,c){},onSeek:function(a,b){},onTime:function(a,b){},onAdClick:function(a,b){},onAdStarted:function(){},onAdStopped:function(){},onAdUserClose:function(){},onClick:function(){},onStartAd:function(){},onAdClosed:function(){},onParallelInitialized:function(){},play:function(a){nullOrUndefined(this.playerObj.play)||this.playerObj.play(a)},pause:function(){nullOrUndefined(this.playerObj.pause)||this.playerObj.pause()},startAd:function(){zUtils.log("bizlogic"," StartAd ",this.config.debugMode),nullOrUndefined(this.playerObj.startAd)||this.playerObj.startAd(),this.parallelObj.setStartAdReceived()},closeAd:function(){if(zUtils.log("log","closeTrackers Array "+this.closeTrackers),"undefined"!=typeof this.closeTrackers&&null!=this.closeTrackers){var a=MacroProcessor.getMacroProcObj(this.playerObj.id);zUtils.trackURLs(a.replaceMacros(this.closeTrackers))}this.onAdClosed()},playPause:function(){nullOrUndefined(this.playerObj.playPause)||this.playerObj.playPause()},stop:function(){nullOrUndefined(this.playerObj.stop)||this.playerObj.stop()},getVolume:function(){return nullOrUndefined(this.playerObj.getVolume)?0:this.playerObj.getVolume()},isFullScreen:function(){return!nullOrUndefined(this.playerObj.isFullScreen)&&this.playerObj.isFullScreen()},getState:function(){return this.playerObj.getState()},getDuration:function(){return nullOrUndefined(this.playerObj.getDuration)?0:this.playerObj.getDuration()},getPosition:function(){return nullOrUndefined(this.playerObj.getPosition)?0:this.playerObj.getPosition()},seek:function(a){nullOrUndefined(this.playerObj.seek)||this.playerObj.seek(a),this.apiMemory.setSeek(a)},getControlsEnabled:function(){return this.playerObj.getControlsEnabled()},trackEvent:function(a){this.playerObj.trackEvent(a)},addButton:function(a,b,c,d,e,f,g,h,i){nullOrUndefined(this.playerObj.addButton)||this.playerObj.addButton(a,b,c,d,e,f,g,h,i),this.apiMemory.addButtonParams(new Button(a,b,c,d,e,f,g,h,i))},showButton:function(a){nullOrUndefined(this.playerObj.showButton)||this.playerObj.showButton(a),this.apiMemory.setButtonShow(a,!0)},hideButton:function(a){nullOrUndefined(this.playerObj.hideButton)||this.playerObj.hideButton(a),this.apiMemory.setButtonShow(a,!1)},deleteButton:function(a){nullOrUndefined(this.apiMemory.removeButton)||this.apiMemory.removeButton(a),this.playerObj.deleteButton(a)},hideDefaultControls:function(){this.playerObj.hideDefaultControls()},showDefaultControls:function(){this.playerObj.showDefaultControls()},mute:function(a){nullOrUndefined(this.playerObj.mute)||this.playerObj.mute(a),this.apiMemory.setMute(a)},isMute:function(){return this.playerObj.isMute()},getWidth:function(){return this.playerObj.getWidth()},getHeight:function(){return this.playerObj.getHeight()},setVolume:function(a){if(!nullOrUndefined(a)){var b=a>100?100:a<0?0:a;nullOrUndefined(this.playerObj.setVolume)||this.playerObj.setVolume(b),this.apiMemory.setVolume(b)}},resize:function(a,b){nullOrUndefined(this.playerObj.resize)||this.playerObj.resize(a,b),this.apiMemory.setWidth(a),this.apiMemory.setHeight(b)},loadContent:function(){nullOrUndefined(this.playerObj.loadContent)||this.playerObj.loadContent()}};var ZAUTOPLAYERERROR={PLAYERNOTSUPPORT:{ERRORCODE:661,ERRORMSG:"Player can't play this ad"},DEFAULT:{ERRORCODE:666,ERRORMSG:"Auto player detection failed"},CONFIGURATION:{ERRORCODE:662,ERRORMSG:"Configuration error "},EMPTYORINVALIDVAST:{ERRORCODE:663,ERRORMSG:"Empty or invalid xml"}};if(AutoPlayerDetect.prototype={getPlayerType:function(a,b){var c=this;this.playerId=a.id,this.eventSeqObj=new EventSeqLogger(a.id,a.debugPlayerLogMode,a.basePlayerStartTime),this.mpObj=new MacroProcessor(a.id,this.eventSeqObj),this.eventSeqObj.eLog("playerver_"+a.playerVer,a.id,""),this.adtag=nullOrUndefined(a.adtag)?"":a.adtag,this.sources=a.sources,zUtils.log("log","autoPlayerDetect::getPlayerType",c.debugMode),this.currentPlayerType=a.type;var d=c.PLAYERTYPE.HTML5;if(this.detectBandWidth(),nullOrUndefined(this.adtag)||""==this.adtag)if((nullOrUndefined(this.adtag)||""==this.adtag)&&!nullOrUndefined(a.sources)&&a.sources.length>0){var e=this.makeMediaFileFormat(a.sources);d=this.detectMediaFiles(e,this.getBandWidth(),this.isSecure),c.checkPlayerCanPlay(d,b)}else this.onErrorCallbackHandler(ZAUTOPLAYERERROR.CONFIGURATION.ERRORCODE,ZAUTOPLAYERERROR.CONFIGURATION.ERRORMSG);else this.processAdTags(this.adtag,b)},processAdTags:function(a,b){var c=this,d=function(a,d,e,f){if(null==a&&null!=d){f||c.xmlDataMap.putXML(e,d);var g=zUtils.parseXMLFromString(d);if(0==g.errorCode){var h=c.validateResponse(g.xmldoc);if(zUtils.log("log","autoPlayerDetect::successCallback::adType = "+h,c.debugMode),h==c.ADTYPE.WRAPPER){var i=c.getWrapperURL(c.wrapperElement);c.processAdTags(i,b)}else if(h==c.ADTYPE.INLINE){var j=c.getMediaFiles(c.inlineElement),k=c.getBandWidth(),l=c.detectMediaFiles(j,k,c.isSecure);c.checkPlayerCanPlay(l,b)}else c.onErrorCallbackHandler(ZAUTOPLAYERERROR.EMPTYORINVALIDVAST.ERRORCODE,ZAUTOPLAYERERROR.EMPTYORINVALIDVAST.ERRORMSG)}else c.onErrorCallbackHandler(ZAUTOPLAYERERROR.EMPTYORINVALIDVAST.ERRORCODE,ZAUTOPLAYERERROR.EMPTYORINVALIDVAST.ERRORMSG)}else c.onErrorCallbackHandler(ZAUTOPLAYERERROR.EMPTYORINVALIDVAST.ERRORCODE,ZAUTOPLAYERERROR.EMPTYORINVALIDVAST.ERRORMSG)};nullOrUndefined(a)||""==a?this.onErrorCallbackHandler(ZAUTOPLAYERERROR.CONFIGURATION.ERRORCODE,ZAUTOPLAYERERROR.CONFIGURATION.ERRORMSG):(this.isXMLTag=!1,a.indexOf("<VAST")!=-1&&(this.isXMLTag=!0),this.recordedTime.startTime=zUtils.getCurrentTime(),this.isXMLTag?d(null,a,a,!0):this.sendRequest(a,d))},checkPlayerCanPlay:function(a,b){var c=zUtils.isFlashEnabled();this.recordedTime.responseTime=zUtils.getCurrentTime();var d=this,e=this.recordedTime.responseTime-this.recordedTime.startTime;zUtils.log("log"," recorded wrapperChaseTime "+e,this.debugMode),d.eventSeqObj.eLog("wrapperChaseTime",this.playerId,e);var f={customScripts:{}};if(nullOrUndefined(this.customTrackers.customScripts)?f.customScripts={}:f.customScripts=this.customTrackers.customScripts,zUtils.log("log","checkPlayerCanPlay::detectPlayerType = "+a+" isFlash = "+c+" isIE10 "+zUtils.isIE10(),this.debugMode),this.currentPlayerType.toLowerCase()==this.PLAYERTYPE.HTML5)return b(this.PLAYERTYPE.HTML5,this.customTrackers,this.eventSeqObj,f),!1;var g=a==this.PLAYERTYPE.FLASH&&c,h=a==zUtils.PLAYERTYPE.HTML5&&zUtils.checkHtmlSupport()&&!zUtils.isIE10(),i=a==zUtils.PLAYERTYPE.HTML5&&zUtils.isIE10()&&c,j=a==this.PLAYERTYPE.FLASH&&!c&&zUtils.checkHtmlSupport()&&!zUtils.isIE10(),k=a==this.PLAYERTYPE.HTML5&&!zUtils.checkHtmlSupport()&&c,l=function(a){d.eventSeqObj.eLog("PlayerChoice",d.playerId+"_"+a,"")};g||i||k?(l("F"),b(this.PLAYERTYPE.FLASH,this.customTrackers,this.eventSeqObj,f)):h||j?(l("H"),b(this.PLAYERTYPE.HTML5,this.customTrackers,this.eventSeqObj,f)):(l("N"),this.onErrorCallbackHandler(ZAUTOPLAYERERROR.PLAYERNOTSUPPORT.ERRORCODE,ZAUTOPLAYERERROR.PLAYERNOTSUPPORT.ERRORMSG))},addErrorUrlTemplates:function(a){for(var b,c,d=a.childNodes,e=0,c=d.length;e<c;e++){if(b=d[e],"Error"===b.nodeName){var f=this.parseNodeText(b);zUtils.log("log","autoPlayerDetect::addErrorUrlTemplates : errorURLTemplates = "+f,this.debugMode),
this.errorURLTemplates.push(f)}"Extensions"==b.nodeName&&this.getExtensionParams(b)}},getExtensionParams:function(a){zUtils.log("log","autoPlayerDetect::getExtensionParams ",this.debugMode);var b,c,d,e,f,g,h,i,j,k=this.childsByName(a,"Extension");if("undefined"!=typeof a.childNodes&&k.length>0){for(var l=0,b=k.length;l<b;l++){for(var m in zUtils.extensionParams)c=this.childsByName(k[l],m),"undefined"!=typeof c&&c.length>0?(j=this.parseNodeText(c[0]),this.extParams[zUtils.extensionParams[m]]="undefined"!==j?j:""):this.extParams[zUtils.extensionParams[m]]="";if(i=this.childsByName(k[l],"ZCustomScripts"),"undefined"!=typeof i&&i.length>0)for(var n=0,o=i.length;n<o;n++){e=this.childsByName(i[n],"ScriptTag");for(var p=0,q=e.length;p<q;p++){f=e[p];var r={};g=f.getAttribute("event"),r.scriptType=f.getAttribute("type"),r.isSafe=f.getAttribute("isSafe"),r.trackingURLTemplate=this.parseNodeText(f),null!=g&&null!=r.trackingURLTemplate&&("undefined"==typeof this.customTrackers.customScripts[g]&&(this.customTrackers.customScripts[g]=[]),this.customTrackers.customScripts[g].push(r))}}if(d=this.childsByName(k[l],"ZCustomTrackingEvents"),"undefined"!=typeof d&&d.length>0)for(var n=0,o=d.length;n<o;n++){e=this.childsByName(d[n],"Tracking");for(var p=0,q=e.length;p<q;p++)f=e[p],g=f.getAttribute("event"),h=this.parseNodeText(f),null!=g&&null!=h&&("undefined"==typeof this.customTrackers.customTrackingEvents[g]&&(this.customTrackers.customTrackingEvents[g]=[]),this.customTrackers.customTrackingEvents[g].push(h))}}zUtils.log("log","autoPlayerDetect:: customTrackers ",this.debugMode),zUtils.log("log",this.customTrackers,this.debugMode)}},onErrorCallbackHandler:function(a,b){if(zUtils.log("log","onErrorCallbackHandler called",this.debugMode),nullOrUndefined(this.adtag)||""==this.adtag)return this.onErrorCallback("Empty adtag or empty sources",this.sources),!1;a=nullOrUndefined(a)?ZAUTOPLAYERERROR.DEFAULT.ERRORCODE:a,b=nullOrUndefined(b)?ZAUTOPLAYERERROR.DEFAULT.ERRORMSG:b,this.mpObj.setErrorCode(a),zUtils.trackURLs(this.mpObj.replaceMacros(this.errorURLTemplates));var c=this.getErrorObj();return c.errorCode=a,this.onAdErrorCallback(b,this.adtag,c),!1},getErrorObj:function(){var a={},b=zUtils.extensionParams;a.adId=nullOrUndefined(this.adId[0])?"":this.adId[0];for(var c in b)this.extParams[b[c]]?a[b[c]]=this.extParams[b[c]]:a[b[c]]="";return a},validateResponse:function(a){if(null==(null!=a?a.documentElement:void 0)||"VAST"!==a.documentElement.nodeName)return this.ADTYPE.INVALID;var b,c,d,e,f,g,h;for(c=0,d=a.documentElement.childNodes.length;c<d;c++)if(b=a.documentElement.childNodes[c],!nullOrUndefined(b)&&"Ad"===b.nodeName&&null!=b){g=b.childNodes;var i=b.getAttribute("id")||"";for(this.adId.push(i),f=0,e=g.length;f<e;f++){if(h=g[f],this.addErrorUrlTemplates(h),"Wrapper"===h.nodeName)return this.wrapperElement=h,this.ADTYPE.WRAPPER;if("InLine"===h.nodeName)return this.inlineElement=h,this.ADTYPE.INLINE}}return this.ADTYPE.INVALID},getWrapperURL:function(a){var b,c;return b=this.childByName(a,"VASTAdTagURI"),nullOrUndefined(b)||(c=this.parseNodeText(b)),c},sendRequest:function(a,b){return zUtils.log("log","autoPlayerDetect::sendRequest:: URL = "+a,this.debugMode),XHRURLHandler.supported()?XHRURLHandler.get(a,b):FlashURLHandler.supported()?FlashURLHandler.get(a,b):b()},getMediaFiles:function(a){for(var b,c,d,e,f,g,h,i,j=[],k=this.childByName(a,"Creatives"),l=this.childByName(k,"Creative").childNodes,m=0;m<l.length;m++)switch(l[m].nodeName){case"Linear":for(b=this.childsByName(l[m],"MediaFiles"),d=0,e=b.length;d<e;d++){h=b[d],c=this.childsByName(h,"MediaFile");for(var n=0,f=c.length;n<f;n++)g=c[n],i=new MediaFile,i.fileURL=this.parseNodeText(g),i.deliveryType=g.getAttribute("delivery"),i.codec=g.getAttribute("codec"),i.mimeType=g.getAttribute("type"),i.bitrate=parseInt(g.getAttribute("bitrate")||0),i.minBitrate=parseInt(g.getAttribute("minBitrate")||0),i.maxBitrate=parseInt(g.getAttribute("maxBitrate")||0),i.width=parseInt(g.getAttribute("width")||0),i.height=parseInt(g.getAttribute("height")||0),i.maintainAspectRatio=g.getAttribute("maintainAspectRatio")||!1,i.apiFramework=g.getAttribute("apiFramework")||"vast",j.push(i)}}return j},detectMediaFiles:function(a,b,c){var d,e=[],f=[],g=[],h=window.location.protocol,i=!1,j=!1,k=document.createElement("video");c&&(h="https:");var l=function(a,b){return a.protocol==b},m=document.createElement("a"),n=["video/mp4","video/webm","video/ogv"],o=["application/javascript","application/x-javascript"],p=["video/mp4","video/x-flv","application/x-shockwave-flash"];a.sort(function(a,b){return a.bitrate>b.bitrate});for(var q=0;q<a.length;q++){var r=a[q].fileURL,s=a[q].mimeType;m.href=r,d=nullOrUndefined(k.canPlayType)?"":k.canPlayType(s);var t=n.indexOf(s)>=0&&("maybe"===d||"probably"===d),u=o.indexOf(s)>=0;if(t||u){if(c&&!l(m,h))continue;e.push(a[q]),(0==b||b>a[q].bitrate)&&f.push(a[q]),i=!0}}if(!i)for(var q=0;q<a.length;q++){var r=a[q].fileURL,s=a[q].mimeType;if(m.href=r,p.indexOf(s)>=0){if(c&&!l(m,h))continue;e.push(a[q]),(0==b||b>a[q].bitrate)&&f.push(a[q]),j=!0}}f.length>0&&(e=f,e.sort(function(a,b){return a.bitrate<b.bitrate}));for(var v=0;v<e.length;v++)void 0!==e[v]&&g.push({type:e[v].mimeType,src:e[v].fileURL,adType:e[v].apiFramework,width:e[v].width,height:e[v].height});return this.filteredMediaSources=g,i?this.PLAYERTYPE.HTML5:!!j&&this.PLAYERTYPE.FLASH},detectBandWidth:function(){var a,b,c,d=1039,e=this;a=new Image,a.onload=function(){c=(new Date).getTime();var a=(c-b)/1e3,f=8*d;e.speedBps=(f/a).toFixed(2),e.speedKbps=(e.speedBps/1024).toFixed(2)},b=(new Date).getTime(),a.src=this.domainPath+"HTML/app/assets/images/10k.gif"},getBandWidth:function(){return this.speedKbps},childByName:function(a,b){var c,d,e,f;for(f=a.childNodes,d=0,e=f.length;d<e;d++)if(c=f[d],c.nodeName===b)return c},childsByName:function(a,b){var c,d,e,f,g;for(d=[],g=a.childNodes,e=0,f=g.length;e<f;e++)c=g[e],c.nodeName===b&&d.push(c);return d},parseNodeText:function(a){return a&&(a.textContent||a.text)},makeMediaFileFormat:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c].src,e=a[c].type;b.push({fileURL:d,mimeType:e})}return b}},ParallelProcessor.prototype={load:function(){var a=this,b=function(){a.setSelectionTimeout(),a.startNextPlayer()};setTimeout(b,a.selectionDelayMs),this.orderedVastLength<this.maxParallelism&&(this.maxParallelism=this.orderedVastLength),a.loadNextPlayer(this.maxParallelism)},loadNextPlayer:function(a){for(;this.currentIndex<a;){var b=this.currentIndex;this.currentIndex++,this.initilizePlayer(b)}},initilizePlayer:function(a){var b=this;if(a<b.orderedVastLength){var c=b.orderedVasts[a].playerId,d=b.createPlayerConfig(b.config,c);d.adtag=b.orderedVasts[a].adtag,zUtils.log("ParallelProcessor :: "," Creating player playerID => "+c,b.config.debugMode),b.dataModel.putPlayer(c,{},!1,!1,!1,!1,"");var e=function(a,c,d){b.dataModel.setPlayerObj(a,c),b.attachCallbacks(c)};b.createPlayers(d,c,e)}},createPlayers:function(a,b,c){var d=this,e=new Object;if(a.type.toLowerCase()===zUtils.PLAYERTYPE.FLASH){var f=[],g={};g=new EventSeqLogger(a.id,a.debugPlayerLogMode,a.basePlayerStartTime);new MacroProcessor(a.id,g);a.debugPlayerLogMode=!1,d.loadPlayer(a.type.toLowerCase(),a,f,g,function(b){c(a.id,b,e)})}else{if(a.type.toLowerCase()!==zUtils.PLAYERTYPE.HTML5&&a.type.toLowerCase()!==zUtils.PLAYERTYPE.AUTO)throw"invalid player type";var h=function(a,b,c){zUtils.log("log","ParallelProcessor::onAdErrorCallback",d.config.debugMode);var e=d.getPlayerIdByAdtag(b);zUtils.log("log","playerId = "+e+"  adtag "+b,d.config.debugMode),zUtils.log("bizlogic",e+" AdError ",d.config.debugMode),d.onAdErrorHandler(e)},i=function(a,b){zUtils.log("log","ParallelProcessor::onErrorCallback",d.config.debugMode)},j=function(b,f,g,h){a.xmlDataMap=e.xmlDataMap.getXMlObj(),d.dataModel.setCustomScript(a.id,h.customScripts),a.filteredMediaSources=e.filteredMediaSources,a.bandwidthSpeedKbps=e.getBandWidth(),d.loadPlayer(b,a,f,g,function(b){c(a.id,b,e)})};e=new AutoPlayerDetect(a.domainPath,a.isSecure,a.debugMode,h,i),e.getPlayerType(a,j)}},createPlayerConfig:function(a,b){var c=new Object;return c.type=a.type,c.id=b,c.width=a.width,c.height=a.height,c.pClient="vast",c.sources=[],c.playAdOnReady=!1,c.viewability=a.viewability,c.preLoadMedia=a.preLoadMedia,c.landingPageOnClick=a.landingPageOnClick,c.landingPageOnEsc=a.landingPageOnEsc,c.landingPageOnExit=a.landingPageOnExit,c.onclickFullscreen=a.onclickFullscreen,c.hideControls=a.hideControls,c.domainPath=a.domainPath,c.debugMode=a.debugMode,c.muteOnLoad=a.muteOnLoad,c.basePlayerStartTime=a.basePlayerStartTime,c.debugPlayerLogMode=a.debugPlayerLogMode,c.playerVer=a.playerVer,c.bandwidthSpeedKbps=a.bandwidthSpeedKbps,c},startNextPlayer:function(){if(this.impressionOccured)return zUtils.log("log","ParallelProcessor : doing nothing impression already occured "+this.impressionOccured,this.config.debugMode),!1;if(this.stopReceived)return zUtils.log("log","ParallelProcessor : doing nothing stop received "+this.stopReceived,this.config.debugMode),!1;if(!this.startAdReceived)return zUtils.log("log","ParallelProcessor : doing nothing startAd not received "+this.startAdReceived,this.config.debugMode),!1;for(var a=this.dataModel.getPlayerList(),b=0;b<a.length;b++)if(this.dataModel.getHasPlayerBeenStarted(a[b])&&!this.dataModel.getAdError(a[b]))return!1;for(var c=!0,b=0;b<a.length;b++){if(this.dataModel.getAdReady(a[b])&&!this.dataModel.getAdError(a[b])&&!this.dataModel.getHasPlayerBeenStarted(a[b])&&(c||this.selectionTimerFired)){this.dataModel.setHasPlayerBeenStarted(a[b],!0);var d=this.dataModel.getPlayer(a[b]);return this.registerCallback(d),this.setSelectedPlayerType(this.dataModel.getPlayerType(a[b])),this.applyApiState(d),d.startAd(),!0}c=c&&this.dataModel.getAdError(a[b])}},applyApiState:function(a){var b=this.getApiMemory();nullOrUndefined(b.getVolume())||a.setVolume(b.getVolume()),nullOrUndefined(b.getMute())||a.mute(b.getMute()),nullOrUndefined(b.getSeek())||a.seek(b.getSeek());for(var c=b.getButtonParams(),d=0;d<c.length;d++){var e=c[d];a.addButton(e.getControlPath(),e.getClassName(),e.getControlHandler(),e.getControlId(),e.getControlPosition(),e.getControlHPadding(),e.getControlVPadding(),e.getControlWidth(),e.getControlHeight())}for(var f=b.getButtonShowList(),g=0;g<f.length;g++)f[g].isShow?a.showButton(f[g].buttonId):a.hideButton(f[g].buttonId)},onAdImpressionHandler:function(){zUtils.log("log","ParallelProcessor : onAdImpressionHandler show the selected player and remove other player ",this.config.debugMode);for(var a=this.dataModel.getPlayerList(),b=this.getApiMemory(),c=0;c<a.length;c++)if(this.dataModel.getHasPlayerBeenStarted(a[c])&&!this.dataModel.getAdError(a[c])){this.hidePlayer(),zUtils.showChildDiv(a[c]);var d=nullOrUndefined(b.getWidth())?this.config.width:b.getWidth(),e=nullOrUndefined(b.getHeight())?this.config.height:b.getHeight(),f=this.dataModel.getPlayer(a[c]);f.resize(d,e)}else zUtils.removePlayer(a[c]);this.impressionOccured=!0},onAdErrorHandler:function(a){this.dataModel.setAdError(a,!0),this.loadNextPlayer(this.currentIndex+this.noOfTagsInitlizedAfterErr),this.startNextPlayer()||this.checkAllPlayerFails()},checkAllPlayerFails:function(){for(var a=!0,b=this.dataModel.getPlayerList(),c=0;c<b.length;c++)this.dataModel.getAdError(b[c])||(a=!1);a&&(this.disposeAllPlayers(),this.allFailedCallback("All parallel tags failed ",void 0,void 0))},stopSelection:function(){this.stopReceived=!0;for(var a=this.dataModel.getPlayerList(),b=0;b<a.length;b++)if(this.dataModel.getHasPlayerBeenStarted(a[b])&&!this.dataModel.getAdError(a[b])&&!this.impressionOccured)return!1;return!0},forceDie:function(){this.disposeAllPlayers(),this.allFailedCallback(" All Parallel tags failed : called forceDie ")},attachCallbacks:function(a){var b=this;a.onReady=function(){b.dataModel.setReady(a.id,!0),a.loadContent(),b.readyCallback(a.id)},a.onAdError=function(){zUtils.log("bizlogic",a.id+" AdError ",b.config.debugMode),b.loadNextPlayer(b.currentIndex+b.noOfTagsInitlizedAfterErr),b.dataModel.setAdError(a.id,!0),b.checkAllPlayerFails()},a.onAdReady=function(c){b.dataModel.setAdReady(a.id,!0),b.adReadyCallback(a.id,c),b.startNextPlayer()}},setStartAdReceived:function(){this.startAdReceived=!0,this.startNextPlayer()},setSelectionTimeout:function(){this.selectionTimerFired=!0,zUtils.log("log"," setSelectionTimeout occured ",this.config.debugMode)},disposeAllPlayers:function(){for(var a=this.dataModel.getPlayerList(),b=0;b<a.length;b++)zUtils.removePlayer(a[b])},getPlayerIdByAdtag:function(a){for(var b=0;b<this.orderedVasts.length;b++)if(this.orderedVasts[b].adtag==a)return this.orderedVasts[b].playerId;return!1}},DebugEvents.AD_READY="ADREADY",DebugEvents.RESPONSE_RECEIVED="RESPRCVD",DebugEvents.FALSE_IMPRESSION="FIMPR",DebugEvents.FALSE_POSITIVE="FPOST",DebugEvents.AD_SELECTED="SELECTED",DebugEvents.AD_DEBUG="ADDEBUG",DebugLogEvent.prototype={trackEvent:function(a){if(zUtils.log("log","DebugLogEvent::trackEvent "+a,this.cLog),!nullOrUndefined(this.parsedEvents[a])){var b=MacroProcessor.getMacroProcObj(this.playerId);b&&zUtils.trackURLs(b.replaceMacros(this.parsedEvents[a]))}},track:function(a){zUtils.log("log","DebugLogEvent::track "+a,this.cLog)}},DebugPlayer.prototype={eventSeqLog:function(a,b,c){try{this.eventSeqObj.eLog(a,b,c)}catch(a){zUtils.log("error",a)}},getTimeFrom:function(a,b){try{return b-a}catch(a){zUtils.log("error",a)}},startAd:function(){this.playerObj.startAd()},play:function(a){nullOrUndefined(this.playerObj.play)||this.playerObj.play(a)},pause:function(){nullOrUndefined(this.playerObj.pause)||this.playerObj.pause()},closeAd:function(){},playPause:function(){nullOrUndefined(this.playerObj.playPause)||this.playerObj.playPause()},stop:function(){nullOrUndefined(this.playerObj.stop)||this.playerObj.stop()},getVolume:function(){return nullOrUndefined(this.playerObj.getVolume)?0:this.playerObj.getVolume()},isFullScreen:function(){return!nullOrUndefined(this.playerObj.isFullScreen)&&this.playerObj.isFullScreen()},getState:function(){return this.playerObj.getState()},getDuration:function(){return nullOrUndefined(this.playerObj.getDuration)?0:this.playerObj.getDuration()},getPosition:function(){return nullOrUndefined(this.playerObj.getPosition)?0:this.playerObj.getPosition()},seek:function(a){nullOrUndefined(this.playerObj.seek)||this.playerObj.seek(a)},getControlsEnabled:function(){return this.playerObj.getControlsEnabled()},trackEvent:function(a){this.playerObj.trackEvent(a)},addButton:function(a,b,c,d,e,f,g,h,i){nullOrUndefined(this.playerObj.addButton)||this.playerObj.addButton(a,b,c,d,e,f,g,h,i)},showButton:function(a){nullOrUndefined(this.playerObj.showButton)||this.playerObj.showButton(a)},hideButton:function(a){nullOrUndefined(this.playerObj.hideButton)||this.playerObj.hideButton(a)},deleteButton:function(a){this.playerObj.deleteButton(a)},hideDefaultControls:function(){this.playerObj.hideDefaultControls()},showDefaultControls:function(){nullOrUndefined(this.playerObj)||this.playerObj.showDefaultControls()},mute:function(a){nullOrUndefined(this.playerObj.mute)||this.playerObj.mute(a)},isMute:function(){return this.playerObj.isMute()},getWidth:function(){return this.playerObj.getWidth()},getHeight:function(){return this.playerObj.getHeight()},setVolume:function(a){nullOrUndefined(this.playerObj.setVolume)||this.playerObj.setVolume(a)},appendScriptContent:function(a,b,c,d,e){nullOrUndefined(this.playerObj.appendScriptContent)||this.playerObj.appendScriptContent(a,b,c,d,e)},resize:function(a,b){nullOrUndefined(this.playerObj.resize)||this.playerObj.resize(a,b)},loadContent:function(){nullOrUndefined(this.playerObj.loadContent)||this.playerObj.loadContent()}},MACRO.ERRORCODE="ERRORCODE",MACRO.ZEVENTTRAC="ZEventTrac",MACRO.CACHEBUSTING="CACHEBUSTING",MACRO.CONTENTPLAYHEAD="CONTENTPLAYHEAD",MACRO.MEDIATYPE="MT",MACRO.ELAPSEDTIME="ET",MACRO.RANDOM="random","undefined"==typeof MacroProcessor&&"undefined"==typeof window.MacroProcessor)var MacroProcessor=function(a,b){this.id=a,this.eventSeqObj=b,this.macroVariable={},"undefined"==MacroProcessor.MapcroProcessorMap[a]?MacroProcessor.MapcroProcessorMap[a]=this:MacroProcessor.MapcroProcessorMap.push(this)};"undefined"==typeof MacroProcessor.MapcroProcessorMap&&(MacroProcessor.MapcroProcessorMap=[]),MacroProcessor.getMacroProcObj=function(a){try{for(var b=0;b<MacroProcessor.MapcroProcessorMap.length;b++)if(MacroProcessor.MapcroProcessorMap[b].id==a)return MacroProcessor.MapcroProcessorMap[b]}catch(a){zUtils.log("log","getMacroProcObj ",!0)}},MacroProcessor.prototype.setErrorCode=function(a){this.macroVariable[MACRO.ERRORCODE]=a},MacroProcessor.prototype.setContentPlayHead=function(a){this.macroVariable[MACRO.CONTENTPLAYHEAD]=a},MacroProcessor.prototype.setzEventTrack=function(a){this.macroVariable[MACRO.ZEVENTTRAC]=a},MacroProcessor.prototype.setMediaType=function(a){this.macroVariable[MACRO.MEDIATYPE]=encodeURIComponent(a)},MacroProcessor.prototype.setElapsedTime=function(a,b){var c=b-a;this.macroVariable[MACRO.ELAPSEDTIME]=c},MacroProcessor.prototype.setCacheBusting=function(){this.macroVariable[MACRO.CACHEBUSTING]=Math.round(1e10*Math.random()),this.macroVariable[MACRO.RANDOM]=this.macroVariable[MACRO.CACHEBUSTING]},MacroProcessor.prototype.replaceMacro=function(a,b){var c;c=!(!nullOrUndefined(b)&&!b);var d,e,f,g,a;this.setzEventTrack(this.eventSeqObj.getEventSeqList()),this.setElapsedTime(this.eventSeqObj.basePlayerStartTime,zUtils.getCurrentTime()),this.setCacheBusting();for(d in this.macroVariable)e=this.macroVariable[d],f="["+d+"]",g="%%"+d+"%%",a=a.replace(f,e),a=a.replace(g,e);return a=c?zAppendRandomNum(a):a},MacroProcessor.prototype.replaceMacros=function(a,b){var c;c=!(!nullOrUndefined(b)&&!b);var d,e,f,g;if(d=[],Array.isArray(a))for(f=0,g=a.length;f<g;f++)e=this.replaceMacro(a[f],c),d.push(e);return d},"undefined"==typeof EventSeqLogger.EventSeqLoggerMap&&(EventSeqLogger.EventSeqLoggerMap={}),EventSeqLogger.getEventSeqObj=function(a){return EventSeqLogger.EventSeqLoggerMap[a]},EventSeqLogger.prototype.eLog=function(a,b,c){this.events.push({nm:a,lbl:b,mtrc:c})},EventSeqLogger.prototype.getEventSeqList=function(){var a=this.events;return a.length>=this.DEFAULT_ALLOWED_LOGEVT_LIMIT&&(a=a.splice(0,this.DEFAULT_ALLOWED_LOGEVT_LIMIT)),this.enableLogger?JSON.stringify(a):""};var DataMap=function(){this.Map=new Object,this.XmlMap=new Object,this.customScripts=new Object};DataMap.prototype={putPlayer:function(a,b,c,d,e,f,g){this.Map[a]={playerId:a,playerObj:b,isReady:c,isAdReady:d,isAdError:e,hasPlayerBeenStarted:f,playerType:g}},putXML:function(a,b){this.XmlMap[a]=b},getXMlObj:function(){return this.XmlMap},setPlayerObj:function(a,b){this.Map[a].playerObj=b},getPlayer:function(a){return this.Map[a].playerObj},setReady:function(a,b){this.Map[a].isReady=b},getReady:function(a){return this.Map[a].isReady},setAdReady:function(a,b){this.Map[a].isAdReady=b},getAdReady:function(a){return this.Map[a].isAdReady},setAdError:function(a,b){this.Map[a].isAdError=b},getAdError:function(a){return this.Map[a].isAdError},setCustomScript:function(a,b){this.customScripts[a]=b},getCustomScript:function(a){return this.customScripts[a]},setHasPlayerBeenStarted:function(a,b){this.Map[a].hasPlayerBeenStarted=b},getHasPlayerBeenStarted:function(a){return this.Map[a].hasPlayerBeenStarted},setPlayerType:function(a,b){this.Map[a].playerType=b},getPlayerType:function(a){return this.Map[a].playerType},getDataMap:function(){return this.Map},getPlayerList:function(){var a=new Array;for(var b in this.Map)a.push(this.Map[b].playerId);return a}},apiMemory.prototype={setWidth:function(a){this.width=a},getWidth:function(){return this.width},setHeight:function(a){this.height=a},getHeight:function(){return this.height},setVolume:function(a){this.volume=a},getVolume:function(){return this.volume},setMute:function(a){this.mute=a},getMute:function(){return this.mute},setSeek:function(a){this.seek=a},getSeek:function(){return this.seek},addButtonParams:function(a){this.btnParams.push(a)},getButtonParams:function(){return this.btnParams},setButtonShow:function(a,b){this.buttonShow.push({buttonId:a,isShow:b})},getButtonShowList:function(){return this.buttonShow},removeButton:function(a){for(var b=0;b<this.btnParams.length;b++)this.btnParams[b].getControlId()==a&&this.btnParams.splice(b,1)}};var Button=function(a,b,c,d,e,f,g,h,i){this.controlPath=a,this.className=b,this.controlHandler=c,this.controlId=d,this.controlPosition=e,this.controlHPadding=f,this.controlVPadding=g,this.controlWidth=h,this.controlHeight=i};Button.prototype={getControlPath:function(){return this.controlPath},getClassName:function(){return this.className},getControlHandler:function(){return this.controlHandler},getControlId:function(){return this.controlId},getControlPosition:function(){return this.controlPosition},getControlHPadding:function(){return this.controlHPadding},getControlVPadding:function(){return this.controlVPadding},getControlWidth:function(){return this.controlWidth},getControlHeight:function(){return this.controlHeight}};var zUtils=function(){};zUtils.log=function(a,b,c){if(c)switch(a.toLowerCase()){case"warn":console.warn(b);break;case"info":console.info(b);break;case"error":console.error(b);break;case"trace":console.trace(b);break;case"bizlogic":"undefined"!=typeof console.bizlogic&&console.bizlogic(b);break;default:console.log(b)}},zUtils.createChildDiv=function(a,b){var c=document.createElement("div");c.style.visibility="visible",c.style.position="fixed",c.style.left="-99999px",c.style.top="-99999px";var d=document.createElement("div");d.id=b,c.appendChild(d);var e=document.getElementById(a);e.appendChild(c)},zUtils.showChildDiv=function(a){var b=document.getElementById(a).parentNode;b.style.visibility="visible",b.style.position="",b.style.left="",b.style.top=""},zUtils.hideChildDiv=function(a){var b=document.getElementById(a).parentNode;b.style.visibility="hidden"},zUtils.removePlayer=function(a){var b=document.getElementById(a);nullOrUndefined(b)||(b.parentNode.style.visibility="hidden",b.parentNode.removeChild(b))},zUtils.clone=function(a){if(null==a||"object"!=typeof a)return a;var b=a.constructor();for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},zUtils.PLAYERTYPE={FLASH:"flash",HTML5:"html5",AUTO:"auto"},zUtils.trackURLs=function(a){var b,c,d,e,f=[];for(b=0,c=a.length;b<c;b++)e=a[b],d=new Image,f.push(d.src=e);return f},zUtils.parseXMLFromString=function(a){var b,c=0,d="";if(window.DOMParser){var e=new DOMParser;try{b=e.parseFromString(a,"text/xml")}catch(a){return{errorCode:c,errorMessage:d}}}else{if("undefined"==typeof ActiveXObject)return c=100,d="Cannot create XMLDocument object",{errorCode:c,errorMessage:d};ids=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","Msxml2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument"];for(var f=0,g=ids.length;f<g;++f)try{b=new ActiveXObject(ids[f]);break}catch(a){}if(!b)return c=100,d="Cannot create XMLDocument object",{errorCode:c,errorMessage:d};if(b.loadXML(a),b.parseError&&0!=b.parseError.errorCode)return c=100,d="XML Parsing Error: "+b.parseError.reason+" at line "+b.parseError.line+" at position "+b.parseError.linepos,{errorCode:c,errorMessage:d};if(!b.documentElement)return c=100,d="XML Parsing Error!",{errorCode:c,errorMessage:d};if("parsererror"==b.documentElement.nodeName)return c=100,d=b.documentElement.childNodes[0].nodeValue,{errorCode:c,errorMessage:d}}return{xmldoc:b,errorCode:c,errorMessage:d}},zUtils.isIE10=function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");return b>0?parseInt(a.substring(b+5,a.indexOf(".",b)))<10:navigator.userAgent.toString().toLowerCase().indexOf("trident/6")>-1},zUtils.isFlashEnabled=function(){var a=!1;try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");b&&(a=!0)}catch(b){navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=!0)}return a},zUtils.checkHtmlSupport=function(){var a=document.createElement("video"),b={video:!!a.play};return!!b.video},zUtils.checkiOSDevice=function(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)},zUtils.extensionParams={NID:"nId",PUBID:"pubId",CAMID:"camId",CHANID:"chanId",ADVID:"advId",DIMID:"dimId",REQNID:"reqnId",REQCHANID:"reqchanId",REQDIMID:"reqdimId",REQPUBID:"reqpubId"},zUtils.getCurrentTime=function(){return(new Date).getTime()},zUtils.addDays=function(a,b){return new Date(a.getTime()+24*b*60*60*1e3)},zUtils.createFriendlyiFrame=function(a,b,c){try{var d=document.getElementById(c),e=document.createElement("iframe");e.id="iframe_"+a,e.src="about:blank",e.setAttribute("allowfullscreen",!0),e.setAttribute("seamless",!0),e.setAttribute("frameborder",0),e.setAttribute("scrolling","no"),e.width="0px",e.height="0px",e.style.display="none",d.appendChild(e);var f="<!DOCTYPE html><head><body>"+b+"</body></html>",g=e.contentDocument||e.contentWindow.document;g.open("text/html","replace"),g.write(f),g.close()}catch(a){zUtils.log("warn",a,!0)}},zUtils.createNonFriendlyiframe=function(a,b){var c=document.createElement("iframe");return c.id="iframe_"+a,c.src=b,c.setAttribute("allowfullscreen",!0),c.setAttribute("seamless",!0),c.setAttribute("frameborder",0),c.setAttribute("scrolling","no"),c.width="0px",c.height="0px",c.style.display="none",c},zUtils.getRandMization=function(a,b,c){var d=Math.random();return d<c?b:a},XHRURLHandler.xhr=function(){var a;if(a=new window.XMLHttpRequest,"withCredentials"in a)return a},XHRURLHandler.supported=function(){return!!this.xhr()},XHRURLHandler.getWithoutCredentials=function(a,b){var c;return c=this.xhr(),c.open("GET",a,!0),c.send(),c.onError=function(){XHRURLHandler.onError(a,b)},c.onreadystatechange=function(){if(4===c.readyState)return c.responseText?b(null,c.responseText,a,!1):b("InValid URL",null,a,!1)}},XHRURLHandler.onError=function(a,b){b("Error in getting url",null,null,!1)},XHRURLHandler.get=function(a,b){var c;c=this.xhr();try{return c.open("GET",a,!0),c.withCredentials=!0,c.send(),c.onError=function(){XHRURLHandler.onError(a,b)},c.onreadystatechange=function(){if(4===c.readyState)return c.responseText?b(null,c.responseText,a,!1):XHRURLHandler.getWithoutCredentials(a,b)}}catch(a){return b("Error in getting url",null,null,!1)}},FlashURLHandler.xdr=function(){var a;return window.XDomainRequest&&(a=new XDomainRequest),a},FlashURLHandler.supported=function(){return!!this.xdr()},FlashURLHandler.get=function(a,b){var c,d;if(!(d="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0))return b();d.async=!1,c=this.xdr();try{return c.open("GET",a),c.send(),c.onerror=function(){XHRURLHandler.onError(a,b)},c.onprogress=function(){},c.ontimeout=function(){},c.onload=function(){return b(null,c.responseText,a,!1)}}catch(a){return b("Error in getting url",null,null,!1)}},TokenChecker.prototype.checkToken=function(a){var b,c;return("undefined"!=a||null!=a||""!=a)&&(b=this.debugTokenDecryptorObj.decode(a),b=b.split("|"),c=zUtils.getCurrentTime(),this.isDebug(b[0],c,b[1]))},TokenChecker.prototype.isDebug=function(a,b,c){var d=new Date(parseInt(a)).getTime(),e=zUtils.addDays(new Date(d),this.TOKENDATERANGE);return b<=e&&b>=d&&c==this.tokenKey},DebugTokenDecryptor.prototype.decode=function(a){for(var b,a=decodeURIComponent(a),c="",d=a.length-1;d>=0;d--)b=a.charAt(d),c+=b>="a"&&b<="z"||b>="A"&&b<="Z"?String.fromCharCode(65+this.key.indexOf(b)%26):b;return c},JsScriptExecutor.prototype.appendScriptContent=function(a,b,c,d,e){try{var f,g=document.getElementById("iframe_"+a),h="SCRIPTSRC",i=g.contentWindow.document.getElementsByTagName("body")[0];if(c==h?(f=document.createElement("script"),f.type="text/javascript",f.src=b):f=zUtils.createNonFriendlyiframe(c,b),"true"==d||1==d)i.insertBefore(f,i.firstChild);else{var j;j=c==h?"<script src="+b+" ></script>":"<iframe src = "+b+"></iframe>",zUtils.createFriendlyiFrame(c,j,e)}}catch(a){zUtils.log("log",a,!0)}},function(){var a=function(){},b=getScriptParams();if(null!=b&&void 0!==typeof b){var c,d,e=b.split("&");for(d=0,c=e.length;c>d;d++){var f=e[d].split("="),g=f[0],h=f[1];if("callback"==g&&(a=window[h])&&"function"==typeof a){a.call();break}}}Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;if(null==this)throw new TypeError('"this" is null or not defined');var d=Object(this),e=d.length>>>0;if(0===e)return-1;var f=+b||0;if(Math.abs(f)===1/0&&(f=0),f>=e)return-1;for(c=Math.max(f>=0?f:e-Math.abs(f),0);e>c;){if(c in d&&d[c]===a)return c;c++}return-1}),Object.defineProperties||(Object.defineProperties=function(a,b){var c;for(c in b)hasOwnProp.call(b,c)&&Object.defineProperty(a,c,b[c])}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)})}();var zPlayerCnf=function(){function a(){}return a.configMap={domainPath:"http://c14.zedo.com/utils/zplayer/wrapper/",secureDomainPath:"https://ss3.zedo.com/utils/zplayer/wrapper/",hostname:"c14.zedo.com",port:"9090",playerVer:"v7.2",replaceToPlayerVer:"v7.2",randmizationPercentage:0},a.getProperty=function(b){return a.configMap[b]},a}();