!function n(t,e,r){function o(u,f){if(!e[u]){if(!t[u]){var c="function"==typeof require&&require;if(!f&&c)return c(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var l=e[u]={exports:{}};t[u][0].call(l.exports,function(n){var e=t[u][1][n];return o(e?e:n)},l,l.exports,n,t,e,r)}return e[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(n,t,e){"use strict";function r(){}function o(n){try{return n.then}catch(t){return d=t,w}}function i(n,t){try{return n(t)}catch(e){return d=e,w}}function u(n,t,e){try{n(t,e)}catch(r){return d=r,w}}function f(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._37=0,this._12=null,this._59=[],n!==r&&v(n,this)}function c(n,t,e){return new n.constructor(function(o,i){var u=new f(r);u.then(o,i),s(n,new p(t,e,u))})}function s(n,t){for(;3===n._37;)n=n._12;return 0===n._37?void n._59.push(t):void y(function(){var e=1===n._37?t.onFulfilled:t.onRejected;if(null===e)return void(1===n._37?l(t.promise,n._12):a(t.promise,n._12));var r=i(e,n._12);r===w?a(t.promise,d):l(t.promise,r)})}function l(n,t){if(t===n)return a(n,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var e=o(t);if(e===w)return a(n,d);if(e===n.then&&t instanceof f)return n._37=3,n._12=t,void h(n);if("function"==typeof e)return void v(e.bind(t),n)}n._37=1,n._12=t,h(n)}function a(n,t){n._37=2,n._12=t,h(n)}function h(n){for(var t=0;t<n._59.length;t++)s(n,n._59[t]);n._59=null}function p(n,t,e){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.promise=e}function v(n,t){var e=!1,r=u(n,function(n){e||(e=!0,l(t,n))},function(n){e||(e=!0,a(t,n))});e||r!==w||(e=!0,a(t,d))}var y=n("asap/raw"),d=null,w={};t.exports=f,f._99=r,f.prototype.then=function(n,t){if(this.constructor!==f)return c(this,n,t);var e=new f(r);return s(this,new p(n,t,e)),e}},{"asap/raw":4}],2:[function(n,t,e){"use strict";function r(n){var t=new o(o._99);return t._37=1,t._12=n,t}var o=n("./core.js");t.exports=o;var i=r(!0),u=r(!1),f=r(null),c=r(void 0),s=r(0),l=r("");o.resolve=function(n){if(n instanceof o)return n;if(null===n)return f;if(void 0===n)return c;if(n===!0)return i;if(n===!1)return u;if(0===n)return s;if(""===n)return l;if("object"==typeof n||"function"==typeof n)try{var t=n.then;if("function"==typeof t)return new o(t.bind(n))}catch(e){return new o(function(n,t){t(e)})}return r(n)},o.all=function(n){var t=Array.prototype.slice.call(n);return new o(function(n,e){function r(u,f){if(f&&("object"==typeof f||"function"==typeof f)){if(f instanceof o&&f.then===o.prototype.then){for(;3===f._37;)f=f._12;return 1===f._37?r(u,f._12):(2===f._37&&e(f._12),void f.then(function(n){r(u,n)},e))}var c=f.then;if("function"==typeof c){var s=new o(c.bind(f));return void s.then(function(n){r(u,n)},e)}}t[u]=f,0===--i&&n(t)}if(0===t.length)return n([]);for(var i=t.length,u=0;u<t.length;u++)r(u,t[u])})},o.reject=function(n){return new o(function(t,e){e(n)})},o.race=function(n){return new o(function(t,e){n.forEach(function(n){o.resolve(n).then(t,e)})})},o.prototype["catch"]=function(n){return this.then(null,n)}},{"./core.js":1}],3:[function(n,t,e){"use strict";function r(){if(c.length)throw c.shift()}function o(n){var t;t=f.length?f.pop():new i,t.task=n,u(t)}function i(){this.task=null}var u=n("./raw"),f=[],c=[],s=u.makeRequestCallFromTimer(r);t.exports=o,i.prototype.call=function(){try{this.task.call()}catch(n){o.onerror?o.onerror(n):(c.push(n),s())}finally{this.task=null,f[f.length]=this}}},{"./raw":4}],4:[function(n,t,e){(function(n){"use strict";function e(n){f.length||(u(),c=!0),f[f.length]=n}function r(){for(;s<f.length;){var n=s;if(s+=1,f[n].call(),s>l){for(var t=0,e=f.length-s;e>t;t++)f[t]=f[t+s];f.length-=s,s=0}}f.length=0,s=0,c=!1}function o(n){var t=1,e=new a(n),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}function i(n){return function(){function t(){clearTimeout(e),clearInterval(r),n()}var e=setTimeout(t,0),r=setInterval(t,50)}}t.exports=e;var u,f=[],c=!1,s=0,l=1024,a=n.MutationObserver||n.WebKitMutationObserver;u="function"==typeof a?o(r):i(r),e.requestFlush=u,e.makeRequestCallFromTimer=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(n,t,e){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(n,t){var e=arguments.length?this.then.apply(this,arguments):this;e.then(null,function(n){setTimeout(function(){throw n},0)})})},{}],6:[function(n,t,e){n("asap");"undefined"==typeof Promise&&(Promise=n("./lib/core.js"),n("./lib/es6-extensions.js")),n("./polyfill-done.js")},{"./lib/core.js":1,"./lib/es6-extensions.js":2,"./polyfill-done.js":5,asap:3}]},{},[6]);

function AutoPlayerDetect(a,b,c,d,e){this.ADTYPE={WRAPPER:"Wrapper",INLINE:"InLine",INVALID:"InValid"},this.playerId="",this.adtag="",this.wrapperElement={},this.inlineElement={},this.domainPath=a,this.speedKbps=0,this.speedBps=0,this.isSecure=b,this.PLAYERTYPE={FLASH:"flash",HTML5:"html5"},this.xmlDataMap=new DataMap,this.filteredMediaSources=[],this.isXMLTag=!1,this.debugMode=c,this.errorURLTemplates=[],this.onAdErrorCallback=d,this.onErrorCallback=e,this.adId=[],this.sources=[],this.extParams=[],this.currentPlayerType="",this.responseTime=new Date,this.customTrackers=new Object,this.milestones=[],this.customScripts={},this.customTrackers={},this.creativePropertiesObj={_once:!1},this.recordedTime={startTime:null,responseTime:null}}function nullOrUndefined(a){return"undefined"==typeof a||null==a}function ParallelProcessor(a,b,c,d,e,f,g,h,i,j,k){this.orderedVasts=[],this.waitForAdMaxMs=c.waitForAdMaxMs,this.selectionDelayMs=c.selectionDelayMs;var l=a.parentId;Object();this.dataModel=b,this.config=a,this.impressionOccured=!1,this.stopReceived=!1,this.startAdReceived=!1,this.currentIndex=0,this.registerCallback=d,this.allFailedCallback=e,this.getApiMemory=f,this.hidePlayer=g,this.readyCallback=h,this.videoExtensions={},this.adReadyCallback=i,this.setSelectedPlayerType=k,this.waitForLimoStatMS=5e3,this.selectionTimerFired=!1,this.startDemandPartnerTimer=!1,this.loadPlayer=j;for(var m=0;m<c.orderedVasts.length;m++)l=this.config.parentId+(m+1),zUtils.createChildDiv(this.config.parentId,l),this.orderedVasts.push({adtag:c.orderedVasts[m],playerId:l});this.orderedVastLength=this.orderedVasts.length,this.maxParallelism=c.maxParallelism,this.noOfTagsInitlizedAfterErr=c.noOfTagsInitlizedAfterErr;try{a.demandPartnerTimeout=parseInt(a.demandPartnerTimeout,10),nullOrUndefined(a.demandPartnerTimeout)||isNaN(a.demandPartnerTimeout)||(this.demandPartnerTimeout=a.demandPartnerTimeout,this.startDemandPartnerTimer=!0,zUtils.log("log"," Demand Partner Timer initialized. "))}catch(a){zUtils.log("warn"," Error in Demand Partner Timer initialization "+a)}var n=this,o=function(){if(!n.impressionOccured)if(n.stopSelection())n.forceDie();else{var a=function(){n.impressionOccured||n.forceDie()};zUtils.log("log"," Parallel Processor is in limbo state waitForLimo "+n.waitForLimoStatMS),setTimeout(a,n.waitForLimoStatMS)}};nullOrUndefined(n.waitForAdMaxMs)||(zUtils.log("log"," stopParallelProcessor Timer Started "+n.waitForAdMaxMs),setTimeout(o,n.waitForAdMaxMs))}function DebugPlayer(a,b,c,d){this.playerObj=a,this.debgLgEvt=b,this.cLog=c,this.isStartAdCalled=!1,this.isAdImpressionCalled=!1,this.isAdComplete=!1,this.pReadyTime=0,this.adReadyTime=0,this.startAdTime=0,this.adImprTime=0,this.adErrorTime=0,this.id=this.playerObj.id;var e=this;this.eventSeqObj=d;var f=function(a){var b=nullOrUndefined(a)?"":a.toLowerCase();return"vast"==b?"1":"vpaid"==b?"2":"N"};this.playerObj.onAdReady=function(a){e.adReadyTime=zUtils.getCurrentTime();try{e.debgLgEvt.trackEvent(DebugEvents.AD_READY),e.eventSeqLog("AdAvailability",this.id+"_Y",e.getTimeFrom(e.pReadyTime,e.adReadyTime)),e.eventSeqLog("AvailableAdApi",this.id+"_"+f(a.adType),"")}catch(a){}e.onAdReady(a)},this.playerObj.onAdImpression=function(a,b){e.adImprTime=zUtils.getCurrentTime();try{e.eventSeqLog("AdResult",this.id+"_I",e.getTimeFrom(e.startAdTime,e.adImprTime)),e.eventSeqLog("AdResultType",this.id+"_"+f(a.adType),e.getTimeFrom(e.startAdTime,e.adImprTime))}catch(a){}e.isAdImpressionCalled=!0,e.onAdImpression(a,b)},this.playerObj.onAdError=function(a,b,c){zUtils.log("log"," DebugPlayer :: onAdError,  isStartAdCalled "+e.isStartAdCalled+" isAdImpressionCalled "+e.isAdImpressionCalled,this.cLog),e.adErrorTime=zUtils.getCurrentTime(),e.isStartAdCalled&&!e.isAdImpressionCalled?(e.eventSeqLog("AdAvailability",this.id+"_N",e.getTimeFrom(e.pReadyTime,e.adErrorTime)),e.debgLgEvt.trackEvent(DebugEvents.FALSE_POSITIVE)):e.isAdImpressionCalled&&!this.isAdComplete&&(e.eventSeqLog("AdResult",this.id+"_N",e.getTimeFrom(e.startAdTime,e.adErrorTime)),e.debgLgEvt.trackEvent(DebugEvents.FALSE_IMPRESSION)),e.onAdError(a,b,c)},this.playerObj.onStartAd=function(){e.isStartAdCalled=!0,e.debgLgEvt.trackEvent(DebugEvents.AD_SELECTED),e.startAdTime=zUtils.getCurrentTime(),e.eventSeqLog("AdStarted",this.id,e.getTimeFrom(e.adReadyTime,e.startAdTime)),e.onStartAd()},this.playerObj.onAdCompanions=function(a,b){e.onAdCompanions(a,b)},this.playerObj.onReady=function(){e.onReady(),e.pReadyTime=zUtils.getCurrentTime(),e.eventSeqLog("PlayerReady",this.id+"_LoadTime",e.getTimeFrom(e.eventSeqObj.basePlayerStartTime,e.pReadyTime))},this.playerObj.onPlay=function(a){e.onPlay(a)},this.playerObj.onComplete=function(){e.onComplete()},this.playerObj.onErrorTracked=function(a){e.onErrorTracked(a)},this.playerObj.onBeforeComplete=function(){e.onBeforeComplete()},this.playerObj.onVolume=function(a){e.onVolume(a)},this.playerObj.onFullscreen=function(a){e.onFullscreen(a)},this.playerObj.onResize=function(a,b){e.onResize(a,b)},this.playerObj.onMuteChange=function(a){e.onMuteChange(a)},this.playerObj.onPause=function(a){e.onPause(a)},this.playerObj.onBuffer=function(a){e.onBuffer(a)},this.playerObj.onError=function(a){e.onError(a)},this.playerObj.onAdComplete=function(a){e.onAdComplete(a)},this.playerObj.onAdSkipped=function(){e.onAdSkipped()},this.playerObj.onNonLinearAd=function(){e.onNonLinearAd()},this.playerObj.onBeforePlay=function(){e.onBeforePlay()},this.playerObj.onAdTime=function(a,b,c){e.onAdTime(a,b,c)},this.playerObj.onSeek=function(a,b){e.onSeek(a,b)},this.playerObj.onTime=function(a,b){e.onTime(a,b)},this.playerObj.onAdClick=function(a,b){e.onAdClick(a,b)},this.playerObj.onAdStarted=function(){e.onAdStarted()},this.playerObj.onAdStopped=function(){e.onAdStopped()},this.playerObj.onAdUserClose=function(){e.onAdUserClose()},this.playerObj.onClick=function(){e.onClick()},this.playerObj.onAdClosed=function(){e.onAdClosed()},this.playerObj.onAdVideoFirstQuartile=function(){e.onAdVideoFirstQuartile()},this.playerObj.onAdInteraction=function(){e.onAdInteraction()},this.playerObj.onAdVideoMidpoint=function(){e.onAdVideoMidpoint()},this.playerObj.onAdVideoThirdQuartile=function(){e.onAdVideoThirdQuartile()},e.debgLgEvt.trackEvent(DebugEvents.RESPONSE_RECEIVED)}function apiMemory(){this.btnParams=[],this.buttonShow=[],this.width=null,this.height=null,this.mute=null,this.volume=null}function ZZMilestones(a){this.milestonEvents=a,this.milestons={},this.prepareMilestoneObject(this.milestonEvents),this.addedMilestons=[],this.avoidMultiMilestons=[]}function MACRO(){}function EventSeqLogger(a,b,c){this.events=[],this.enableLogger=b,this.DEFAULT_ALLOWED_LOGEVT_LIMIT=15,this.basePlayerStartTime=c,EventSeqLogger.EventSeqLoggerMap[a]=this}function DemandPartenerTimerManager(a,b,c,d,e,f,g){var h=this;this.dpTimer=null,this.timer=new ZDefferedPromise;var i=function(){h.timer.resolve()};h.dpTimer=setTimeout(i.bind(this),e),b.getPromise().then(function(){c.reject(),h.timer.reject(),clearTimeout(h.dpTimer)}),b.getPromise().then(void 0,function(a){}),c.getPromise().then(function(){d.reject(),b.reject(),h.timer.reject(),clearTimeout(h.dpTimer)}),f.then(function(){h.timer.getPromise().then(function(){zfireImagePixels(g),b.resolve(),d.resolve()}),h.timer.getPromise().then(void 0,function(a){})})}function ZfireImagePixel(a){return new Promise(function(b,c){var d=new Image;d.onload=function(){b()},d.onerror=function(a){c()},d.src=a})}function zfireImagePixels(a){var b=[];if(!a)return new Promise(function(a,b){b()});for(var c=0;c<a.length;c++)b.push(ZfireImagePixel(a[c]));return Promise.all(b)}function zzOVV(){function a(a){try{if(window.top==window)return a.OnPage;for(var b=window,c=0;b.parent!=b&&c<1e3;){if(b.parent.document.domain!=b.document.domain)return a.CrossDomainIframe;b=b.parent}return a.SameDomainIframe}catch(a){}return a.CrossDomainIframe}this.DEBUG=!1,this.asset=null,this.positionInterval,this.userAgent=window.testOvvConfig&&window.testOvvConfig.userAgent?window.testOvvConfig.userAgent:navigator.userAgent,this.servingScenarioEnum={OnPage:1,SameDomainIframe:2,CrossDomainIframe:3},this.servingScenario=a(this.servingScenarioEnum),this.IN_IFRAME=this.servingScenario!=this.servingScenarioEnum.OnPage,this.IN_XD_IFRAME=this.servingScenario==this.servingScenarioEnum.CrossDomainIframe,this.geometrySupported=!this.IN_XD_IFRAME,this.beaconsSupported=!1;var b=new OVVBrowser(this.userAgent);this.browser=b.getBrowser(),this.browserIDEnum=b.getBrowserIDEnum();var c=1e3;this.interval=c,this.releaseVersion="OVVRELEASEVERSION",this.buildVersion="OVVBUILDVERSION";var d={},e=[],f=1e3,g=[];this.addAsset=function(a){d.hasOwnProperty(a.getId())||(d[a.getId()]=a,this.asset=a)},this.removeAsset=function(a){delete d[a.getId()]},this.getAssetById=function(a){return d[a]},this.getAds=function(){var a={};for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);return a},this.subscribe=function(a,b,c,d){if(d)for(key in e[b])e[b][key]&&i(e[b][key].eventName,a)&&j(function(){c(b,e[b][key])});for(key in a)g[a[key]+b]||(g[a[key]+b]=[]),g[a[key]+b].push({Func:c})},this.publish=function(a,b,c){var d={eventName:a,eventTime:h(),ovvArgs:c};if(e[b]||(e[b]=[]),e[b].length<f&&e[b].push(d),a&&b&&g[a+b]instanceof Array)for(var i=0;i<g[a+b].length;i++){var k=g[a+b][i];k&&k.Func&&"function"==typeof k.Func&&j(function(){k.Func(b,d)})}},this.getAllReceivedEvents=function(a){return e[a]};var h=function(){"use strict";return Date.now?Date.now():(new Date).getTime()},i=function(a,b){for(var c=0;c<b.length;c++)if(b[c]===a)return!0;return!1},j=function(a){try{var b=a();return void 0===b||b}catch(a){return!1}}}function OVVCheck(){this.clientHeight=-1,this.clientWidth=-1,this.error="",this.focus=null,this.fps=-1,this.id="",this.beaconsSupported=null,this.geometrySupported=null,this.geometryViewabilityState="",this.beaconViewabilityState="",this.cssViewabilityState="",this.domViewabilityState="",this.technique="",this.beacons=new Array,this.inIframe=null,this.objBottom=-1,this.objLeft=-1,this.objRight=-1,this.objTop=-1,this.percentViewable=-1,this.percentObscured=0,this.viewabilityState=""}function OVVBrowser(a){function b(a,b){var c=function(){for(var b={ID:0,name:"",version:""},c=a,f=0;f<e.length;f++)if(null!=c.match(new RegExp(e[f].brRegex))){if(b.ID=e[f].id,b.name=e[f].name,null==e[f].verRegex)break;var g=c.match(new RegExp(e[f].verRegex+"[0-9]*"));if(null!=g){var h=g[0].match(new RegExp(e[f].verRegex));b.version=g[0].replace(h[0],"")}var i=c.match(new RegExp(d+"[0-9\\.]*"));null!=i&&(b.os=i[0]);break}return b},d="(Windows NT )",e=[{id:4,name:"Opera",brRegex:"OPR|Opera",verRegex:"(OPR/|Version/)"},{id:1,name:"MSIE",brRegex:"MSIE|Trident/7.*rv:11|rv:11.*Trident/7",verRegex:"(MSIE |rv:)"},{id:2,name:"Firefox",brRegex:"Firefox",verRegex:"Firefox/"},{id:3,name:"Chrome",brRegex:"Chrome",verRegex:"Chrome/"},{id:5,name:"Safari",brRegex:"Safari|(OS |OS X )[0-9].*AppleWebKit",verRegex:"Version/"}];return c()}var c={MSIE:1,Firefox:2,Chrome:3,Opera:4,safari:5},d=b(a);this.getBrowser=function(){return d},this.getBrowserIDEnum=function(){return c}}function OVVBeaconSupportCheck(){var a=new OVVBrowser($zovvObj.userAgent),b=a.getBrowser(),c=a.getBrowserIDEnum();this.supportsBeacons=function(){var a=6.3,d=b.ID==c.MSIE,e=b.version>=11,f=b.os?b.os.split(" "):[0],g=f[f.length-1],h=g>=a;return!d||e&&h}}function ZOVVAsset(a,b){var c,d,e=13,f=Math.sqrt(2),g=0,h=1,i=2,j=3,k=4,l=5,m=6,n=7,o=8,p=9,q=10,r=11,s=12,t=13,u=500,v=a,w=0,x=$zovvObj.DEBUG?20:1,y=b.geometryViewabilityCalculator,z=function(){return null},A=function(){return null},B=new OVVBeaconSupportCheck;this.checkViewability=function(){var a=new OVVCheck;if(a.id=v,a.inIframe=$zovvObj.IN_IFRAME,a.geometrySupported=$zovvObj.geometrySupported,a.focus=S(),!d)return a.error="Player not found!",a;if(C(a,d)===!0){if(!$zovvObj.DEBUG)return a;a.cssViewabilityState=OVVCheck.UNVIEWABLE}if(D(a,d)===!0){if(!$zovvObj.DEBUG)return a;a.domViewabilityState=OVVCheck.UNVIEWABLE}if(!B.supportsBeacons()&&a.geometrySupported===!1&&(a.viewabilityState=OVVCheck.UNMEASURABLE,!$zovvObj.DEBUG))return a;if(a.geometrySupported){if(a.technique=OVVCheck.GEOMETRY,F(a,d),a.viewabilityState=a.percentViewable>=50&&a.focus?OVVCheck.VIEWABLE:OVVCheck.UNVIEWABLE,!$zovvObj.DEBUG)return a;a.geometryViewabilityState=a.viewabilityState}var b=L(0),c=O(0);if(b&&b.isViewable&&c){var e=K(c)&&b.isViewable();a.beaconsSupported=!e,a.beaconsSupported=!1}else a.beaconsSupported=!1;if(H())if(a.beaconsSupported){a.technique=OVVCheck.BEACON;var f=G(a);null===f?(a.viewabilityState=OVVCheck.UNMEASURABLE,$zovvObj.DEBUG&&(a.beaconViewabilityState=OVVCheck.UNMEASURABLE)):(a.viewabilityState=f?OVVCheck.VIEWABLE:OVVCheck.UNVIEWABLE,$zovvObj.DEBUG&&(a.beaconViewabilityState=f?OVVCheck.VIEWABLE:OVVCheck.UNVIEWABLE))}else a.viewabilityState=OVVCheck.UNMEASURABLE;else a.technique=OVVCheck.BEACON,a.viewabilityState=OVVCheck.NOT_READY;if($zovvObj.DEBUG)if(a.technique="",null===a.geometryViewabilityState&&null===a.beaconViewabilityState)a.viewabilityState=OVVCheck.UNMEASURABLE;else{var g=a.beaconViewabilityState===OVVCheck.VIEWABLE,h=a.cssViewabilityState===OVVCheck.VIEWABLE,i=a.domViewabilityState===OVVCheck.VIEWABLE,j=a.geometryViewabilityState===OVVCheck.VIEWABLE;a.viewabilityState=h||i||g||j?OVVCheck.VIEWABLE:OVVCheck.UNVIEWABLE}return a},this.beaconStarted=function(b){$zovvObj.DEBUG&&L(b).debug&&L(b).debug(),0!==b&&(w++,H()&&d["onJsReady"+a]())},this.dispose=function(){for(var a=1;a<=e;a++){var b=O(a);b&&(delete w[a],b.parentElement.removeChild(b))}clearInterval(window.$zovvObj.positionInterval),window.$zovvObj.removeAsset(this)},this.getId=function(){return v},this.getPlayer=function(){return d};var C=function(a,b){var c=window.getComputedStyle(b,null),d=c.getPropertyValue("visibility"),e=c.getPropertyValue("display");return("hidden"==d||"none"==e)&&(a.technique=OVVCheck.CSS_INVISIBILITY,a.viewabilityState=OVVCheck.UNVIEWABLE,!0)},D=function(a,b){var c=b.getBoundingClientRect(),d=12,e=c.left+d,f=c.right-d,g=c.top+d,h=c.bottom-d,i=Math.floor(c.left+c.width/2),j=Math.floor(c.top+c.height/2),k=[{x:e,y:g},{x:i,y:g},{x:f,y:g},{x:e,y:j},{x:i,y:j},{x:f,y:j},{x:e,y:h},{x:i,y:h},{x:f,y:h}];for(var l in k)if(k[l]&&k[l].x>=0&&k[l].y>=0&&(elem=document.elementFromPoint(k[l].x,k[l].y),null!=elem&&elem!=b&&!b.contains(elem)&&(overlappingArea=E(c,elem.getBoundingClientRect()),overlappingArea>0&&(a.percentObscured=100*E(c,elem.getBoundingClientRect()),a.percentObscured>50))))return a.percentViewable=100-a.percentObscured,a.technique=OVVCheck.DOM_OBSCURING,a.viewabilityState=OVVCheck.UNVIEWABLE,!0;return!1},E=function(a,b){var c=a.width*a.height,d=Math.max(0,Math.min(a.right,b.right)-Math.max(a.left,b.left)),e=Math.max(0,Math.min(a.bottom,b.bottom)-Math.max(a.top,b.top));return d*e/c},F=function(a,b){a.percentObscured=a.percentObscured||0;var c=y.getViewabilityState(b,window);return c.error||(a.clientWidth=c.clientWidth,a.clientHeight=c.clientHeight,a.percentViewable=c.percentViewable-a.percentObscured,a.objTop=c.objTop,a.objBottom=c.objBottom,a.objLeft=c.objLeft,a.objRight=c.objRight),c},G=function(a){if(!H())return null;var b=0,c=0,f=0,g=0;a.beacons=new Array(e);var u=d.getClientRects?d.getClientRects()[0]:{top:-1,bottom:-1,left:-1,right:-1};a.objTop=u.top,a.objBottom=u.bottom,a.objLeft=u.left,a.objRight=u.right;for(var v=0;v<=e;v++)if(0!==v){var w=L(v),x=O(v),y=w.isViewable(),z=K(x);if(a.beacons[v]=y&&z,y)switch(b++,v){case i:case j:case k:case l:c++;break;case m:case n:case o:case p:f++;break;case q:case r:case s:case t:g++}}if(b===e)return!0;var A=a.beacons;return A[h]===!1?(g>=3||f>=3||c>=3)&&null:A[h]===!0&&(A[i]===!0&&A[j]===!0||A[i]===!0&&A[k]===!0||A[j]===!0&&A[l]===!0||A[k]===!0&&A[l]===!0)||(A[h]===!0&&4==f||(!A[i]||!A[l]||A[m]&&A[q]&&A[h]&&A[t]&&A[p]?!(!A[k]||!A[j]||A[o]&&A[s]&&A[h]&&A[r]&&A[n])&&null:null))},H=function(){return!!d&&w===e},I=function(a){if(a=BEACON_SWF_URL,""!==a&&"BEACON_SWF_URL"!==a){for(var b=0;b<=e;b++){var c=document.createElement("DIV");c.id="OVVBeaconContainer_"+b+"_"+v,c.style.position="absolute",c.style.zIndex=$zovvObj.DEBUG?99999:-99999;var d='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+x+'" height="'+x+'"><param name="movie" value="'+a+'" /><param name="quality" value="low" /><param name="flashvars" value="id='+v+"&index="+b+'" /><param name="bgcolor" value="#ffffff" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><!--[if !IE]>--><object id="OVVBeacon_'+b+"_"+v+'" type="application/x-shockwave-flash" data="'+a+'" width="'+x+'" height="'+x+'"><param name="quality" value="low" /><param name="flashvars" value="id='+v+"&index="+b+'" /><param name="bgcolor" value="#ff0000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><!--<![endif]--></object>';c.innerHTML=d,document.body.insertBefore(c,document.body.firstChild)}J.bind(this)(),this.positionInterval=setInterval(J.bind(this),u)}},J=function(){if(H()){var a=d.getClientRects()[0];if(!c||!a||c.left!==a.left||c.right!==a.right||c.top!==a.top||c.bottom!==a.bottom){c=a;for(var b=a.right-a.left,u=a.bottom-a.top,v=b/(1+f),w=u/(1+f),y=b/f,z=u/f,A=0;A<=e;A++){var B=a.left+document.body.scrollLeft,C=a.top+document.body.scrollTop;switch(A){case g:B=-1e5,C=-1e5;break;case h:B+=(b-x)/2,C+=(u-x)/2;break;case i:break;case j:B+=b-x;break;case k:C+=u-x;break;case l:B+=b-x,C+=u-x;break;case m:B+=(b-y)/2,C+=(u-z)/2;break;case n:B+=(b-y)/2+y,C+=(u-z)/2;break;case o:B+=(b-y)/2,C+=(u-z)/2+z;break;case p:B+=(b-y)/2+y,C+=(u-z)/2+z;break;case q:B+=(b-v)/2,C+=(u-w)/2;break;case r:B+=(b-v)/2+v,C+=(u-w)/2;break;case s:B+=(b-v)/2,C+=(u-w)/2+w;break;case t:B+=(b-v)/2+v,C+=(u-w)/2+w}A>=m&&(B-=x/2,C-=x/2);var D=O(A);D.style.left=B+"px",D.style.top=C+"px"}}}},K=function(a){if(!a)return!1;var b=Math.max(document.body.clientWidth,window.innerWidth),c=Math.max(document.body.clientHeight,window.innerHeight),d=a.getClientRects()[0];return d.top<c&&d.bottom>0&&d.left<b&&d.right>0},L=function(a){return z(a)}.memoize(),M=function(a){return document.getElementById("OVVBeacon_"+a+"_"+v)},N=function(a){var b=document.getElementById("OVVFrame_"+v+"_"+a),c=null;return b&&(c=b.contentWindow),c},O=function(a){return A(a)}.memoize(),P=function(a){return document.getElementById("OVVBeaconContainer_"+a+"_"+v)},Q=function(a){return document.getElementById("OVVFrame_"+v+"_"+a)},R=function(){for(var b=document.getElementsByTagName("embed"),c=0;c<b.length;c++)if(b[c][v])return b[c];for(var d=document.getElementsByTagName("object"),c=0;c<d.length;c++)if(d[c][v])return d[c];return document.getElementById(a)},S=function(){return("undefined"===document.hidden||document.hidden!==!0)&&(!!$zovvObj.IN_XD_IFRAME||(!window.top.document.hasFocus||window.top.document.hasFocus()))};d=R(),$zovvObj.DEBUG=!1,$zovvObj.IN_IFRAME=!1,$zovvObj.beaconsSupported&&(0==$zovvObj.geometrySupported||$zovvObj.DEBUG)?$zovvObj.browser.ID===$zovvObj.browserIDEnum.Firefox?(z=N,A=Q):(z=M,A=P,I.bind(this)("BEACON_SWF_URL")):d&&d["onJsReady"+a]&&setTimeout(function(){d["onJsReady"+a]()},5)}function OVVGeometryViewabilityCalculator(){this.getViewabilityState=function(d,e){var f,g=a();if(g.area==1/0)return{error:"Failed to determine viewport"};var h=d.getBoundingClientRect(),i=h.width*h.height;if(g.area/i<.5)f=Math.floor(100*g.area/i),j=g;else{var j=b(window.top),k=c(d,e);k.bottom>j.height&&(k.height-=k.bottom-j.height),k.top<0&&(k.height+=k.top),k.left<0&&(k.width+=k.left),k.right>j.width&&(k.width-=k.right-j.width),f=Math.floor(100*(k.width*k.height)/i)}return{clientWidth:j.width,clientHeight:j.height,objTop:h.top,objBottom:h.bottom,objLeft:h.left,objRight:h.right,percentViewable:f}};var a=function(){for(var a=b(window),c=a.area,d=window;d!=window.top;)d=d.parent,viewPortSize=b(d),viewPortSize.area<c&&(c=viewPortSize.area,a=viewPortSize);return a},b=function(a){var b={width:1/0,height:1/0,area:1/0};return!isNaN(a.document.body.clientWidth)&&a.document.body.clientWidth>0&&(b.width=a.document.body.clientWidth),!isNaN(a.document.body.clientHeight)&&a.document.body.clientHeight>0&&(b.height=a.document.body.clientHeight),a.document.documentElement&&a.document.documentElement.clientWidth&&!isNaN(a.document.documentElement.clientWidth)&&(b.width=a.document.documentElement.clientWidth),a.document.documentElement&&a.document.documentElement.clientHeight&&!isNaN(a.document.documentElement.clientHeight)&&(b.height=a.document.documentElement.clientHeight),a.innerWidth&&!isNaN(a.innerWidth)&&(b.width=Math.min(b.width,a.innerWidth)),a.innerHeight&&!isNaN(a.innerHeight)&&(b.height=Math.min(b.height,a.innerHeight)),b.area=b.height*b.width,b},c=function(a,b){var e=b,f=b.parent,g={width:0,height:0,left:0,right:0,top:0,bottom:0};if(a){var h=d(a,b);if(h.width=h.right-h.left,h.height=h.bottom-h.top,g=h,e!=f){var i=c(e.frameElement,f);i.bottom<g.bottom&&(i.bottom<g.top&&(g.top=i.bottom),g.bottom=i.bottom),i.right<g.right&&(i.right<g.left&&(g.left=i.right),g.right=i.right),g.width=g.right-g.left,g.height=g.bottom-g.top}}return g},d=function(a,b){var c=b,e=b.parent,f={left:0,right:0,top:0,bottom:0};if(a){var g=a.getBoundingClientRect();c!=e&&(f=d(c.frameElement,e)),f={left:g.left+f.left,right:g.right+f.left,top:g.top+f.top,bottom:g.bottom+f.top}}return f}}function Viewability(a){this.asset=new ZOVVAsset(a,{geometryViewabilityCalculator:new OVVGeometryViewabilityCalculator})}function isReady(){return isContainerReady}function setSWFReady(){isSWFReady=!0}function formatToNumber(a,b){if("number"==typeof a)return a;var c;return a.indexOf("%")!=-1?(c=parseInt(a.split("%")[0]),c=b*c/100):c=a.indexOf("px")!=-1?parseInt(a.split("px")[0]):parseInt(a),c}function getParameterByName(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))}function MediaFile(){this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.apiFramework=null,this.scalable=!1,this.maintainAspectRatio=null,this.width=0,this.height=0}function DebugEvents(){}function DebugLogEvent(a,b,c){this.parsedEvents=a,this.cLog=b,this.playerId=c}function zAppendRandomNum(a){var b;return b=a.indexOf("?")==-1?"?":"&",a+=b+""+Math.round(1e10*Math.random())}function nullOrUndefined(a){return"undefined"==typeof a||null==a}function getScriptParams(){var a=document.getElementsByTagName("script"),b=a[0],c=b.getAttribute("src");return null==c?null:b.getAttribute("src").split("?")[1]}function XHRURLHandler(){}function FlashURLHandler(){}function TokenChecker(){this.debugTokenDecryptorObj=new DebugTokenDecryptor,this.TOKENDATERANGE=7,this.tokenKey="QWASZX12"}function DebugTokenDecryptor(){this.key="SXGWLZPDOKFIVUHJYTQBNMACERxswgzldpkoifuvjhtybqmncare"}function JsScriptExecutor(){}var zPlayerCnf=function(){function a(){}return a.configMap={domainPath:"http://c14.zedo.com/utils/zplayer/wrapper/",secureDomainPath:"https://ss3.zedo.com/utils/zplayer/wrapper/",hostname:"c14.zedo.com",port:"9090",playerVer:"v7.6",replaceToPlayerVer:"v7.6",randmizationPercentage:0,errorTracker:"http://m8.zedo.com/log/p.gif?a=2661582;c=2500000776;x=3840;n=2500;e=i;i=0;s=11;z=[timestamp]",secureErrorTracker:"https://tt1.zedo.com/ads2/p/l?a=2661582;c=2500000777;x=3840;n=2500;e=i;i=0;s=11;z=[timestamp]"},a.getProperty=function(b){return a.configMap[b]},a}();AutoPlayerDetect.prototype={getPlayerType:function(a,b){var c=this;this.playerId=a.id,this.eventSeqObj=new EventSeqLogger(a.id,a.debugPlayerLogMode,a.basePlayerStartTime),this.mpObj=new MacroProcessor(a.id,this.eventSeqObj,this.milestonesObj),this.eventSeqObj.eLog("playerver_"+a.playerVer,a.id,""),this.milestonesObj=new ZZMilestones([]),this.mpObj=new MacroProcessor(a.id,this.eventSeqObj,this.milestonesObj),this.adtag=nullOrUndefined(a.adtag)?"":a.adtag,this.sources=a.sources,zUtils.log("log","autoPlayerDetect::getPlayerType",c.debugMode),this.currentPlayerType=a.type;var d=c.PLAYERTYPE.HTML5;this.detectBandWidth();var e=function(c,d,e,f){this.milestonesObj=new ZZMilestones(f.milestones),this.mpObj=new WrapperMacroProcessor(a.id,this.mpObj,this.eventSeqObj,this.milestonesObj),MacroProcessor.setMacroProcObj(a.id,this.mpObj),b(c,this.customTrackers,e,f)};if(nullOrUndefined(this.adtag)||""==this.adtag)if((nullOrUndefined(this.adtag)||""==this.adtag)&&!nullOrUndefined(a.sources)&&a.sources.length>0){var f=this.makeMediaFileFormat(a.sources);d=this.detectMediaFiles(f,this.getBandWidth(),this.isSecure),c.checkPlayerCanPlay(d,e.bind(this))}else this.onErrorCallbackHandler(ZAUTOPLAYERERROR.CONFIGURATION.ERRORCODE,ZAUTOPLAYERERROR.CONFIGURATION.ERRORMSG);else this.processAdTags(this.adtag,e.bind(this))},processAdTags:function(a,b){var c=this,d=function(a,d,e,f){if(null==a&&null!=d){f||c.xmlDataMap.putXML(e,d);var g=zUtils.parseXMLFromString(d);if(0==g.errorCode){var h=c.validateResponse(g.xmldoc);if(zUtils.log("log","autoPlayerDetect::successCallback::adType = "+h,c.debugMode),h==c.ADTYPE.WRAPPER){var i=c.getWrapperURL(c.wrapperElement);c.processAdTags(i,b)}else if(h==c.ADTYPE.INLINE){var j=c.getMediaFiles(c.inlineElement),k=c.getBandWidth(),l=c.detectMediaFiles(j,k,c.isSecure);c.checkPlayerCanPlay(l,b)}else c.onErrorCallbackHandler(ZAUTOPLAYERERROR.EMPTYORINVALIDVAST.ERRORCODE,ZAUTOPLAYERERROR.EMPTYORINVALIDVAST.ERRORMSG)}else c.onErrorCallbackHandler(ZAUTOPLAYERERROR.EMPTYORINVALIDVAST.ERRORCODE,ZAUTOPLAYERERROR.EMPTYORINVALIDVAST.ERRORMSG)}else c.onErrorCallbackHandler(ZAUTOPLAYERERROR.EMPTYORINVALIDVAST.ERRORCODE,ZAUTOPLAYERERROR.EMPTYORINVALIDVAST.ERRORMSG)};nullOrUndefined(a)||""==a?this.onErrorCallbackHandler(ZAUTOPLAYERERROR.CONFIGURATION.ERRORCODE,ZAUTOPLAYERERROR.CONFIGURATION.ERRORMSG):(this.isXMLTag=!1,a.indexOf("<VAST")!=-1&&(this.isXMLTag=!0),this.recordedTime.startTime=zUtils.getCurrentTime(),this.isXMLTag?d(null,a,a,!0):this.sendRequest(a,d))},checkPlayerCanPlay:function(a,b){var c=zUtils.isFlashEnabled();this.recordedTime.responseTime=zUtils.getCurrentTime();var d=this,e=this.recordedTime.responseTime-this.recordedTime.startTime;zUtils.log("log"," recorded wrapperChaseTime "+e,this.debugMode),d.eventSeqObj.eLog("wrapperChaseTime",this.playerId,e);var f={customScripts:{},videoExtensionObj:{},CreativeProperties:{},milestones:[]};nullOrUndefined(this.customScripts)?f.customScripts={}:f.customScripts=this.customScripts,nullOrUndefined(this.milestones)||(f.milestones=this.milestones);var g=zUtils.extensionParams;for(var h in g)h!=g.VIDEO_DESCRIPTION&&h!=g.VIDEO_TITLE||(this.extParams[g[h]]?f.videoExtensionObj[h]=this.extParams[g[h]]:f.videoExtensionObj[h]="");if(nullOrUndefined(this.creativePropertiesObj)||(f.CreativeProperties=this.creativePropertiesObj),zUtils.log("log","checkPlayerCanPlay::detectPlayerType = "+a+" isFlash = "+c+" isIE10 "+zUtils.isIE10(),this.debugMode),this.currentPlayerType.toLowerCase()==this.PLAYERTYPE.HTML5)return b(this.PLAYERTYPE.HTML5,this.customTrackers,this.eventSeqObj,f),!1;var i=a==this.PLAYERTYPE.FLASH&&c,j=a==zUtils.PLAYERTYPE.HTML5&&zUtils.checkHtmlSupport()&&!zUtils.isIE10(),k=a==zUtils.PLAYERTYPE.HTML5&&zUtils.isIE10()&&c,l=a==this.PLAYERTYPE.FLASH&&!c&&zUtils.checkHtmlSupport()&&!zUtils.isIE10(),m=a==this.PLAYERTYPE.HTML5&&!zUtils.checkHtmlSupport()&&c,n=function(a){d.eventSeqObj.eLog("PlayerChoice",d.playerId+"_"+a,"")};i||k||m?(n("F"),b(this.PLAYERTYPE.FLASH,this.customTrackers,this.eventSeqObj,f)):j||l?(n("H"),b(this.PLAYERTYPE.HTML5,this.customTrackers,this.eventSeqObj,f)):(n("N"),this.onErrorCallbackHandler(ZAUTOPLAYERERROR.PLAYERNOTSUPPORT.ERRORCODE,ZAUTOPLAYERERROR.PLAYERNOTSUPPORT.ERRORMSG))},addErrorUrlTemplates:function(a){for(var b,c,d=a.childNodes,e=0,c=d.length;e<c;e++){if(b=d[e],"Error"===b.nodeName){var f=this.parseNodeText(b);zUtils.log("log","autoPlayerDetect::addErrorUrlTemplates : errorURLTemplates = "+f,this.debugMode),this.errorURLTemplates.push(f)}"Extensions"==b.nodeName&&this.getExtensionParams(b)}},getExtensionParams:function(a){zUtils.log("log","autoPlayerDetect::getExtensionParams ",this.debugMode);var b,c,d,e,f,g,h,i=this.childsByName(a,"Extension");if("undefined"!=typeof a.childNodes&&i.length>0){for(var j=0,b=i.length;j<b;j++){for(var k in zUtils.extensionParams)c=this.childsByName(i[j],k),"undefined"!=typeof c&&c.length>0&&(f=this.parseNodeText(c[0]),this.extParams[zUtils.extensionParams[k]]="undefined"!==f?f:"");e=this.childsByName(i[j],"ZCustomScripts"),this.customScripts=this.getCustomScript(this.customScripts,e),g=this.childsByName(i[j],"Milestones"),this.milestones=this.getMileStones(this.milestones,g),h=this.childsByName(i[j],"CreativeProperties"),"undefined"!=typeof h&&h.length>0&&!this.creativePropertiesObj._once&&(this.creativePropertiesObj=this.getCreativeProp(h)),nullOrUndefined(this.creativePropertiesObj)?this.creativePropertiesObj={_once:!0}:this.creativePropertiesObj._once=!0,d=this.childsByName(i[j],"ZCustomTrackingEvents"),this.customTrackers=this.getCustomTrackers(this.customTrackers,d)}zUtils.log("log","autoPlayerDetect:: customTrackers ",this.debugMode),zUtils.log("log",this.customTrackers,this.debugMode)}},getCustomTrackers:function(a,b){var c=b;if("undefined"!=typeof c&&c.length>0)for(var d=0,e=c.length;d<e;d++){ref1=this.childsByName(c[d],"Tracking");for(var f=0,g=ref1.length;f<g;f++)trackingElement=ref1[f],eventName=trackingElement.getAttribute("event"),trackingURLTemplate=this.parseNodeText(trackingElement),null!=eventName&&null!=trackingURLTemplate&&("undefined"==typeof a[eventName]&&(a[eventName]=[]),a[eventName].push(trackingURLTemplate))}return a},getMileStones:function(a,b){if("undefined"!=typeof b&&b.length>0)for(var c=0,d=b.length;c<d;c++){ref5=this.childsByName(b[c],"Milestone");for(var e=0,f=ref5.length;e<f;e++){milestoneTrackingElement=ref5[e],milestoneKey=milestoneTrackingElement.getAttribute("key"),milestoneEventName=this.parseNodeText(milestoneTrackingElement);var g={};g.name=milestoneEventName,g.key=milestoneKey,null!=milestoneKey&&null!=milestoneEventName&&("undefined"==typeof a&&(a=[]),a.push(g))}}return a},getCustomScript:function(a,b){var c,d,e=b;if("undefined"!=typeof e&&e.length>0)for(var f=0,g=e.length;f<g;f++){ref1=this.childsByName(e[f],"ScriptTag");for(var h=0,i=ref1.length;h<i;h++){d=ref1[h];var j={};c=d.getAttribute("event"),j.scriptType=d.getAttribute("type"),j.isSafe=d.getAttribute("isSafe"),j.trackingURLTemplate=this.parseNodeText(d),null!=c&&null!=j.trackingURLTemplate&&("undefined"==typeof a[c]&&(a[c]=[]),a[c].push(j))}}return a},getCreativeProp:function(a){try{var b,c,d,e,f,g,h,i,j,k=a,l={};for(e=0,g=k.length;e<g;e++)for(d=k[e],i=d.childNodes,f=0,h=i.length;f<h;f++)if(b=i[f],"#comment"!==b.nodeName&&"#text"!==b.nodeName)if(l[b.nodeName]={},b.childElementCount>0){var m={};c=b.childNodes;for(var e=0;e<c.length;e++)"#text"!==c[e].nodeName&&(j=this.parseNodeText(c[e]),j=nullOrUndefined(j)||""===j?"":j.trim(),m[c[e].nodeName]=j);l[b.nodeName]=m}else j=this.parseNodeText(b),j=nullOrUndefined(j)||""===j?"":j.trim(),l[b.nodeName]=j;return l}catch(a){zUtils.log("error",a,this.debugMode);var l={};return l}},onErrorCallbackHandler:function(a,b){if(zUtils.log("log","onErrorCallbackHandler called",this.debugMode),nullOrUndefined(this.adtag)||""==this.adtag)return this.onErrorCallback("Empty adtag or empty sources",this.sources),!1;a=nullOrUndefined(a)?ZAUTOPLAYERERROR.DEFAULT.ERRORCODE:a,b=nullOrUndefined(b)?ZAUTOPLAYERERROR.DEFAULT.ERRORMSG:b,this.mpObj.setErrorCode(a),zUtils.trackURLs(this.mpObj.replaceMacros(this.errorURLTemplates));var c=this.getErrorObj();return c.errorCode=a,this.onAdErrorCallback(b,this.adtag,c),!1},getErrorObj:function(){var a={},b=zUtils.extensionParams;a.adId=nullOrUndefined(this.adId[0])?"":this.adId[0];for(var c in b)this.extParams[b[c]]?a[b[c]]=this.extParams[b[c]]:a[b[c]]="";return a},validateResponse:function(a){if(null==(null!=a?a.documentElement:void 0)||"VAST"!==a.documentElement.nodeName)return this.ADTYPE.INVALID;var b,c,d,e,f,g,h;
for(c=0,d=a.documentElement.childNodes.length;c<d;c++)if(b=a.documentElement.childNodes[c],!nullOrUndefined(b)&&"Ad"===b.nodeName&&null!=b){g=b.childNodes;var i=b.getAttribute("id")||"";for(this.adId.push(i),f=0,e=g.length;f<e;f++){if(h=g[f],this.addErrorUrlTemplates(h),"Wrapper"===h.nodeName)return this.wrapperElement=h,this.ADTYPE.WRAPPER;if("InLine"===h.nodeName)return this.inlineElement=h,this.ADTYPE.INLINE}}return this.ADTYPE.INVALID},getWrapperURL:function(a){var b,c;return b=this.childByName(a,"VASTAdTagURI"),nullOrUndefined(b)||(c=this.parseNodeText(b)),c},sendRequest:function(a,b){return zUtils.log("log","autoPlayerDetect::sendRequest:: URL = "+a,this.debugMode),XHRURLHandler.supported()?XHRURLHandler.get(a,b):FlashURLHandler.supported()?FlashURLHandler.get(a,b):b()},getMediaFiles:function(a){for(var b,c,d,e,f,g,h,i,j=[],k=this.childByName(a,"Creatives"),l=this.childByName(k,"Creative").childNodes,m=0;m<l.length;m++)switch(l[m].nodeName){case"Linear":for(b=this.childsByName(l[m],"MediaFiles"),d=0,e=b.length;d<e;d++){h=b[d],c=this.childsByName(h,"MediaFile");for(var n=0,f=c.length;n<f;n++)g=c[n],i=new MediaFile,i.fileURL=this.parseNodeText(g),i.deliveryType=g.getAttribute("delivery"),i.codec=g.getAttribute("codec"),i.mimeType=g.getAttribute("type"),i.bitrate=parseInt(g.getAttribute("bitrate")||0),i.minBitrate=parseInt(g.getAttribute("minBitrate")||0),i.maxBitrate=parseInt(g.getAttribute("maxBitrate")||0),i.width=parseInt(g.getAttribute("width")||0),i.height=parseInt(g.getAttribute("height")||0),i.maintainAspectRatio=g.getAttribute("maintainAspectRatio")||!1,i.apiFramework=g.getAttribute("apiFramework")||"vast",j.push(i)}}return j},detectMediaFiles:function(a,b,c){var d,e=[],f=[],g=[],h=window.location.protocol,i=!1,j=!1,k=document.createElement("video");c&&(h="https:");var l=function(a,b){return a.protocol==b},m=document.createElement("a"),n=["video/mp4","video/webm","video/ogv"],o=["application/javascript","application/x-javascript"],p=["video/mp4","video/x-flv","application/x-shockwave-flash"];a.sort(function(a,b){return a.bitrate>b.bitrate});for(var q=0;q<a.length;q++){var r=a[q].fileURL,s=a[q].mimeType;m.href=r,d=nullOrUndefined(k.canPlayType)?"":k.canPlayType(s);var t=n.indexOf(s)>=0&&("maybe"===d||"probably"===d),u=o.indexOf(s)>=0;if(t||u){if(c&&!l(m,h))continue;e.push(a[q]),(0==b||b>a[q].bitrate)&&f.push(a[q]),i=!0}}if(!i)for(var q=0;q<a.length;q++){var r=a[q].fileURL,s=a[q].mimeType;if(m.href=r,p.indexOf(s)>=0){if(c&&!l(m,h))continue;e.push(a[q]),(0==b||b>a[q].bitrate)&&f.push(a[q]),j=!0}}f.length>0&&(e=f,e.sort(function(a,b){return a.bitrate<b.bitrate}));for(var v=0;v<e.length;v++)void 0!==e[v]&&g.push({type:e[v].mimeType,src:e[v].fileURL,adType:e[v].apiFramework,width:e[v].width,height:e[v].height});return this.filteredMediaSources=g,i?this.PLAYERTYPE.HTML5:!!j&&this.PLAYERTYPE.FLASH},detectBandWidth:function(){var a,b,c,d=1039,e=this;a=new Image,a.onload=function(){c=(new Date).getTime();var a=(c-b)/1e3,f=8*d;e.speedBps=(f/a).toFixed(2),e.speedKbps=(e.speedBps/1024).toFixed(2)},b=(new Date).getTime(),a.src=this.domainPath+"HTML/app/assets/images/10k.gif"},getBandWidth:function(){return this.speedKbps},childByName:function(a,b){var c,d,e,f;for(f=a.childNodes,d=0,e=f.length;d<e;d++)if(c=f[d],c.nodeName===b)return c},childsByName:function(a,b){var c,d,e,f,g;for(d=[],g=a.childNodes,e=0,f=g.length;e<f;e++)c=g[e],c.nodeName===b&&d.push(c);return d},parseNodeText:function(a){return a&&(a.textContent||a.text)},makeMediaFileFormat:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c].src,e=a[c].type;b.push({fileURL:d,mimeType:e})}return b}};var ZAUTOPLAYERERROR={PLAYERNOTSUPPORT:{ERRORCODE:661,ERRORMSG:"Player can't play this ad"},DEFAULT:{ERRORCODE:200,ERRORMSG:"Auto player detection failed"},CONFIGURATION:{ERRORCODE:662,ERRORMSG:"Configuration error "},EMPTYORINVALIDVAST:{ERRORCODE:303,ERRORMSG:"Empty or invalid xml"}};ParallelProcessor.prototype={load:function(){var a=this,b=function(){a.setSelectionTimeout(),a.startNextPlayer()};setTimeout(b,a.selectionDelayMs),this.orderedVastLength<this.maxParallelism&&(this.maxParallelism=this.orderedVastLength),a.loadNextPlayer(this.maxParallelism)},loadNextPlayer:function(a){for(;this.currentIndex<a;){var b=this.currentIndex;this.currentIndex++,this.initilizePlayer(b)}},initilizePlayer:function(a){var b=this;if(a<b.orderedVastLength){var c=b.orderedVasts[a].playerId,d=b.createPlayerConfig(b.config,c);d.adtag=b.orderedVasts[a].adtag,zUtils.log("ParallelProcessor :: "," Creating player playerID => "+c,b.config.debugMode),b.dataModel.putPlayer(c,{},!1,!1,!1,!1,"");var e=function(a,c,d,e){b.dataModel.setPlayerObj(a,c),b.dataModel.setParsedEventsTrackerObj(a,e),b.attachCallbacks(c)};b.createPlayers(d,c,e)}},createPlayers:function(a,b,c){var d=this,e=new Object,f=a;if(f.type.toLowerCase()===zUtils.PLAYERTYPE.FLASH){var g=[],h={};h=new EventSeqLogger(f.id,f.debugPlayerLogMode,f.basePlayerStartTime);var i=new ZZMilestones([]);new MacroProcessor(f.id,h,i);f.debugPlayerLogMode=!1;var j={};d.loadPlayer(f.type.toLowerCase(),f,g,h,function(a){c(f.id,a,e,g)},j)}else{if(f.type.toLowerCase()!==zUtils.PLAYERTYPE.HTML5&&f.type.toLowerCase()!==zUtils.PLAYERTYPE.AUTO)throw"invalid player type";var k=function(a,b,c){zUtils.log("log","ParallelProcessor::onAdErrorCallback",d.config.debugMode);var e=d.getPlayerIdByAdtag(b);zUtils.log("log","playerId = "+e+"  adtag "+b,d.config.debugMode),zUtils.log("bizlogic",e+" AdError ",d.config.debugMode),d.onAdErrorHandler(e)},l=function(a,b){zUtils.log("log","ParallelProcessor::onErrorCallback",d.config.debugMode)},m=function(a,b,g,h){f.xmlDataMap=e.xmlDataMap.getXMlObj(),f.filteredMediaSources=e.filteredMediaSources,f.bandwidthSpeedKbps=e.getBandWidth(),d.loadPlayer(a,f,b,g,function(a){c(f.id,a,e,b)},h)};e=new AutoPlayerDetect(f.domainPath,f.isSecure,f.debugMode,k,l),e.getPlayerType(f,m)}},createPlayerConfig:function(a,b){var c=new Object;return c.type=a.type,c.id=b,c.width=a.width,c.height=a.height,c.pClient="vast",c.sources=[],c.playAdOnReady=!1,c.viewability=a.viewability,c.preLoadMedia=a.preLoadMedia,c.landingPageOnClick=a.landingPageOnClick,c.landingPageOnEsc=a.landingPageOnEsc,c.landingPageOnExit=a.landingPageOnExit,c.onclickFullscreen=a.onclickFullscreen,c.hideControls=a.hideControls,c.domainPath=a.domainPath,c.debugMode=a.debugMode,c.muteOnLoad=a.muteOnLoad,c.basePlayerStartTime=a.basePlayerStartTime,c.debugPlayerLogMode=a.debugPlayerLogMode,c.playerVer=a.playerVer,c.bandwidthSpeedKbps=a.bandwidthSpeedKbps,c.demandPartnerTimeout=a.demandPartnerTimeout,c},startNextPlayer:function(){if(this.impressionOccured)return zUtils.log("log","ParallelProcessor : doing nothing impression already occured "+this.impressionOccured,this.config.debugMode),!1;if(this.stopReceived)return zUtils.log("log","ParallelProcessor : doing nothing stop received "+this.stopReceived,this.config.debugMode),!1;if(!this.startAdReceived)return zUtils.log("log","ParallelProcessor : doing nothing startAd not received "+this.startAdReceived,this.config.debugMode),!1;for(var a=this.dataModel.getPlayerList(),b=0;b<a.length;b++)if(this.dataModel.getHasPlayerBeenStarted(a[b])&&!this.dataModel.getAdError(a[b]))return!1;for(var c=!0,d=this,b=0;b<a.length;b++){if(this.dataModel.getAdReady(a[b])&&!this.dataModel.getAdError(a[b])&&!this.dataModel.getHasPlayerBeenStarted(a[b])&&(c||this.selectionTimerFired)){this.dataModel.setHasPlayerBeenStarted(a[b],!0);var e=this.dataModel.getPlayer(a[b]);this.registerCallback(e),this.setSelectedPlayerType(this.dataModel.getPlayerType(a[b])),this.applyApiState(e),zUtils.log("bizlogic",e.id+" startAd ",this.config.debugMode);var f=new ZDefferedPromise,g=new ZDefferedPromise;if(e.registerErrorCallback(function(){zUtils.log("bizlogic",e.id+" DemandPartenerTimer Error received ",d.config.debugMode),f.resolve()}),e.registerImprCallback(function(a,b){zUtils.log("bizlogic",e.id+" DemandPartenerTimer impression received ",d.config.debugMode),g.resolve()}),e.startAd(),this.startDemandPartnerTimer){this.dPManagerInit(a[b],e,this.demandPartnerTimeout,f,g)}return!0}c=c&&this.dataModel.getAdError(a[b])}},dPManagerInit:function(a,b,c,d,e){var d,e,f,g,h,i=this,j=[],k="demandPartnerTimeout";f=new ZDefferedPromise,h=this.dataModel.getParsedEventsTrackerObj(a);for(var l in h)if(l==k){var m=MacroProcessor.getMacroProcObj(a);m&&(j=m.replaceMacros(h[l],!1))}return g=this.dataModel.getAdReadyPromise(a),f.getPromise().then(function(){e.reject(),zUtils.log("bizlogic",a+" DemandPartenerTimer Elapsed ",i.config.debugMode),zUtils.removePlayer(a),i.onAdErrorHandler(a)}),new DemandPartenerTimerManager(a,d,e,f,c,g,j)},applyApiState:function(a){var b=this.getApiMemory();nullOrUndefined(b.getVolume())||a.setVolume(b.getVolume()),nullOrUndefined(b.getMute())||a.mute(b.getMute()),nullOrUndefined(b.getSeek())||a.seek(b.getSeek());for(var c=b.getButtonParams(),d=0;d<c.length;d++){var e=c[d];a.addButton(e.getControlPath(),e.getClassName(),e.getControlHandler(),e.getControlId(),e.getControlPosition(),e.getControlHPadding(),e.getControlVPadding(),e.getControlWidth(),e.getControlHeight())}for(var f=b.getButtonShowList(),g=0;g<f.length;g++)f[g].isShow?a.showButton(f[g].buttonId):a.hideButton(f[g].buttonId)},onAdImpressionHandler:function(){zUtils.log("log","ParallelProcessor : onAdImpressionHandler show the selected player and remove other player ",this.config.debugMode);for(var a=this.dataModel.getPlayerList(),b=this.getApiMemory(),c=0;c<a.length;c++)if(this.dataModel.getHasPlayerBeenStarted(a[c])&&!this.dataModel.getAdError(a[c])){this.hidePlayer(),zUtils.showChildDiv(a[c]);var d=nullOrUndefined(b.getWidth())?this.config.width:b.getWidth(),e=nullOrUndefined(b.getHeight())?this.config.height:b.getHeight(),f=this.dataModel.getPlayer(a[c]);f.resize(d,e)}else zUtils.removePlayer(a[c]);this.impressionOccured=!0},onAdErrorHandler:function(a){this.dataModel.setAdError(a,!0),this.loadNextPlayer(this.currentIndex+this.noOfTagsInitlizedAfterErr),this.startNextPlayer()||this.checkAllPlayerFails()},checkAllPlayerFails:function(){for(var a=!0,b=this.dataModel.getPlayerList(),c=0;c<b.length;c++)this.dataModel.getAdError(b[c])||(a=!1);a&&(this.disposeAllPlayers(),this.allFailedCallback("All parallel tags failed ",void 0,void 0))},stopSelection:function(){this.stopReceived=!0;for(var a=this.dataModel.getPlayerList(),b=0;b<a.length;b++)if(this.dataModel.getHasPlayerBeenStarted(a[b])&&!this.dataModel.getAdError(a[b])&&!this.impressionOccured)return!1;return!0},forceDie:function(){this.disposeAllPlayers(),this.allFailedCallback(" All Parallel tags failed : called forceDie ")},attachCallbacks:function(a){var b=this;a.onReady=function(){b.dataModel.setReady(a.id,!0),a.loadContent(),b.readyCallback(a.id)},a.onAdError=function(){zUtils.log("bizlogic",a.id+" AdError ",b.config.debugMode),b.loadNextPlayer(b.currentIndex+b.noOfTagsInitlizedAfterErr),b.dataModel.setAdError(a.id,!0),b.checkAllPlayerFails()},a.onAdReady=function(c){b.dataModel.setAdReady(a.id,!0),b.adReadyCallback(a.id,c),b.startNextPlayer()}},setStartAdReceived:function(){this.startAdReceived=!0,this.startNextPlayer()},setSelectionTimeout:function(){this.selectionTimerFired=!0,zUtils.log("log"," setSelectionTimeout occured ",this.config.debugMode)},disposeAllPlayers:function(){for(var a=this.dataModel.getPlayerList(),b=0;b<a.length;b++)zUtils.removePlayer(a[b])},getPlayerIdByAdtag:function(a){for(var b=0;b<this.orderedVasts.length;b++)if(this.orderedVasts[b].adtag==a)return this.orderedVasts[b].playerId;return!1}},DebugPlayer.prototype={onAdReady:function(){},onAdImpression:function(){},onAdError:function(){},onStartAd:function(){},onAdCompanions:function(){},onReady:function(){},onPlay:function(a){},onComplete:function(){},onBeforeComplete:function(){},onVolume:function(){},onFullscreen:function(){},onResize:function(){},onMuteChange:function(){},onPause:function(){},onBuffer:function(){},onError:function(){},onAdComplete:function(){},onAdSkipped:function(){},onNonLinearAd:function(){},onBeforePlay:function(){},onAdTime:function(){},onSeek:function(){},onTime:function(){},onAdClick:function(){},onAdStarted:function(){},onAdStopped:function(){},onAdUserClose:function(){},onClick:function(){},onAdClosed:function(){},onAdInteraction:function(){},onAdVideoFirstQuartile:function(){},onAdVideoMidpoint:function(){},onAdVideoThirdQuartile:function(){},onErrorTracked:function(a){},eventSeqLog:function(a,b,c){try{this.eventSeqObj.eLog(a,b,c)}catch(a){zUtils.log("error",a)}},getTimeFrom:function(a,b){try{return b-a}catch(a){zUtils.log("error",a)}},startAd:function(){this.playerObj.startAd()},play:function(a){nullOrUndefined(this.playerObj.play)||this.playerObj.play(a)},pause:function(){nullOrUndefined(this.playerObj.pause)||this.playerObj.pause()},closeAd:function(){},playPause:function(){nullOrUndefined(this.playerObj.playPause)||this.playerObj.playPause()},stop:function(){nullOrUndefined(this.playerObj.stop)||this.playerObj.stop()},getVolume:function(){return nullOrUndefined(this.playerObj.getVolume)?0:this.playerObj.getVolume()},isFullScreen:function(){return!nullOrUndefined(this.playerObj.isFullScreen)&&this.playerObj.isFullScreen()},getState:function(){return this.playerObj.getState()},getDuration:function(){return nullOrUndefined(this.playerObj.getDuration)?0:this.playerObj.getDuration()},getPosition:function(){return nullOrUndefined(this.playerObj.getPosition)?0:this.playerObj.getPosition()},seek:function(a){nullOrUndefined(this.playerObj.seek)||this.playerObj.seek(a)},getControlsEnabled:function(){return this.playerObj.getControlsEnabled()},trackEvent:function(a){this.playerObj.trackEvent(a)},addButton:function(a,b,c,d,e,f,g,h,i){nullOrUndefined(this.playerObj.addButton)||this.playerObj.addButton(a,b,c,d,e,f,g,h,i)},showButton:function(a){nullOrUndefined(this.playerObj.showButton)||this.playerObj.showButton(a)},hideButton:function(a){nullOrUndefined(this.playerObj.hideButton)||this.playerObj.hideButton(a)},deleteButton:function(a){this.playerObj.deleteButton(a)},hideDefaultControls:function(){this.playerObj.hideDefaultControls()},showDefaultControls:function(){nullOrUndefined(this.playerObj)||this.playerObj.showDefaultControls()},mute:function(a){nullOrUndefined(this.playerObj.mute)||this.playerObj.mute(a)},isMute:function(){return this.playerObj.isMute()},getWidth:function(){return this.playerObj.getWidth()},getHeight:function(){return this.playerObj.getHeight()},setVolume:function(a){nullOrUndefined(this.playerObj.setVolume)||this.playerObj.setVolume(a)},appendScriptContent:function(a,b,c,d,e){nullOrUndefined(this.playerObj.appendScriptContent)||this.playerObj.appendScriptContent(a,b,c,d,e)},resize:function(a,b){nullOrUndefined(this.playerObj.resize)||this.playerObj.resize(a,b)},loadContent:function(){nullOrUndefined(this.playerObj.loadContent)||this.playerObj.loadContent()},registerErrorCallback:function(a){nullOrUndefined(this.playerObj.registerErrorCallback)||this.playerObj.registerErrorCallback(a)},registerImprCallback:function(a){nullOrUndefined(this.playerObj.registerImprCallback)||this.playerObj.registerImprCallback(a)},getCreativeProperties:function(){if(!nullOrUndefined(this.playerObj.getCreativeProperties))return this.playerObj.getCreativeProperties()},getCustomScripts:function(){if(!nullOrUndefined(this.playerObj.getCustomScripts))return this.playerObj.getCustomScripts()},getVideoExtensionObj:function(){if(!nullOrUndefined(this.playerObj.getVideoExtensionObj))return this.playerObj.getVideoExtensionObj()}};var DataMap=function(){this.Map=new Object,this.XmlMap=new Object,this.customScripts=new Object,this.customTrackingEventsObj=new Object,this.creativePropertiesObj=new Object,this.promiseList=[]};if(DataMap.prototype={putPlayer:function(a,b,c,d,e,f,g){this.Map[a]={playerId:a,playerObj:b,isReady:c,isAdReady:d,isAdError:e,hasPlayerBeenStarted:f,playerType:g}},putXML:function(a,b){this.XmlMap[a]=b},getXMlObj:function(){return this.XmlMap},setPlayerObj:function(a,b){this.Map[a].playerObj=b},getPlayer:function(a){return this.Map[a].playerObj},getAdReadyPromise:function(a){var b=new ZDefferedPromise;return this.promiseList.push(b),this.isNextPlayerAdReady(a)&&b.resolve(),b.getPromise()},isNextPlayerAdReady:function(a){try{for(var b in this.Map)if(b!=a&&this.Map[b].isAdReady&&!this.Map[b].isAdError)return!0}catch(a){console.error("Error ::isNextPlayerAdReady ",a)}},setReady:function(a,b){this.Map[a].isReady=b},getReady:function(a){return this.Map[a].isReady},setAdReady:function(a,b){this.Map[a].isAdReady=b;for(var c=0;c<this.promiseList.length;c++)this.promiseList[c].resolve(),this.promiseList.splice(c,1)},getAdReady:function(a){return this.Map[a].isAdReady},setAdError:function(a,b){this.Map[a].isAdError=b},getAdError:function(a){return this.Map[a].isAdError},setCreativeProperties:function(a,b){this.creativePropertiesObj[a]=b},getCreativeProperties:function(a){return this.creativePropertiesObj[a]},setCustomScript:function(a,b){this.customScripts[a]=b},getCustomScript:function(a){return this.customScripts[a]},setParsedEventsTrackerObj:function(a,b){this.customTrackingEventsObj[a]=b},getParsedEventsTrackerObj:function(a){return this.customTrackingEventsObj[a]},setHasPlayerBeenStarted:function(a,b){this.Map[a].hasPlayerBeenStarted=b},getHasPlayerBeenStarted:function(a){return this.Map[a].hasPlayerBeenStarted},setPlayerType:function(a,b){this.Map[a].playerType=b},getPlayerType:function(a){return this.Map[a].playerType},getDataMap:function(){return this.Map},getPlayerList:function(){var a=new Array;for(var b in this.Map)a.push(this.Map[b].playerId);return a}},apiMemory.prototype={setWidth:function(a){this.width=a},getWidth:function(){return this.width},setHeight:function(a){this.height=a},getHeight:function(){return this.height},setVolume:function(a){this.volume=a},getVolume:function(){return this.volume},setMute:function(a){this.mute=a},getMute:function(){return this.mute},setSeek:function(a){this.seek=a},getSeek:function(){return this.seek},addButtonParams:function(a){this.btnParams.push(a)},getButtonParams:function(){return this.btnParams},setButtonShow:function(a,b){this.buttonShow.push({buttonId:a,isShow:b})},getButtonShowList:function(){return this.buttonShow},removeButton:function(a){for(var b=0;b<this.btnParams.length;b++)this.btnParams[b].getControlId()==a&&this.btnParams.splice(b,1)}},function(){"use strict";function a(a){return"undefined"==typeof a||null==a}this.prepareMilestoneObject=function(b){var c,d;if(!a(b))for(var e=0;e<b.length;e++)c=b[e].key,d=b[e].name,this.milestons[d]=b[e].key},this.addToMilestone=function(b,c){a(this.milestons[b])||a(this.avoidMultiMilestons[b])&&(this.avoidMultiMilestons[b]=!0,this.addedMilestons.push({name:b,currentTime:c}))},this.getMilestones=function(a,b){return this.calculateMilestons(a,b)},this.calculateMilestons=function(a,b){for(var c=[],d=0;d<this.addedMilestons.length;d++){var e=this.addedMilestons[d].currentTime,f=this.milestons[this.addedMilestons[d].name],g=b-e,h={};h[f]=g,c.push(h)}return c}}.call(ZZMilestones.prototype),MACRO.ERRORCODE="ERRORCODE",MACRO.ZEVENTTRAC="ZEventTrac",MACRO.CACHEBUSTING="CACHEBUSTING",MACRO.CONTENTPLAYHEAD="CONTENTPLAYHEAD",MACRO.MEDIATYPE="MT",MACRO.ELAPSEDTIME="ET",MACRO.MULTIELAPSETIME="MET",MACRO.RANDOM="random",MACRO.ASSETURI="ASSETURI","undefined"==typeof MacroProcessor&&"undefined"==typeof window.MacroProcessor)var MacroProcessor=function(a,b,c){this.id=a,this.eventSeqObj=b,this.milestonesObj=c,this.macroVariable={},MacroProcessor.MapcroProcessorMap[a]=this};if("undefined"==typeof MacroProcessor.MapcroProcessorMap&&(MacroProcessor.MapcroProcessorMap=[]),MacroProcessor.getMacroProcObj=function(a){try{if(MacroProcessor.MapcroProcessorMap)return MacroProcessor.MapcroProcessorMap[a]}catch(a){zUtils.log("log","getMacroProcObj ",!0)}},MacroProcessor.setMacroProcObj=function(a,b){MacroProcessor.MapcroProcessorMap[a]=b},MacroProcessor.prototype.setErrorCode=function(a){this.macroVariable[MACRO.ERRORCODE]=a},MacroProcessor.prototype.setContentPlayHead=function(a){this.macroVariable[MACRO.CONTENTPLAYHEAD]=a},MacroProcessor.prototype.setzEventTrack=function(a){this.macroVariable[MACRO.ZEVENTTRAC]=a},MacroProcessor.prototype.setMediaType=function(a){this.macroVariable[MACRO.MEDIATYPE]=encodeURIComponent(a)},MacroProcessor.prototype.setAssetUri=function(a){this.macroVariable[MACRO.ASSETURI]=encodeURIComponent(a.trim())},MacroProcessor.prototype.setMultiElapseTime=function(a){this.macroVariable[MACRO.MULTIELAPSETIME]=a},MacroProcessor.prototype.setElapsedTime=function(a,b){var c=b-a;this.macroVariable[MACRO.ELAPSEDTIME]=c},MacroProcessor.prototype.setCacheBusting=function(){this.macroVariable[MACRO.CACHEBUSTING]=Math.round(1e10*Math.random()),this.macroVariable[MACRO.RANDOM]=this.macroVariable[MACRO.CACHEBUSTING]},MacroProcessor.prototype.replaceMacro=function(a,b){var c;c=!(!nullOrUndefined(b)&&!b);var d,e,f,g,a;this.setzEventTrack(this.eventSeqObj.getEventSeqList()),this.setElapsedTime(this.eventSeqObj.basePlayerStartTime,zUtils.getCurrentTime()),this.setCacheBusting();for(d in this.macroVariable)e=this.macroVariable[d],f="["+d+"]",g="%%"+d+"%%",a=a.replace(f,e),a=a.replace(g,e);return a=c&&""!==a?zAppendRandomNum(a):a},MacroProcessor.prototype.replaceMacros=function(a,b){var c;c=!(!nullOrUndefined(b)&&!b);var d,e,f,g;if(d=[],Array.isArray(a))for(f=0,g=a.length;f<g;f++)"undefined"!=typeof a[f]&&null!==a[f]&&""!==a[f]&&(e=this.replaceMacro(a[f],c),d.push(e));return d},MacroProcessor.prototype.replaceMacrosWithEventName=function(a,b,c){var d;d=!(!nullOrUndefined(c)&&!c);var e,f,g,h;if(e=[],Array.isArray(b))for(g=0,h=b.length;g<h;g++)f=this.replaceMacro(b[g],d),e.push(f);return e},"undefined"==typeof WrapperMacroProcessor&&"undefined"==typeof window.WrapperMacroProcessor)var WrapperMacroProcessor=function(a,b,c,d){this.id=a,this.eventSeqObj=c,this.milestonesObj=d,this.macroProcessorObj=b};WrapperMacroProcessor.prototype.setErrorCode=function(a){this.macroProcessorObj.macroVariable[MACRO.ERRORCODE]=a},WrapperMacroProcessor.prototype.setContentPlayHead=function(a){this.macroProcessorObj.macroVariable[MACRO.CONTENTPLAYHEAD]=a},WrapperMacroProcessor.prototype.setzEventTrack=function(a){this.macroProcessorObj.setzEventTrack(a)},WrapperMacroProcessor.prototype.setMediaType=function(a){this.macroProcessorObj.macroVariable[MACRO.MEDIATYPE]=encodeURIComponent(a)},WrapperMacroProcessor.prototype.setAssetUri=function(a){this.macroProcessorObj&&this.macroProcessorObj.setAssetUri(a)},WrapperMacroProcessor.prototype.setMultiElapseTime=function(a){this.macroProcessorObj.macroVariable[MACRO.MULTIELAPSETIME]=a},WrapperMacroProcessor.prototype.setElapsedTime=function(a,b){var c=b-a;this.macroProcessorObj.macroVariable[MACRO.ELAPSEDTIME]=c},WrapperMacroProcessor.prototype.setCacheBusting=function(){this.macroProcessorObj.macroVariable[MACRO.CACHEBUSTING]=Math.round(1e10*Math.random()),this.macroProcessorObj.macroVariable[MACRO.RANDOM]=this.macroProcessorObj.macroVariable[MACRO.CACHEBUSTING]},WrapperMacroProcessor.prototype.replaceMacro=function(a,b){return this.macroProcessorObj.replaceMacro(a,b)},WrapperMacroProcessor.prototype.replaceMacros=function(a,b){return this.macroProcessorObj.replaceMacros(a,b)},WrapperMacroProcessor.prototype.replaceMacrosWithEventName=function(a,b,c){try{var d=zUtils.getCurrentTime();this.milestonesObj.addToMilestone(a,d),this.macroProcessorObj.setMultiElapseTime(JSON.stringify(this.milestonesObj.getMilestones(a,d)))}catch(a){}return this.macroProcessorObj.replaceMacrosWithEventName(a,b,c)},"undefined"==typeof EventSeqLogger.EventSeqLoggerMap&&(EventSeqLogger.EventSeqLoggerMap={}),EventSeqLogger.getEventSeqObj=function(a){return EventSeqLogger.EventSeqLoggerMap[a]},EventSeqLogger.prototype.eLog=function(a,b,c){this.events.push({nm:a,lbl:b,mtrc:c})},EventSeqLogger.prototype.getEventSeqList=function(){var a=this.events;return a.length>=this.DEFAULT_ALLOWED_LOGEVT_LIMIT&&(a=a.splice(0,this.DEFAULT_ALLOWED_LOGEVT_LIMIT)),this.enableLogger?JSON.stringify(a):""};var ZDefferedPromise=function(){function a(){var a=this;this.promise=new Promise(function(b,c){a.res=b,a.rej=c})}return a.prototype.getPromise=function(){return this.promise},a.prototype.resolve=function(a){this.res(a)},a.prototype.reject=function(a){this.rej(a)},a}(),zUtils=function(){};zUtils.log=function(a,b,c){if(c)switch(a.toLowerCase()){case"warn":console.warn(b);break;case"info":console.info(b);break;case"error":console.error(b);break;case"trace":console.trace(b);break;case"bizlogic":"undefined"!=typeof console.bizlogic&&console.bizlogic(b);break;default:console.log(b)}},zUtils.createChildDiv=function(a,b){var c=document.createElement("div");c.style.visibility="visible",c.style.position="fixed",c.style.left="-99999px",c.style.top="-99999px";var d=document.createElement("div");d.id=b,c.appendChild(d);var e=document.getElementById(a);e.appendChild(c)},zUtils.showChildDiv=function(a){var b=document.getElementById(a).parentNode;b.style.visibility="visible",b.style.position="",b.style.left="",b.style.top=""},zUtils.hideChildDiv=function(a){var b=document.getElementById(a).parentNode;b.style.visibility="hidden"},zUtils.removePlayer=function(a){var b=document.getElementById(a);nullOrUndefined(b)||(b.parentNode.style.visibility="hidden",b.parentNode.style.display="none",b.parentNode.removeChild(b))},zUtils.clone=function(a){if(null==a||"object"!=typeof a)return a;var b=a.constructor();for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},zUtils.PLAYERTYPE={FLASH:"flash",HTML5:"html5",AUTO:"auto"},zUtils.trackURLs=function(a){var b,c,d,e,f=[];for(b=0,c=a.length;b<c;b++)e=a[b],d=new Image,nullOrUndefined(e)||""===e||f.push(d.src=e);return f},zUtils.parseXMLFromString=function(a){var b,c=0,d="";if(window.DOMParser){var e=new DOMParser;try{b=e.parseFromString(a,"text/xml")}catch(a){return{errorCode:c,errorMessage:d}}}else{if("undefined"==typeof ActiveXObject)return c=100,d="Cannot create XMLDocument object",{errorCode:c,errorMessage:d};ids=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","Msxml2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument"];for(var f=0,g=ids.length;f<g;++f)try{b=new ActiveXObject(ids[f]);break}catch(a){}if(!b)return c=100,d="Cannot create XMLDocument object",{errorCode:c,errorMessage:d};if(b.loadXML(a),b.parseError&&0!=b.parseError.errorCode)return c=100,d="XML Parsing Error: "+b.parseError.reason+" at line "+b.parseError.line+" at position "+b.parseError.linepos,{errorCode:c,errorMessage:d};if(!b.documentElement)return c=100,d="XML Parsing Error!",{errorCode:c,errorMessage:d};if("parsererror"==b.documentElement.nodeName)return c=100,d=b.documentElement.childNodes[0].nodeValue,{errorCode:c,errorMessage:d}}return{xmldoc:b,errorCode:c,errorMessage:d}},zUtils.isIE10=function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");return b>0?parseInt(a.substring(b+5,a.indexOf(".",b)))<10:navigator.userAgent.toString().toLowerCase().indexOf("trident/6")>-1},zUtils.isIE=function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("msie")!=-1&&parseInt(a.split("msie")[1])},zUtils.isFlashEnabled=function(){var a=!1;try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");b&&(a=!0)}catch(b){navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=!0)}return a},zUtils.checkHtmlSupport=function(){var a=document.createElement("video"),b={video:!!a.play};return!!b.video},zUtils.checkiOSDevice=function(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)},zUtils.extensionParams={VIDEO_DESCRIPTION:"VIDEO_DESCRIPTION",VIDEO_TITLE:"VIDEO_TITLE"},zUtils.VIEWABLE_EVENTS={IMPRESSION:"VIMPR",FIRSTQUARTILE:"V1STQUART",MIDPOINT:"VMIDPOINT",THIRDQUARTILE:"V3RDQUART"},zUtils.getCurrentTime=function(){return(new Date).getTime()},zUtils.addDays=function(a,b){return new Date(a.getTime()+24*b*60*60*1e3)},zUtils.createFriendlyiFrame=function(a,b,c){try{var d=document.getElementById(c),e=document.createElement("iframe");e.id="iframe_"+a,e.src="about:blank",e.setAttribute("allowfullscreen",!0),e.setAttribute("seamless",!0),e.setAttribute("frameborder",0),e.setAttribute("scrolling","no"),e.width="0px",e.height="0px",e.style.display="none",d.appendChild(e);var f="<!DOCTYPE html><head><body>"+b+"</body></html>",g=e.contentDocument||e.contentWindow.document;g.open("text/html","replace"),g.write(f),g.close()}catch(a){zUtils.log("warn",a,!0)}},zUtils.createNonFriendlyiframe=function(a,b){var c=document.createElement("iframe");return c.id="iframe_"+a,c.src=b,c.setAttribute("allowfullscreen",!0),c.setAttribute("seamless",!0),c.setAttribute("frameborder",0),c.setAttribute("scrolling","no"),c.width="0px",c.height="0px",c.style.display="none",c},zUtils.getRandMization=function(a,b,c){var d=Math.random();return d<c?b:a},OVVCheck.UNMEASURABLE="unmeasurable",OVVCheck.VIEWABLE="viewable",OVVCheck.UNVIEWABLE="unviewable",OVVCheck.NOT_READY="not_ready",OVVCheck.BEACON="beacon",OVVCheck.GEOMETRY="geometry",OVVCheck.CSS_INVISIBILITY="css_invisibility",OVVCheck.DOM_OBSCURING="dom_obscuring",Function.prototype.memoized=function(a){return this._cacheValue=this._cacheValue||{},void 0!==this._cacheValue[a]?this._cacheValue[a]:this._cacheValue[a]=this.apply(this,arguments)},Function.prototype.memoize=function(){var a=this;return function(){return a.memoized.apply(a,arguments)}};var newOVV=new zzOVV;window.$zovvObj=window.$zovvObj||newOVV;for(var i in newOVV)$zovvObj.hasOwnProperty(i)||($zovvObj[i]=newOVV[i]);window.$zovvObj.addAsset(new ZOVVAsset("OVVID",{geometryViewabilityCalculator:new OVVGeometryViewabilityCalculator}));var VIEWABLE_EVENTS={IMPRESSION:"VIMPR",FIRSTQUARTILE:"V1STQUART",MIDPOINT:"VMIDPOINT",THIRDQUARTILE:"V3RDQUART",COMPLETE:"VCOMPL"};if(Viewability.prototype={iFlag:!1,fQFlag:!1,sQFlag:!1,tQFlag:!1,vCFlag:!1,startTime:!1,vStartTime:!1,VIEWABLEPERCENT:50,UNVIEWABLESEC:2,VIEWABLESEC:2,stopCheckingViewablity:!1,stopCountingOthrEvnt:!1,isFullScreen:!1,isAdImpressionCalled:!1,getViewability:function(){var a=this.asset.checkViewability();return a},checkViewability:function(a,b,c){var d={firstQuartile:Math.round(25*b)/100,midpoint:Math.round(50*b)/100,thirdQuartile:Math.round(75*b)/100};d.firstQuartile>a&&!firstQFlag&&(firstQFlag=!0)},onAdTimeHandler:function(a,b,c,d,e,f,g,h){if(!this.isAdImpressionCalled)return this.stopCountingOthrEvnt=!0,!1;if(g<=1&&h<=1)return this.stopCountingOthrEvnt=!0,!1;this.vStartTime||(this.vStartTime=a);var i={firstQuartile:Math.round(25*b)/100,midpoint:Math.round(50*b)/100,thirdQuartile:Math.round(75*b)/100},j=0,k=0,l={};try{l=this.getViewability()}catch(a){f("warn"," Viewability::onAdTimeHandler Error::"+a)}this.isFullScreen&&(f("log","Viewability::isFullScreen"+this.isFullScreen+" percentage override to 100 and setfocus true "),l.percentViewable=100,l.focus=!0),f("log","Viewability::getViewability :: percentViewable "+l.percentViewable+" :: focus "+l.focus),l.percentViewable<this.VIEWABLEPERCENT||!l.focus?(this.startTime||(f("info"," Viewability  --------------> start unviewable counting <----------------- "),this.startTime=a,d&&(document.getElementById("viewability").style.color="#FF0000")),this.vStartTime=a):(d&&(document.getElementById("viewability").style.color="green"),this.startTime=!1),j=a-this.startTime,j>this.UNVIEWABLESEC&&this.startTime&&(d&&(document.getElementById("viewability").style.color="#FF0000",document.getElementById("viewability").innerHTML="unviewable"),f("info"," Viewability --------------> stopCountingOthrEvnt <----------------- "),this.stopCountingOthrEvnt=!0,this.iFlag&&(f("info"," Viewability --------------> stopCheckingViewablity <----------------- "),this.stopCheckingViewablity=!0)),k=a-this.vStartTime,f("log"," sTime "+this.vStartTime+" position ==> "+a+" diffViewableImpr => "+k+" ===> "+this.iFlag),k>this.VIEWABLESEC&&!this.iFlag?(f("log","Viewability:: Tracked viewableImpression "+a),this.iFlag=!0,Viewability.appendLog("Viewable Impression",d),
e(VIEWABLE_EVENTS.IMPRESSION)):k>this.VIEWABLESEC&&(this.vStartTime=a),null!=document.getElementById("percentViewable")&&d&&(document.getElementById("percentViewable").innerHTML=l.percentViewable),null!=document.getElementById("viewability")&&d&&(document.getElementById("viewability").innerHTML=l.viewabilityState),"vpaid"==c||""==c||this.stopCountingOthrEvnt||(i.firstQuartile<a&&!this.fQFlag?(this.fQFlag=!0,e(VIEWABLE_EVENTS.FIRSTQUARTILE)):i.midpoint<a&&!this.sQFlag?(this.sQFlag=!0,e(VIEWABLE_EVENTS.MIDPOINT)):i.thirdQuartile<a&&!this.tQFlag&&(this.tQFlag=!0,e(VIEWABLE_EVENTS.THIRDQUARTILE)))},onAdCompleteHandler:function(a,b,c){this.vCFlag||(c("info","Viewability:: Tracked complete viewable impressions "),this.vCFlag=!0,Viewability.appendLog("Viewable Complete",a),b(VIEWABLE_EVENTS.COMPLETE))},updateWidgetStatus:function(a){null!=document.getElementById("percentViewable")&&a&&(document.getElementById("viewability").style.color="#FF0000",document.getElementById("percentViewable").innerHTML="",document.getElementById("viewability").innerHTML="unviewable")}},Viewability.initViewability=function(a){this.loadCSS(a),setTimeout(function(){var b='<div id="viewability-main-container"><div id="viewability-wrapper"><div id="viewability-header"><img id="viewability-logo" src="'+a+'HTML/app/assets/images/logo.png"><span class="viewability-title">VIEWABILITY INFO</span></div>';b+='<div id="viewability-content"><div class="prop-row"><span class="prop-name">Viewability</span><span id="viewability" class="prop-value">Viewable</span></div>',b+='<div class="prop-row"><span class="prop-name">Viewable %</span><span class="prop-value" id="percentViewable">100%</span></div></div></div></div>';var c=document.createElement("div");c.innerHTML=b,document.body.appendChild(c)},500)},Viewability.appendLog=function(a,b){if(b){var c=document.createElement("div");c.setAttribute("class","prop-row"),c.innerHTML="<span class='prop-name'>"+a+"</span><span class='prop-value'><span class='tick'></span></span>",document.getElementById("viewability-content").appendChild(c)}},Viewability.loadCSS=function(a){var b='#viewability-main-container{position:fixed;display:block;width:292px;height:auto;top:5px;right:5px;border:1px solid #AAA;padding:5px;box-shadow: 0px 0px 8px #888888;background-color: white;font-family: "Roboto", sans-serif;font-size: 15px;}';b+="#viewability-main-container #viewability-wrapper{width:100%;height:auto;border: 1px solid #E8E8E8;}#viewability-wrapper #viewability-header{height:16px;background-color:#32aed7;padding:10px;}",b+="#viewability-header #viewability-logo{position: relative;top: -5px;}#viewability-header .viewability-title{color:#fff;text-transform:uppercase;float:right;font-size:14px;vertical-align:middle;}",b+="#viewability-content .prop-row{margin-left:5px;margin-right:5px;padding: 7px 5px;border-bottom:1px solid #E8E8E8;line-height:24px;}",b+="#viewability-content .prop-row:last-child{border-bottom: none;}.prop-row .prop-value{float:right;}",b+='.prop-value .tick{background: url("'+a+'HTML/app/assets/images/tick.png") no-repeat;width: 24px;height: 24px;display: inline-block;}',head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),style.type="text/css",style.styleSheet?style.styleSheet.cssText=b:style.appendChild(document.createTextNode(b)),head.appendChild(style)},"undefined"!=typeof VideoPlayer&&"undefined"!=typeof window.VideoPlayer);else{var VideoPlayer=function(a,b,c){function d(a){console&&console.log&&console.log(a)}function e(a){return"undefined"==typeof a||null==a}this.id=a,this.parentDiv=document.getElementById(a),this.iframeElement=document.createElement("iframe"),this.companionDiv=document.createElement("div"),this.fullscreen=null,this.volume=1,this.currentWidth=0,this.currentHeight=0,this.isMuted=!1,this.controlsEnabled=!1,this.duration=0,this.currentPosition=0,this.config=b,this.isMobileDevice=!1,this.isiOSDevice=!1,this.isWindowsDevice=!1,this.onReadyCalled=!1,this.domainPath=b.domainPath+"HTML/app/",this.clickThrough=null,this.ipadDivStyle={},this.commanExtObj=c,VideoPlayer.PlayerStates={PLAYING:"PLAYING",PAUSED:"PAUSED",BUFFERING:"BUFFERING",STOP:"IDLE"},this.currentState=VideoPlayer.PlayerStates.STOP,this.onReady=function(){this.onReadyCalled=!0},this.onError=function(){},this.onPlay=function(){},this.onPause=function(){},this.onBuffer=function(){},this.onComplete=function(){},this.onVolume=function(){},this.onFullscreen=function(a){},this.onResize=function(){},this.onAdInteraction=function(){},this.onMuteChange=function(){},this.onAdReady=function(a){},this.onAdComplete=function(){},this.onAdStopped=function(){},this.onAdUserClose=function(){},this.onStartAd=function(){},this.onAdCompanions=function(){},this.onNonLinearAd=function(){},this.onBeforePlay=function(){},this.onAdImpression=function(){},this.onAdClick=function(){},this.onAdSkipped=function(){},this.onAdTime=function(){},this.onBeforeComplete=function(){},this.onAdError=function(){},this.onSeek=function(){},this.onAdStarted=function(){},this.onTime=function(){},this.onClick=function(){},this.onInitialized=function(){},this.onAdVideoFirstQuartile=function(){},this.onAdVideoMidpoint=function(){},this.onAdVideoThirdQuartile=function(){},this.onErrorTracked=function(a){},this.errorCallbackList=[],this.registerErrorCallback=function(a){},this.impressionCallbackList=[],this.getCreativeProperties=function(){if(this.commanExtObj.CreativeProperties)return this.commanExtObj.CreativeProperties},this.getCustomScripts=function(){if(this.commanExtObj.customScripts)return this.commanExtObj.customScripts},this.getVideoExtensionObj=function(){if(this.commanExtObj.videoExtensionObj)return this.commanExtObj.videoExtensionObj},this.registerImprCallback=function(a){},this.setConfig=function(a){try{e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.setConfig(a)}catch(a){console.error("videoplayer:: error calling setConfig ",a)}},this.isFullScreen=function(){try{if(!e(this.iframeElement.contentWindow))return this.fullscreen}catch(a){console.error("videoplayer:: error calling isFullScreen ",a)}},this.playPause=function(){try{e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.playPause()}catch(a){console.error("videoplayer:: error calling playPause",a)}},this.getVolume=function(){try{if(!e(this.iframeElement.contentWindow))return this.volume=100*this.iframeElement.contentWindow.getVolume(),this.volume}catch(a){console.error("videoplayer:: error calling getVolume",a)}},this.hideDefaultControls=function(){try{e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.hideDefaultControls(!0)}catch(a){console.error("videoplayer:: error calling hideDefaultControls ",a)}},this.showDefaultControls=function(){try{e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.hideDefaultControls(!1)}catch(a){console.error("videoplayer:: error calling showDefaultControls ",a)}},this.setVolume=function(a){try{e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.setVolume(a)}catch(a){console.error("videoplayer:: error calling setVolume ",a)}},this.mute=function(a){try{e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.setMuted(a)}catch(a){console.error("videoplayer:: error calling setmute ",a)}},this.isMute=function(){try{if(!e(this.iframeElement.contentWindow))return this.iframeElement.contentWindow.isMuted()}catch(a){console.error("videoplayer:: error calling isMuted ",a)}},this.play=function(a){try{e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.playEvent(a)}catch(a){console.error("videoplayer:: error calling play ",a)}},this.pause=function(){try{e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.pause()}catch(a){console.error("videoplayer:: error calling pause ",a)}},this.stop=function(){try{e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.stop()}catch(a){console.error("videoplayer:: error calling stop ",a)}},this.seek=function(a){try{e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.seek(a)}catch(a){console.error("videoplayer:: error calling seek ",a)}},this.getControlsState=function(){try{if(!e(this.iframeElement.contentWindow))return this.iframeElement.contentWindow.areControlsEnabled()}catch(a){console.error("videoplayer:: error calling getControlsState ",a)}},this.getControlsEnabled=function(){try{if(!e(this.iframeElement.contentWindow))return this.iframeElement.contentWindow.areControlsEnabled()}catch(a){console.error("videoplayer:: error calling getControlsEnabled ",a)}},this.resize=function(a,b){try{var c=a,d=b,f=this.formatToNumber(b,this.parentDiv.style.height),g=this.formatToNumber(a,this.parentDiv.style.width);this.parentDiv.style.width=g,this.parentDiv.style.height=f,e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.resize(c,d)}catch(a){console.error("videoplayer:: error calling resize ",a)}},this.addButton=function(a,b,c,d,f,g,h,i,j){try{if(!e(this.iframeElement.contentWindow)){var k={};k.id=d,k.controlposition=f,k.width=i,k.height=j,k.toppadding=h,k.leftpadding=g,k.image=a,k.classname=b,k.functionname="callback_"+d,k.controlHandler=c,this.iframeElement.contentWindow.addButton(k)}}catch(a){console.error("videoplayer:: error calling addButton ",a)}},this.getControlsState=function(){try{if(!e(this.iframeElement.contentWindow))return this.iframeElement.contentWindow.areControlsEnabled()}catch(a){console.error("videoplayer:: error calling getControlsState ",a)}},this.hideButton=function(a){try{e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.hideButton(a)}catch(a){console.error("videoplayer:: error calling hideButton ",a)}},this.showButton=function(a){try{e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.showButton(a)}catch(a){console.error("videoplayer:: error calling showButton ",a)}},this.deleteButton=function(a){try{e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.deleteButton(a)}catch(a){console.error("videoplayer:: error calling deleteButton ",a)}},this.playAd=function(a){try{var b=!1;a.indexOf("<VAST")!=-1&&(b=!0),e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.playAdTag(b,a)}catch(a){console.error("videoplayer:: error calling playAd ",a)}},this.clearAdTag=function(){try{e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.clearAdTag()}catch(a){console.error("videoplayer:: error calling clearAdTag ",a)}},this.startAd=function(){try{e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.startAd()}catch(a){console.error("videoplayer:: error calling startAd ",a)}},this.trackEvent=function(a){try{e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.trackEvent(a)}catch(a){console.error("videoplayer:: error calling trackEvent ",a)}},this.loadContent=function(){try{e(this.iframeElement.contentWindow)||this.iframeElement.contentWindow.loadContent()}catch(a){console.error("videoplayer:: error calling loadContent ",a)}},this.removeIframe=function(a){this.parentDiv.removeChild(this.iframeElement)},this.createCompanion=function(b,c){this.companionDiv.id="companion_"+a,this.companionDiv.setAttribute("scrolling","no");var d=document.createElement("a"),e=new Image;d.setAttribute("target","_blank"),e.src=b.variations[c].staticResource,e.width=b.variations[c].width,e.height=b.variations[c].height,d.href=b.variations[c].companionClickThroughURLTemplate,d.appendChild(e),this.companionDiv.appendChild(d),this.parentDiv.style.height=this.parentDiv.style.height+b.variations[c].height,this.parentDiv.appendChild(this.companionDiv)},this.setState=function(a){this.currentState=a},this.getState=function(){return this.currentState},this.getSize=function(){return{width:this.currentWidth,height:this.currentHeight}},this.getWidth=function(){return this.currentWidth},this.getHeight=function(){return this.currentHeight},this.getDuration=function(){return this.duration},this.getPosition=function(){return this.currentPosition},this.storeDivStyle=function(){this.ipadDivStyle.top=this.parentDiv.style.top,this.ipadDivStyle.left=this.parentDiv.style.left,this.ipadDivStyle.width=this.parentDiv.style.width,this.ipadDivStyle.height=this.parentDiv.style.height,this.ipadDivStyle.position=this.parentDiv.style.position},this.restoreDivStyle=function(){this.parentDiv.style.top=this.ipadDivStyle.top,this.parentDiv.style.left=this.ipadDivStyle.left,this.parentDiv.style.width=this.ipadDivStyle.width,this.parentDiv.style.height=this.ipadDivStyle.height,this.parentDiv.style.position=this.ipadDivStyle.position},this.formatToNumber=function(a,b){var c;return"number"==typeof a?a+"px":(a.indexOf("%")!==-1?(c=parseInt(a.split("%")[0],10),b.indexOf("%")?b=parseInt(b.split("%")[0],10):b.indexOf("px")&&(b=parseInt(b.split("px")[0],10)),c="undefined"===b||""===b?a:b*c/100):c=a.indexOf("px")!==-1?parseInt(a.split("px")[0],10):parseInt(a,10)+"px",c)},this.isViewable=function(){var a=this.getViewSize();return a.top>=window.pageYOffset&&a.left>=window.pageXOffset&&a.top+a.height<=window.pageYOffset+window.innerHeight&&a.left+a.width<=window.pageXOffset+window.innerWidth},this.isPartialyViewable=function(){var a=this.getViewSize();return a.top<window.pageYOffset+window.innerHeight&&a.left<window.pageXOffset+window.innerWidth&&a.top+a.height>window.pageYOffset&&a.left+a.width>window.pageXOffset},this.getViewSize=function(){var a={},b=this.iframeElement;for(a.top=b.offsetTop,a.left=b.offsetLeft,a.width=b.offsetWidth,a.height=b.offsetHeight;b.offsetParent;)b=b.offsetParent,a.top+=b.offsetTop,a.left+=b.offsetLeft;return a},this.isiOSFirefox=function(){return navigator.userAgent.toString().toLowerCase().indexOf("fxios")>-1},this.isIphoneDevice=function(){var a,b,c,d=navigator.userAgent,e=8,f="iOS";return d.match(/iPhone/i)||d.match(/iPad/i)?(b="iOS",a=d.indexOf("OS ")):d.match(/Android/i)?(b="Android",a=d.indexOf("Android ")):b="unknown",c="iOS"===b&&a>-1?d.substr(a+3,3).replace("_","."):"Android"===b&&a>-1?d.substr(a+8,3):"unknown",b===f&&c>=e},this.getIframeContent=function(){var c="";this.isIphoneDevice()&&(c='<script src="'+this.domainPath+'scripts/lib/iosPlayer/iosplayer.min.js" type="text/javascript"> </script> ');var e='<!doctype html><head> <base target="_blank" /><meta charset="utf-8"> <meta name="apple-mobile-web-app-capable"  content="yes" /> <meta name="apple-mobile-web-app-status-bar-style"  content="black-translucent" /><meta http-equiv="X-UA-Compatible" content="IE=edge"> <title></title> <meta name="description" content=""><meta name="viewport" content="width=device-width"> <!-- Place favicon.ico and apple-touch-icon.png in the root directory --><!-- build:css(.tmp) styles/main.css --> <!-- endbuild --> <script type="text/javascript">var domainPath="'+this.domainPath+'", playerid ="'+a+'", muteOnLoad ='+b.muteOnLoad+", debugMode = "+b.debugMode+";</script> "+c+'<script src="'+this.domainPath+'scripts/all.min.js" type="text/javascript"> </script><!-- endbuild --> <!-- build:js({.tmp,app}) scripts/scripts.js --></head> <body ng-app="playerApp"><!-- Add your site or application content here --> <div ng-controller="MainCtrl"> <div class="container"> <div><videogular pwidth='+b.width+" pheight="+b.height+' vg-player-ready="onPlayerReady" vg-complete="onCompleteVideo" vg-update-time="onUpdateTime" vg-update-size="onUpdateSize" vg-update-volume="onUpdateVolume" vg-update-state="onUpdateState"vg-full-screen="onFullScreen" vg-start-play = "playStrated" vg-mute = "onMute" vg-hide-controls="config.hideControls" vg-pause = "onPause" vg-buffering = "onBuffering" vg-controls = "onControls" vg-on-error = "onError" vg-on-seek ="onSeek" vg-width="config.width" vg-height="config.height" vg-theme="config.theme.url" vg-autoplay="config.autoPlay" vg-stretch="config.stretch.value"vg-responsive="config.responsive" vg-ad-mode="config.adMode" vg-on-load-mute="config.muteOnLoad" vg-on-click="onClick" vg-media = "config.media" vg-on-replay="onReplay"> <video id="zzzVideoPlayer" vg-src="config.sources" vg-poster="config.poster" preload="none" webkit-playsinline></video> <vg-overlay-play vg-play-icon="config.theme.playIcon" vg-hide-replay="config.hideReplay"></vg-overlay-play> <vg-vast-ads vg-network="config.plugins.ads.network" vg-unit-path="config.plugins.ads.unitPath" vg-companion="config.plugins.ads.companion" vg-companion-size="config.plugins.ads.companionSize" vg-ad-tag="config.plugins.ads.adTag" vg-ad-tag-is-inline="config.plugins.ads.isInline" vg-ad-tag-on-ready = "onAdReady" vg-on-ad-complete = "onAdComplete" vg-on-ad-stopped = "onAdStopped" vg-on-start-ad = "onStartAd" vg-on-ad-userClose = "onAdUserClose" vg-on-companion = "onCompanion"  vg-on-nonlinear-ad = "onNonLinearAd" vg-on-before-play = "onBeforePlay" vg-on-ad-impression = "onAdImpression" vg-on-ad-timeupdate = "onAdTimeUpdate" vg-on-before-complete = "onBeforeComplete" vg-on-ad-error ="onAdError"  vg-track-event= "trackEvent" vg-on-ad-click= "onAdClick" vg-play-ad-on-ready ="config.playAdOnReady" vg-start-ad ="config.plugins.ads.startAd" vg-landing-page-on-click = "config.landingPageOnClick"  vg-on-ad-skip = "onAdSkip" vg-skipable = "config.skipable" vg-skipcount = "config.skipCount" vg-skipimage = "config.skipImage" vg-show-nonlinear = "config.showNonlinearAd" vg-onclick-fullscreen = "config.onclickFullscreen"  vg-on-ad-video-first-quartile = "onAdVideoFirstQuartile" vg-on-ad-video-started = "onAdVideoStarted" vg-on-ad-video-mid-point="onAdVideoMidPoint" vg-on-ad-video-third-quartile = "onAdVideoThirdQuartile"  vg-landing-page-on-esc = "config.landingPageOnEsc" vg-landing-page-on-exit = "config.landingPageOnExit" ></vg-vast-ads>  <vg-vpaid-ads></vg-vpaid-ads> <vg-ios-player></vg-ios-player><div class="maincontainer" id="mainContainer" style="position:absolute"></div> </div> </videogular> </div> <div id="companionAd"></div> </div> </div> </body> </html>';if(null==this.iframeElement.srcdoc||"undefined"==typeof this.iframeElement.srcdoc||this.isiOSFirefox())try{var f=this.iframeElement.contentDocument||this.iframeElement.contentWindow.document;f.open("text/html","replace"),f.write(e),f.close()}catch(a){d(a)}else this.iframeElement.srcdoc=e},void 0!=b.width&&void 0!=b.height&&(this.parentDiv.style.width=this.formatToNumber(b.width,this.parentDiv.style.width),this.parentDiv.style.height=this.formatToNumber(b.height,this.parentDiv.style.height)),this.createIframe(this.id),this.getIframeContent(),this.updateVolume=function(a){try{var b=Math.round(100*a);VideoPlayer.getVideoPlayer(this.id).volume=b,VideoPlayer.getVideoPlayer(this.id).onVolume(b),0===b?VideoPlayer.getVideoPlayer(this.id).isMuted=!0:VideoPlayer.getVideoPlayer(this.id).isMuted=!1}catch(a){console.error("videoplayer:: error calling updateVolume ",a)}},this.updateControlState=function(a){try{VideoPlayer.getVideoPlayer(this.id).controlsEnabled=a}catch(a){console.error("videoplayer:: error calling updateControlState ",a)}},this.onPlayerReady=function(){try{VideoPlayer.getVideoPlayer(this.id).onReadyCalled=!0,VideoPlayer.getVideoPlayer(this.id).onReady()}catch(a){console.error("videoplayer:: error calling onPlayerReady ",a),this.onErrorTrackedEvent({errorCode:704})}},this.updateMuteState=function(a){try{VideoPlayer.getVideoPlayer(this.id).isMuted=a.muted,a.flag||VideoPlayer.getVideoPlayer(this.id).onMuteChange(a.muted)}catch(a){console.error("videoplayer:: error calling updateMuteState ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onUpdateTime=function(a){try{VideoPlayer.getVideoPlayer(this.id).duration!=a.duration&&(VideoPlayer.getVideoPlayer(this.id).duration=a.duration),VideoPlayer.getVideoPlayer(this.id).currentPosition=a.position,VideoPlayer.getVideoPlayer(this.id).onTime(a.position,a.duration)}catch(a){console.error("videoplayer:: error calling onUpdateTime ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onSeekEvent=function(a,b){try{VideoPlayer.getVideoPlayer(this.id).onSeek(a,b)}catch(a){console.error("videoplayer:: error calling onSeek ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onFullScreenEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).fullscreen=a,VideoPlayer.getVideoPlayer(this.id).onFullscreen(a)}catch(a){console.error("videoplayer:: error calling onFullScreenEvent ",a),this.onErrorTrackedEvent({errorCode:704})}},this.setSize=function(a){try{VideoPlayer.getVideoPlayer(this.id).currentWidth=a.width,VideoPlayer.getVideoPlayer(this.id).currentHeight=a.height,a.onready||VideoPlayer.getVideoPlayer(this.id).onResize(a.width,a.height)}catch(a){console.error("videoplayer:: error calling setSize ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onResize=function(a,b){try{VideoPlayer.getVideoPlayer(this.id).onResize(a,b)}catch(a){console.error("videoplayer:: error calling onResize ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onAdInteraction=function(){try{VideoPlayer.getVideoPlayer(this.id).onAdInteraction()}catch(a){console.error("videoplayer:: error calling onAdInteraction ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onPlayStarted=function(){try{var a=VideoPlayer.getVideoPlayer(this.id).getState();VideoPlayer.getVideoPlayer(this.id).onPlay(a),VideoPlayer.getVideoPlayer(this.id).setState(VideoPlayer.PlayerStates.PLAYING)}catch(a){console.error("videoplayer:: error calling onPlayStarted ",a),this.onErrorTrackedEvent({errorCode:704})}},this.playerPause=function(){try{var a=VideoPlayer.getVideoPlayer(this.id).getState();VideoPlayer.getVideoPlayer(this.id).onPause(a),VideoPlayer.getVideoPlayer(this.id).setState(VideoPlayer.PlayerStates.PAUSED)}catch(a){console.error("videoplayer:: error calling playerPause ",a),this.onErrorTrackedEvent({errorCode:704})}},this.playerStop=function(){try{VideoPlayer.getVideoPlayer(this.id).getState();VideoPlayer.getVideoPlayer(this.id).setState(VideoPlayer.PlayerStates.STOP)}catch(a){console.error("videoplayer:: error calling playerStop ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onClickEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onClick()}catch(a){console.error("videoplayer:: error calling onClick ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onReplayEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onReplay()}catch(a){console.error("videoplayer:: error calling onReplay ",a),this.onErrorTrackedEvent({errorCode:704})}},this.playerBufferingEvent=function(){try{var a=VideoPlayer.getVideoPlayer(this.id).getState();VideoPlayer.getVideoPlayer(this.id).onBuffer(a),VideoPlayer.getVideoPlayer(this.id).setState(VideoPlayer.PlayerStates.BUFFERING)}catch(a){console.error("videoplayer:: error calling playerBuffering ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onErrorEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).onError(a)}catch(a){console.error("videoplayer:: error calling onError ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onCompleteEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onComplete()}catch(a){console.error("videoplayer:: error calling onComplete ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onAdReadyEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).onAdReady(a)}catch(a){console.error("videoplayer:: error calling onAdReady ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onCompanionEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).onAdCompanions(a.adtag,a.companions)}catch(a){console.error("videoplayer:: error calling onCompanion ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onNonLinearAdEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).onNonLinearAd(a.adtag,a.nonlinear)}catch(a){console.error("videoplayer:: error calling onNonLinearAd ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onAdClickEvent=function(a,b){try{VideoPlayer.getVideoPlayer(this.id).onAdClick(a,b)}catch(a){console.error("videoplayer:: error calling onAdClick ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onAdSkippedEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).onAdSkipped(a)}catch(a){console.error("videoplayer:: error calling onAdSkipped ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onAdCompleteEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).onAdComplete(a)}catch(a){console.error("videoplayer:: error calling onAdComplete ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onAdStoppedEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onAdStopped()}catch(a){console.error("videoplayer:: error calling onAdStopped ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onStartAdEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).onStartAd()}catch(a){console.error("videoplayer:: error calling onStartAd ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onAdUserCloseEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onAdUserClose()}catch(a){console.error("videoplayer:: error calling onAdUserClose ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onBeforePlayEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onBeforePlay()}catch(a){console.error("videoplayer:: error calling onBeforePlay ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onAdImpressionEvent=function(a){try{var b=a.adtag,c=a.closeTrackerArray;VideoPlayer.getVideoPlayer(this.id).clickThrough=b.clickThrough;for(var d=0;d<this.impressionCallbackList.length;d++)this.impressionCallbackList[d].apply(this,[b,c]);VideoPlayer.getVideoPlayer(this.id).onAdImpression(b,c)}catch(a){console.error("videoplayer:: error calling onAdImpression ",a),this.onErrorTrackedEvent({errorCode:704})}},this.registerImprCallback=function(a){"function"==typeof a&&this.impressionCallbackList.push(a)},this.onAdTimeUpdate=function(a){try{VideoPlayer.getVideoPlayer(this.id).duration!=a.duration&&(VideoPlayer.getVideoPlayer(this.id).duration=a.duration),VideoPlayer.getVideoPlayer(this.id).currentPosition=a.position,VideoPlayer.getVideoPlayer(this.id).onAdTime(a.adtag,a.position,a.duration)}catch(a){console.error("videoplayer:: error calling onAdTimeUpdate ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onBeforeCompleteEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onBeforeComplete()}catch(a){console.error("videoplayer:: error calling onBeforeComplete ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onAdErrorEvent=function(a){try{for(var b=0;b<this.errorCallbackList.length;b++)this.errorCallbackList[b].apply(this,[a.message,a.adtag,a.errorObj]);VideoPlayer.getVideoPlayer(this.id).onAdError(a.message,a.adtag,a.errorObj)}catch(a){console.error("videoplayer:: error calling onAdError ",a),this.onErrorTrackedEvent({errorCode:704})}},this.registerErrorCallback=function(a){"function"==typeof a&&this.errorCallbackList.push(a)},this.onAdVideoStartedEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onAdStarted()}catch(a){console.error("videoplayer:: error calling onAdVideoStarted ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onErrorTrackedEvent=function(a){try{VideoPlayer.getVideoPlayer(this.id).onErrorTracked(a)}catch(a){console.error("videoplayer:: error calling onErrorTracked ",a)}},this.onAdVideoFirstQuartileEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onAdVideoFirstQuartile()}catch(a){console.error("videoplayer:: error calling onAdVideoFirstQuartile ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onAdVideoMidPointEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onAdVideoMidpoint()}catch(a){console.error("videoplayer:: error calling onAdVideoMidPoint ",a),this.onErrorTrackedEvent({errorCode:704})}},this.onAdVideoThirdQuartileEvent=function(){try{VideoPlayer.getVideoPlayer(this.id).onAdVideoThirdQuartile()}catch(a){console.error("videoplayer:: error calling onAdVideoThirdQuartile ",a),this.onErrorTrackedEvent({errorCode:704})}},this.initialize=function(a){try{VideoPlayer.getVideoPlayer(this.id).setState(a.state),VideoPlayer.getVideoPlayer(this.id).fullscreen=a.fullscreen,VideoPlayer.getVideoPlayer(this.id).controlsEnabled=a.controls;var b=Math.round(100*a.volume);VideoPlayer.getVideoPlayer(this.id).volume=b;var c=VideoPlayer.getVideoPlayer(this.id).config;VideoPlayer.getVideoPlayer(this.id).setConfig(c),VideoPlayer.getVideoPlayer(this.id).isiOSDevice=a.isiOSDevice,VideoPlayer.getVideoPlayer(this.id).isMobileDevice=a.isMobileDevice,VideoPlayer.getVideoPlayer(this.id).isWindowsDevice=a.isWindowsPhone,VideoPlayer.getVideoPlayer(this.id).onInitialized()}catch(a){console.error("videoplayer:: error calling initialize ",a),this.onErrorTrackedEvent({errorCode:704})}},VideoPlayer.videoPlayerMap[a]=this};VideoPlayer.prototype.createIframe=function(a){this.iframeElement.id="iframe_"+a,this.iframeElement.src="about:blank",this.iframeElement.setAttribute("allowfullscreen",!0),this.iframeElement.setAttribute("seamless",!0),this.iframeElement.setAttribute("frameborder",0),this.iframeElement.setAttribute("scrolling","no"),this.iframeElement.width="100%",this.iframeElement.height="100%",this.parentDiv.appendChild(this.iframeElement)},"undefined"==typeof VideoPlayer.videoPlayerMap&&(VideoPlayer.videoPlayerMap={}),VideoPlayer.getVideoPlayer=function(a){return VideoPlayer.videoPlayerMap[a]};var zziOSAdClick=function(a,b){VideoPlayer.getVideoPlayer(b).isiOSDevice&&window.open(VideoPlayer.getVideoPlayer(b).clickThrough,"_blank")},togglePlayerFullScreen=function(a,b){var c=VideoPlayer.getVideoPlayer(a),d=Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight);b.getAttribute("isVPAID")&&null!=b.getAttribute("isVPAID")&&(b.style.top="0px",b.style.top="0px",b.style.left="0px",b.style.width="100%",b.style.height="100%",b.style.position="fixed",b.style.zIndex="2147483647",b.style.overflow="hidden");var e=document.createElement("div");e.id="ipad-overlay",e.style.position="fixed",e.style.width=d+"px",e.style.height=d+"px",e.style.left=0,e.style.top=0,e.style.backgroundColor="#333333",e.style.opacity="1",e.style.zIndex="214748364",e.style.overflow="hidden";var f=c.parentDiv;if(c.fullscreen){var g=document.getElementById("ipad-overlay");c.restoreDivStyle(),document.body.style.overflow="auto","undefined"!=typeof g&&null!=g&&f.parentNode.removeChild(g)}else c.storeDivStyle(),f.style.top="0px",f.style.left="0px",f.style.width="100%",f.style.height="100%",f.style.position="fixed",f.style.zIndex="2147483647",f.style.overflow="hidden",f.parentNode.insertBefore(e,f),document.body.style.overflow="hidden"}}var ZdPlayer=function(a,b,c,d,e,f,g,h,i,j,k,l,m){this.zzPlayer=new ZZPlayer(a,b,c,d,e,f,g,h,i,j,k,l,this),this.zzPlayer.init(),this.id=a,this.zzPlayer.setObj(a,this.zzPlayer),this.playerObj=this.zzPlayer,this.commanExtObj=m,ZdPlayer.videoPlayerMap[a]=this.zzPlayer};ZdPlayer.prototype={onReady:function(){},onPlay:function(a){},onAdReady:function(a){},onComplete:function(){},onBeforeComplete:function(){},onVolume:function(a){},onFullscreen:function(a){},onResize:function(a,b){},onMuteChange:function(a){},onPause:function(a){},onBuffer:function(a){},onError:function(a,b){},onAdComplete:function(a){},onAdCompanions:function(a,b){},onAdSkipped:function(a){},onNonLinearAd:function(a,b){},onBeforePlay:function(){},onAdImpression:function(a,b){},onAdTime:function(a,b,c){},onAdError:function(a,b,c){},onSeek:function(a,b){},onTime:function(a,b){},onAdClick:function(a,b){},onAdStarted:function(){},onAdStopped:function(){},onAdUserClose:function(){},onClick:function(){},onStartAd:function(){},onAdClosed:function(){},onAdVideoFirstQuartile:function(){},onAdVideoMidpoint:function(){},onAdVideoThirdQuartile:function(){},onAdInteraction:function(){},onErrorTracked:function(a){},appendErrorCode:function(a){var b={};"object"==typeof a&&"undefined"!==a&&null!=a?b=a:b.e=a,b.errorCode=704,this.onErrorTracked(b)},getCreativeProperties:function(){if(this.commanExtObj.CreativeProperties)return this.commanExtObj.CreativeProperties},getCustomScripts:function(){if(this.commanExtObj.customScripts)return this.commanExtObj.customScripts},getVideoExtensionObj:function(){
if(this.commanExtObj.videoExtensionObj)return this.commanExtObj.videoExtensionObj},play:function(a){nullOrUndefined(this.playerObj.play)||this.playerObj.play(a)},pause:function(){nullOrUndefined(this.playerObj.pause)||this.playerObj.pause()},startAd:function(){nullOrUndefined(this.playerObj.startAd)||this.playerObj.startAd()},playPause:function(){nullOrUndefined(this.playerObj.playPause)||this.playerObj.playPause()},stop:function(){nullOrUndefined(this.playerObj.stop)||this.playerObj.stop()},getVolume:function(){return nullOrUndefined(this.playerObj.getVolume)?0:this.playerObj.getVolume()},isFullScreen:function(){return!nullOrUndefined(this.playerObj.isFullScreen)&&this.playerObj.isFullScreen()},getState:function(){return this.playerObj.getState()},getDuration:function(){return nullOrUndefined(this.playerObj.getDuration)?0:this.playerObj.getDuration()},getPosition:function(){return nullOrUndefined(this.playerObj.getPosition)?0:this.playerObj.getPosition()},seek:function(a){nullOrUndefined(this.playerObj.seek)||this.playerObj.seek(a)},getControlsEnabled:function(){return this.playerObj.getControlsEnabled()},trackEvent:function(a){this.playerObj.trackEvent(a)},addButton:function(a,b,c,d,e,f,g,h,i){nullOrUndefined(this.playerObj.addButton)||this.playerObj.addButton(a,b,c,d,e,f,g,h,i)},showButton:function(a){nullOrUndefined(this.playerObj.showButton)||this.playerObj.showButton(a)},hideButton:function(a){nullOrUndefined(this.playerObj.hideButton)||this.playerObj.hideButton(a)},deleteButton:function(a){nullOrUndefined(this.playerObj.deleteButton)||this.playerObj.deleteButton(a)},hideDefaultControls:function(){this.playerObj.hideDefaultControls()},showDefaultControls:function(){this.playerObj.showDefaultControls()},mute:function(a){nullOrUndefined(this.playerObj.mute)||this.playerObj.mute(a)},isMute:function(){return this.playerObj.isMute()},getWidth:function(){return this.playerObj.getWidth()},getHeight:function(){return this.playerObj.getHeight()},setVolume:function(a){if(!nullOrUndefined(a)){var b=a>100?100:a<0?0:a;nullOrUndefined(this.playerObj.setVolume)||this.playerObj.setVolume(b)}},resize:function(a,b){nullOrUndefined(this.playerObj.resize)||this.playerObj.resize(a,b)},loadContent:function(){nullOrUndefined(this.playerObj.loadContent)||this.playerObj.loadContent()},registerErrorCallback:function(a){nullOrUndefined(this.playerObj.registerErrorCallback)||this.playerObj.registerErrorCallback(a)},registerImprCallback:function(a){nullOrUndefined(this.playerObj.registerImprCallback)||this.playerObj.registerImprCallback(a)},createFriendlyiFrame:function(a,b,c){try{var d=document.getElementById(a),e=document.createElement("iframe");e.id="iframe_"+b,e.src="about:blank",e.setAttribute("allowfullscreen",!0),e.setAttribute("seamless",!0),e.setAttribute("frameborder",0),e.setAttribute("scrolling","no"),e.width="0px",e.height="0px",e.style.display="none",d.parentNode.appendChild(e);var f="<!DOCTYPE html><head><body>"+c+"</body></html>",g=e.contentDocument||e.contentWindow.document;g.open("text/html","replace"),g.write(f),g.close()}catch(a){console.log(a)}},createNonFriendlyiFrame:function(a,b){var c=document.createElement("iframe");return c.id="iframe_"+a,c.src=b,c.setAttribute("allowfullscreen",!0),c.setAttribute("seamless",!0),c.setAttribute("frameborder",0),c.setAttribute("scrolling","no"),c.width="0px",c.height="0px",c.style.display="none",c},appendScriptContent:function(a,b,c,d,e){try{var f,g=document.getElementById(a),h="SCRIPTSRC";c==h?(f=document.createElement("script"),f.type="text/javascript",f.src=b):f=this.createNonFriendlyiFrame(c,b),"true"==d||1==d?g.parentNode.appendChild(f):(c==h?contents="<script src="+b+" ></script>":contents="<iframe src = "+b+"></iframe>",this.createFriendlyiFrame(a,c,contents))}catch(a){console.log(a)}}};var isContainerReady=!1,isSWFReady=!1,ZZPlayer=function(a,b,c,d,e,f,g,h,i,j,k,l,m){this.id=a,this.width=b,this.height=c,this.aClient=d,this.aTag=e,this.landingPageOnClick=h,this.hideControls=i,this.fullScreenOnClick=j;var n=getParameterByName("zBug");n&&(this.debugMode=!0),this.debugMode=k,this.config=l,this.playAdOnReady=g,this.pMediaURL=f,this.impressionCallbackList=[],this.errorCallbackList=[],this.wrapper=m};ZZPlayer.prototype={setConfig:function(a){if(a)for(var b in a)a.hasOwnProperty(b)&&(this.config[b]=a[b])},init:function(){var a,b=!1;"vast"==this.aClient.toLowerCase()?(b=!0,a=this.aTag):a="";var c=this.config.domainPath,d=c+"Flash/ZEDOFlashVideoPlayer.swf",e="w="+this.width+"&h="+this.height+"&vasttag="+b+'&playerID=ZdPlayer.getVideoPlayer("'+this.id+'")';e+="&playAdOnReady="+this.playAdOnReady+"&landingPageOnClick="+this.landingPageOnClick+"&hideControls="+this.hideControls,e+="&fullScreenOnClick="+this.fullScreenOnClick+"&debugMode="+this.debugMode+"&skipable="+this.config.skipable+"&skipCount="+this.config.skipCount,e+="&landingPageOnesc="+this.config.landingPageOnEsc+"&mediaurl="+this.pMediaURL+"&muteOnLoad="+this.config.muteOnLoad+"&isSecure="+this.config.isSecure+"&preLoadMedia="+this.config.preLoadMedia,e+="&landingPageOnExit="+this.config.landingPageOnExit+"&type="+this.config.type,this.loadSWF(d,e)},loadSWF:function(a,b){function c(a,b){var c=document.createElement("div"),d="";return a=a+"?"+b+"&"+Math.round(1e10*Math.random()),d="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000' style='visibility:visible' data='"+a+"' wmode='opaque'  >",d+="<param name='movie' value='"+a+"'><param name='allowfullscreen' value='true'>",d+="<param name='scale' value='showAll'> <param name='menu' value='false'> <param name='bgcolor' value='#000000'> <param name='salign' value='TL' > <param name='allowScriptAccess' value='always' > </object>",c.innerHTML=d,c.firstChild}try{var d=document.getElementById(this.id),e=this.isIE(),f=e?c(a,b):document.createElement("object");f.setAttribute("id",this.id),f.setAttribute("width",this.width),f.setAttribute("height",this.height),e||(f.setAttribute("type","application/x-shockwave-flash"),f.setAttribute("data",a),f.appendChild(this.getParamTag("flashvars",b)),f.appendChild(this.getParamTag("movie",a)),f.appendChild(this.getParamTag("allowfullscreen",!0)),f.appendChild(this.getParamTag("id",this.id)),f.appendChild(this.getParamTag("menu",!1)),f.appendChild(this.getParamTag("scale","showAll")),f.appendChild(this.getParamTag("bgcolor","#000000")),f.appendChild(this.getParamTag("salign","TL")),f.appendChild(this.getParamTag("wmode","opaque")),f.appendChild(this.getParamTag("allowScriptAccess","always"))),d.parentNode.replaceChild(f,d)}catch(a){var g={};"object"==typeof a&&"undefined"!==a&&null!=a?g=a:g.e=a,g.errorCode=705,this.wrapper.onErrorTracked(g)}},getParamTag:function(a,b){var c=document.createElement("param");return c.setAttribute("name",a),c.setAttribute("value",b),c},thisMovie:function(a){return navigator.appName.indexOf("Microsoft")!=-1&&"undefined"!=typeof window[a]?window[a]:document[a]},onReady:function(){try{this.wrapper.onReady()}catch(a){this.wrapper.appendErrorCode(a)}},registerOnReady:function(a){try{this.onReadyFunction=a}catch(a){this.wrapper.appendErrorCode(a)}},onError:function(a){try{this.wrapper.onError(a)}catch(a){this.wrapper.appendErrorCode(a)}},onPlay:function(a){try{this.wrapper.onPlay(a)}catch(a){this.wrapper.appendErrorCode(a)}},onPause:function(a){try{this.wrapper.onPause(a)}catch(a){this.wrapper.appendErrorCode(a)}},onVolume:function(a){try{this.wrapper.onVolume(a)}catch(a){this.wrapper.appendErrorCode(a)}},onMuteChange:function(a){try{this.wrapper.onMuteChange(a)}catch(a){this.wrapper.appendErrorCode(a)}},onComplete:function(){try{this.wrapper.onComplete()}catch(a){this.wrapper.appendErrorCode(a)}},onFullscreen:function(a){try{this.wrapper.onFullscreen(a)}catch(a){this.wrapper.appendErrorCode(a)}},goFullScreen:function(){try{this.thisMovie(this.id).goFullScreen()}catch(a){this.wrapper.appendErrorCode(a)}},onBuffer:function(){try{this.wrapper.onBuffer()}catch(a){this.wrapper.appendErrorCode(a)}},onAdCompanions:function(a,b){try{this.wrapper.onAdCompanions(a,b)}catch(a){this.wrapper.appendErrorCode(a)}},companionHandler:function(){try{return this.companionArray}catch(a){this.wrapper.appendErrorCode(a)}},onAdClick:function(a,b){try{this.wrapper.onAdClick(a,b)}catch(a){this.wrapper.appendErrorCode(a)}},onClick:function(){try{this.wrapper.onClick()}catch(a){this.wrapper.appendErrorCode(a)}},onAdStarted:function(){try{this.wrapper.onAdStarted()}catch(a){this.wrapper.appendErrorCode(a)}},onErrorTracked:function(a){try{this.wrapper.onErrorTracked(a)}catch(a){this.wrapper.appendErrorCode(a)}},onAdStopped:function(){try{this.wrapper.onAdStopped()}catch(a){this.wrapper.appendErrorCode(a)}},onStartAd:function(){try{this.wrapper.onStartAd()}catch(a){this.wrapper.appendErrorCode(a)}},onAdUserClose:function(){try{this.wrapper.onAdUserClose()}catch(a){this.wrapper.appendErrorCode(a)}},onAdComplete:function(a){try{this.wrapper.onAdComplete(a)}catch(a){this.wrapper.appendErrorCode(a)}},onResize:function(a,b){try{this.wrapper.onResize(a,b)}catch(a){this.wrapper.appendErrorCode(a)}},onAdImpression:function(a,b){try{for(var c=0;c<this.impressionCallbackList.length;c++)this.impressionCallbackList[c].apply(this,[a,b]);this.wrapper.onAdImpression(a,b)}catch(a){console.error(a),this.wrapper.appendErrorCode(a)}},registerImprCallback:function(a){try{"function"==typeof a&&this.impressionCallbackList.push(a)}catch(a){this.wrapper.appendErrorCode(a)}},onAdError:function(a,b,c){try{for(var d=0;d<this.errorCallbackList.length;d++)this.errorCallbackList[d].apply(this,[a,b,c]);this.wrapper.onAdError(a,b,c)}catch(a){this.wrapper.appendErrorCode(a)}},registerErrorCallback:function(a){"function"==typeof a&&this.errorCallbackList.push(a)},onAdReady:function(a){try{this.logInfo("ZP:onAdReady()"),this.wrapper.onAdReady(a)}catch(a){this.wrapper.appendErrorCode(a)}},onAdTime:function(a,b,c){try{this.wrapper.onAdTime(a,b,c)}catch(a){this.wrapper.appendErrorCode(a)}},onTime:function(a,b){try{this.wrapper.onTime(a,b)}catch(a){this.wrapper.appendErrorCode(a)}},onBeforePlay:function(){try{this.wrapper.onBeforePlay()}catch(a){this.wrapper.appendErrorCode(a)}},onBeforeComplete:function(){try{this.wrapper.onBeforeComplete()}catch(a){this.wrapper.appendErrorCode(a)}},onSeek:function(a,b){try{this.wrapper.onSeek(a,b)}catch(a){this.wrapper.appendErrorCode(a)}},onTrackEvent:function(a){try{this.wrapper.onTrackEvent(a)}catch(a){this.wrapper.appendErrorCode(a)}},onVpaidAdFirstQuartile:function(){try{this.wrapper.onAdVideoFirstQuartile()}catch(a){this.wrapper.appendErrorCode(a)}},onVpaidAdMidpoint:function(){try{this.wrapper.onAdVideoMidpoint()}catch(a){this.wrapper.appendErrorCode(a)}},onVpaidAdThirdQuartile:function(){try{this.wrapper.onAdVideoThirdQuartile()}catch(a){this.wrapper.appendErrorCode(a)}},onPreLoadMedia:function(a){try{this.logInfo(" -- Preloading Media File -- ");var b=new Image;b.src=a,this.wrapper.onPreLoadMedia()}catch(a){this.wrapper.appendErrorCode(a)}},play:function(){this.thisMovie(this.id).playPlayer()},pause:function(){return this.thisMovie(this.id).zzPauseVideo()},startAd:function(){this.logInfo("ZP:startAd()"),this.thisMovie(this.id).startAd()},loadContent:function(){this.logInfo("ZP:loadContent()"),this.thisMovie(this.id).loadContent()},mute:function(a){this.thisMovie(this.id).zzMuteVideo(a)},isMute:function(){return this.thisMovie(this.id).zzPlayerIsMute()},setVolume:function(a){this.thisMovie(this.id).zzSetVolume(a)},replay:function(){this.thisMovie(this.id).replayAd(this.mediaURL)},stop:function(){this.thisMovie(this.id).stopPlayer()},resize:function(a,b){var c=formatToNumber(a,this.width),d=formatToNumber(b,this.height);this.width=c,this.height=d,document.getElementById(this.id).width=c,document.getElementById(this.id).height=d,this.thisMovie(this.id).resizePlayer(c,d)},resizeZoom:function(a){this.thisMovie(this.id).resizeZoomPlayer(a)},exitFullscreen:function(){this.thisMovie(this.id).exitFullScreen()},isFullScreen:function(){return this.thisMovie(this.id).isFullScreenFlag()},showDefaultControls:function(){this.thisMovie(this.id).zzShowDefaultControls()},hideDefaultControls:function(){this.thisMovie(this.id).zzHideDefaultControls()},addButton:function(a,b,c,d,e,f,g,h,i){this.thisMovie(this.id).addButton(a,b,c,d,e,f,g,h,i)},deleteButton:function(a){this.thisMovie(this.id).deleteButton(a)},showButton:function(a){this.thisMovie(this.id).showButton(a)},hideButton:function(a){this.thisMovie(this.id).hideButton(a)},seek:function(a){this.thisMovie(this.id).seek(a)},playAd:function(a){this.thisMovie(this.id).playAd(a)},getControlsEnabled:function(){return this.thisMovie(this.id).areControlsEnabled()},getAdTag:function(){return this.aTag},getXMLMapObj:function(){return console.log(" getXMLMapObj() called "),console.log(this.config.xmlDataMap),this.config.xmlDataMap},getPosition:function(){return this.thisMovie(this.id).getPosition()},getState:function(){return this.thisMovie(this.id).zzCallFlash()},getVolume:function(){return this.thisMovie(this.id).zzGetVolume()},getDuration:function(){return this.thisMovie(this.id).getDuration()},getWidth:function(){return this.thisMovie(this.id).getWidth()},getHeight:function(){return this.thisMovie(this.id).getHeight()},logInfo:function(a){if(this.debugMode){var b=!1;"undefined"==typeof console||"undefined"==typeof console.log?(console={},b?console.log=function(a){alert(a)}:console.log=function(){}):console.log&&console.log(a)}},log:function(a,b){switch(a.toLowerCase()){case"warn":console.warn(b);break;case"info":console.info(b);break;case"error":console.error(b);break;case"trace":console.trace(b);break;case"bizlogic":"undefined"!=typeof console.bizlogic&&console.bizlogic(b);break;default:console.log(b)}},clean:function(){var a=document.createElement("div");a.id=this.id;var b=document.getElementById(this.id).parentNode;b.appendChild(a),console.log(logMessage)},setMediaType:function(a){var b=MacroProcessor.getMacroProcObj(this.id);b&&b.setMediaType(a)},track:function(a,b){var c,d="",e=!0;if("undefined"!=typeof window&&null!==window){var f=MacroProcessor.getMacroProcObj(this.id);f&&(d=f.replaceMacrosWithEventName(b,[a],e)),c=new Image,"undefined"!=typeof d&&null!==d&&""!==d&&(c.src=d)}},trackClick:function(a,b){var c,d="",e=!1;if("undefined"!=typeof window&&null!==window){var f=MacroProcessor.getMacroProcObj(this.id);f&&(d=f.replaceMacrosWithEventName(b,[a],e)),c=new Image,"undefined"!=typeof d&&null!==d&&""!==d&&(c.src=d)}},isIE:function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("msie")!=-1&&parseInt(a.split("msie")[1])},setObj:function(a,b){window["player_"+a]=b},logTime:function(a,b){},trackEvent:function(a){this.thisMovie(this.id).trackExternalEvent(a)}},ZdPlayer.videoPlayerMap={},ZdPlayer.getVideoPlayer=function(a){return window["player_"+a]};var zzAdPlayer=function(a,b,c){try{if(this.onSetupError=function(a){},nullOrUndefined(c)||(this.onSetupError=c),nullOrUndefined(a)||nullOrUndefined(document.getElementById(a)))throw"element matching "+a+" is undefined or null, pass valid id";if(nullOrUndefined(b))throw"config is undefined, need to pass config object";this.id=a,this.playerObj=new Object,this.viewabilityObj=new Object,this.firstPlayerObj={},this.closeTrackers=[],this.videoExtensions={},this.adType="",this.apiMemory=new apiMemory,this.isOnReadyFired=!1,this.isOnAdReadyFired=!1,this.alreadyProcessed=!1;var d=3e3,e=1,f=10;this.DEFAULT_WAIT_FOR_FILE_LOADING=5e3,this.config={type:"auto",width:640,height:480,pClient:"vast",adtag:"",sources:[],playAdOnReady:!0,landingPageOnClick:!0,onclickFullscreen:!1,hideControls:!1,domainPath:zPlayerCnf.getProperty("domainPath"),skipable:!0,skipCount:!0,landingPageOnEsc:!0,muteOnLoad:!1,viewability:!0,debugMode:!1,isSecure:!1,preLoadMedia:!1,landingPageOnExit:!0,debugPlayerLogMode:!1,debugToken:"",bandwidthSpeedKbps:0},window.zVpLoadStatus="undefined"==typeof window.zVpLoadStatus?"START":window.zVpLoadStatus,this.config.callback=function(a){},this.setConfig(b),this.config.basePlayerStartTime=zUtils.getCurrentTime(),"true"===this.getParameterByName("zBug")&&(this.config.debugMode=!0),this.config.adtag.indexOf("<VAST")!=-1&&(this.config.pClient="vastxml"),this.errorTracker=zPlayerCnf.getProperty("errorTracker"),this.config.isSecure?(this.config.domainPath=zPlayerCnf.getProperty("secureDomainPath"),this.errorTracker=zPlayerCnf.getProperty("secureErrorTracker")):"https:"==window.location.protocol&&(this.config.isSecure=!0,this.config.domainPath=zPlayerCnf.getProperty("secureDomainPath"),this.errorTracker=zPlayerCnf.getProperty("secureErrorTracker")),this.config.playerVer=zPlayerCnf.getProperty("playerVer");try{this.config.playerVer=zUtils.getRandMization(this.config.playerVer,zPlayerCnf.getProperty("replaceToPlayerVer"),zPlayerCnf.getProperty("randmizationPercentage")),this.config.domainPath=this.config.domainPath+this.config.playerVer+"/"}catch(a){this.config.domainPath=this.config.domainPath+this.config.playerVer+"/"}var g=this,h=new TokenChecker;g.config.debugPlayerLogMode=h.checkToken(g.config.debugToken),zUtils.log("log","debug player Enabled "+g.config.debugPlayerLogMode,this.config.debugMode),g.selectedPlayer=this.config.type.toLowerCase()!=zUtils.PLAYERTYPE.AUTO?this.config.type.toLowerCase():"",g.parsedEvents=[],g.reqTime={};var i=function(){if(g.shouldProcessParallel()){g.config.parentId=g.id,g.dataModel=new DataMap;var a=function(a,b,c){g.onAdError(a,b,c)},b=function(){return g.apiMemory},c=function(){zUtils.removePlayer(g.config.id)},h=function(a){g.oneOfThePlayersIsReady(a)},i=function(a,b){g.oneOfThePlayersIsAdReady(a,b)},j=function(a,b,c,d,e,f){g.parallelObj.dataModel.setPlayerType(b.id,a);var h=function(a){e(a)};g.selectPlayer(a,b,c,d,h,f)},k=function(a){g.selectedPlayer=a};nullOrUndefined(g.config.parallel.selectionDelayMs)&&(g.config.parallel.selectionDelayMs=d),nullOrUndefined(g.config.parallel.maxParallelism)&&(g.config.parallel.maxParallelism=f),nullOrUndefined(g.config.parallel.noOfTagsInitlizedAfterErr)&&(g.config.parallel.noOfTagsInitlizedAfterErr=e),g.parallelObj=new ParallelProcessor(g.config,g.dataModel,g.config.parallel,function(a){g.playerObj=a,g.registerCallbacks(a,g)},a,b,c,h,i,j,k),g.config.playAdOnReady&&g.parallelObj.setStartAdReceived()}else{var l=function(){this.onAdErrorHandler=function(){},this.onAdImpressionHandler=function(){},this.setStartAdReceived=function(){}};g.dataModel=new DataMap,g.parallelObj=new l}g.loadAdPlayer()};g.autoPlayerDetectObj=new Object;var j=g.id+"0";g.config.id=j,zUtils.createChildDiv(g.id,j),zUtils.showChildDiv(j),i();try{this.config.viewability&&(zUtils.isIE()&&8==zUtils.isIE()&&(this.config.viewability=!1),this.loadViewabilityFiles())}catch(a){zUtils.log("warn",a,!0)}}catch(a){nullOrUndefined(a.errorCode)?this.trackError({errorCode:701}):this.trackError(a.errorCode),this.onSetupError(a),zUtils.log("error",a,!0)}};zzAdPlayer.prototype={loadViewabilityFiles:function(){var a=this;try{a.config.viewability&&a.config.debugMode&&Viewability.initViewability(a.config.domainPath)}catch(a){this.log("warn","wrapper::loadViewabilityFiles error"+a)}},loadJsFiles:function(a,b){this.log("info","loading Js files.. "+a);var c=!1,d=document.createElement("script");d.asynch=!0,d.src=a;var e=document.head||document.getElementsByTagName("head")[0];d.onload=d.onreadystatechange=function(){var a=this.readyState;c||a&&"complete"!=a&&"loaded"!=a||(c=!0,b())},e.appendChild(d)},loadHtmlPlayer:function(a,b,c){this.log("info","loading html player...");var d=this,e=!1;a.adtag.indexOf("<VAST")!=-1&&(e=!0),a.plugins={ads:{adTag:a.adtag,isInline:e}};var f=d.getHtmlPlayerObj(a,b);c(f)},getHtmlPlayerObj:function(a,b){this.log("info"," Creating html player object...");var c;return c=new VideoPlayer(a.id,a,b)},loadFlashPlayer:function(a,b,c){this.log("info"," loading flashplayer...");var d="";d=this.getMediaForFlash(this.config.sources),d&&(d=d.src),d="undefined"==typeof d?"":d;var e=this.getFlashPlayerObj(d,a,b);c(e)},getFlashPlayerObj:function(a,b,c){this.log("info"," Creating flash player object ...");var d=new ZdPlayer(b.id,b.width,b.height,b.pClient,b.adtag,a,b.playAdOnReady,b.landingPageOnClick,b.hideControls,b.onclickFullscreen,b.debugMode,b,c);return d},loadAdPlayer:function(){try{var a=function(a){if(a.log("log"," Loading Player : Type = "+a.config.type),a.config.type.toLowerCase()===zUtils.PLAYERTYPE.FLASH){var b={};a.loadFlashPlayer(a.config,b,function(b){var c=new EventSeqLogger(a.config.id,a.config.debugPlayerLogMode,a.config.basePlayerStartTime);new MacroProcessor(a.config.id,c);a.playerObj=b,a.firstPlayerObj=b,a.registerCallbacks(b,a),a.config.callback(a)})}else{if(a.config.type.toLowerCase()!==zUtils.PLAYERTYPE.HTML5&&a.config.type.toLowerCase()!==zUtils.PLAYERTYPE.AUTO)throw"Invalid player type ";a.log("log"," Creating autoPlayerDetectObj");var c=function(b,c,d){a.log("log","Wrapper:loadAdPlayer:onAdErrorCallback"),a.onAdErrorHandler(b,c,d)},d=function(b,c){a.log("log","Wrapper:loadAdPlayer:onErrorCallback"),a.onErrorHandler(b,c)},e=function(b,c,d,e){a.log("log","Wrapper:loadAdPlayer:onSuccessCallback"),a.config.xmlDataMap=a.autoPlayerDetectObj.xmlDataMap.getXMlObj(),a.config.bandwidthSpeedKbps=a.autoPlayerDetectObj.getBandWidth(),a.config.filteredMediaSources=a.autoPlayerDetectObj.filteredMediaSources,a.log("log",a.config.xmlDataMap),a.log("log","autoPlayerDetectObj: DetectedPlayerType : "+b+" filteredMediaSources ==> "),a.log("log",a.config.filteredMediaSources),a.selectPlayer(b,a.config,c,d,function(b){a.playerObj=b,a.firstPlayerObj=b,a.registerCallbacks(b,a),a.config.callback(a)},e)};try{a.autoPlayerDetectObj=new AutoPlayerDetect(a.config.domainPath,a.config.isSecure,a.config.debugMode,c,d),a.autoPlayerDetectObj.getPlayerType(a.config,e)}catch(a){var f={};throw"object"!=typeof a||nullOrUndefined(a)?f.e=a:f=a,f.errorCode=703,f}}};"START"!=window.zVpLoadStatus&&"LOADED"!=window.zVpLoadStatus||a(this)}catch(a){throw a}},selectPlayer:function(a,b,c,d,e,f){var g=this;g.selectedPlayer=a;var h=function(a,e){if(e){g.log("info"," Creating debugPlayerObj ....");var f=new DebugLogEvent(c,b.debugMode,a.id),a=new DebugPlayer(a,f,b.debugMode,d)}return a};a.toLowerCase()==zUtils.PLAYERTYPE.FLASH?g.loadFlashPlayer(b,f,function(a){e(h(a,b.debugPlayerLogMode))}):a.toLowerCase()==zUtils.PLAYERTYPE.HTML5?g.loadHtmlPlayer(b,f,function(a){e(h(a,b.debugPlayerLogMode))}):g.onSetupError("Player type is wrong detected")},getMediaForFlash:function(a){if(void 0!==typeof a.length)for(var b=0,c=a.length;b<c;b++)if("video/mp4"===a[b].type||"video/x-flv"===a[b].type||"video/flv"===a[b].type)return a[b]},setConfig:function(a){if(a)for(var b in a)a.hasOwnProperty(b)&&(this.config[b]=a[b])},log:function(a,b){zUtils.log(a,b,this.config.debugMode)},getParameterByName:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},shouldProcessParallel:function(){return"undefined"!=typeof this.config.parallel&&"undefined"!=typeof this.config.parallel.orderedVasts&&this.config.parallel.orderedVasts.length>0},oneOfThePlayersIsReady:function(a){if(zUtils.log("bizlogic",a+" onReady ",this.config.debugMode),zUtils.log("info",a+" onReady ",this.config.debugMode),!this.isOnReadyFired){if(this.isOnReadyFired=!0,this.config.viewability)try{this.log("info"," Viewability:: viewability:CreateObject "),this.viewabilityObj=new Viewability(this.id)}catch(a){nullOrUndefined(adPlyrObj.viewabilityObj)||(adPlyrObj.viewabilityObj.stopCountingOthrEvnt=!0),zUtils.log("error",a,this.config.debugMode)}this.onReady()}},oneOfThePlayersIsAdReady:function(a){zUtils.log("bizlogic",a+" AdReady ",this.config.debugMode),this.isOnAdReadyFired||(this.isOnAdReadyFired=!0,this.onAdReady())},onAdErrorHandler:function(a,b,c){zUtils.log("bizlogic",this.config.id+" AdError ",this.config.debugMode),zUtils.log("log",this.config.id+" onAdErrorHandler "+a),this.shouldProcessParallel()?(this.alreadyProcessed||(this.parallelObj.load(),this.alreadyProcessed=!0),this.config.callback(this),this.onParallelInitializedHandler()):(this.config.callback(this),c.selectedPlayer=this.selectedPlayer,c.CreativeProperties={},this.onAdError(a,b,c))},onParallelInitializedHandler:function(){this.onParallelInitialized()},onErrorHandler:function(a,b){zUtils.log("bizlogic",this.config.id+" onError ",this.config.debugMode),zUtils.log("log",this.config.id+" onErrorHandler "+a),this.onError(a,b)},registerCallbacks:function(a,b){var c=a,d=!1,e=!1,f=!1;a.onReady=function(){b.oneOfThePlayersIsReady(c.id)},a.onPlay=function(a){b.onPlay(a)},a.onComplete=function(){b.onComplete()},a.onBeforeComplete=function(){b.onBeforeComplete()},a.onVolume=function(a){b.onVolume(a)},a.onFullscreen=function(a){b.onFullscreen(a)},a.onResize=function(a,c){b.onResize(a,c)},a.onMuteChange=function(a){b.onMuteChange(a)},a.onPause=function(a){b.onPause(a)},a.onBuffer=function(a){b.onBuffer(a)},a.onError=function(a){b.onError(a)},a.onStartAd=function(){},a.onAdReady=function(a){b.oneOfThePlayersIsAdReady(c.id,a)},a.onAdComplete=function(a){if(b.config.viewability&&!b.viewabilityObj.stopCountingOthrEvnt){var c=function(a){b.trackEvent(a)},d=function(a,c){b.log(a,c)};try{b.viewabilityObj.onAdCompleteHandler(b.config.debugMode,c,d)}catch(a){zUtils.log("warn",a,b.config.debugMode)}}b.onAdComplete(a)},a.onAdStarted=function(){b.onAdStarted()},a.onAdStopped=function(){b.onAdStopped()},a.onAdUserClose=function(){b.closeAd()},a.onErrorTracked=function(a){b.trackError(a)},a.onAdCompanions=function(a,c){b.onAdCompanions(a,c)},a.onAdSkipped=function(a){b.onAdSkipped(a)},a.onNonLinearAd=function(a,c){b.onNonLinearAd(a,c)},a.onBeforePlay=function(){b.onBeforePlay()},a.onAdImpression=function(a,d){b.adType="undefined"!=typeof a.adType?a.adType.toLowerCase():"";try{var e=c.getVideoExtensionObj();"undefined"==typeof e&&null==e||(a.VIDEO_TITLE=e.VIDEO_TITLE,a.VIDEO_DESCRIPTION=e.VIDEO_DESCRIPTION)}catch(a){zUtils.log("warn",a,b.config.debugMode)}b.closeTrackers=d,a.selectedPlayer=b.selectedPlayer,this!==b.firstPlayerObj&&b.parallelObj.onAdImpressionHandler();try{var f=c.getCreativeProperties();nullOrUndefined(f)?a.CreativeProperties={}:(nullOrUndefined(f._once)||delete f._once,a.CreativeProperties=f)}catch(a){zUtils.log("error",a,b.config.debugMode)}b.onAdImpression(a),zUtils.log("bizlogic",c.id+" AdImpression ",b.config.debugMode);try{var g=new JsScriptExecutor,h=c.getCustomScripts();for(var i in h)for(var j=0;j<h[i].length;j++){var k=MacroProcessor.getMacroProcObj(c.id);if(k){var l=k.replaceMacro(h[i][j].trackingURLTemplate,!1),m=h[i][j].scriptType,n=h[i][j].isSafe;"flash"==a.selectedPlayer?c.appendScriptContent(c.id,l,m,n,b.id):g.appendScriptContent(c.id,l,m,n,b.id)}}}catch(a){zUtils.log("error",a,b.config.debugMode)}b.viewabilityObj.isAdImpressionCalled=!0,b.viewabilityObj.stopCountingOthrEvnt=!1},a.onAdTime=function(a,c,d){if(b.onAdTime(a,c,d),b.config.viewability&&!b.viewabilityObj.stopCheckingViewablity){var e=function(a){a==zUtils.VIEWABLE_EVENTS.FIRSTQUARTILE?b.playerObj.onAdVideoFirstQuartile():a==zUtils.VIEWABLE_EVENTS.MIDPOINT?b.playerObj.onAdVideoMidpoint():a==zUtils.VIEWABLE_EVENTS.THIRDQUARTILE?b.playerObj.onAdVideoThirdQuartile():a==zUtils.VIEWABLE_EVENTS.IMPRESSION&&b.trackEvent(a)},f=function(a,c){b.log(a,c)};try{b.viewabilityObj.isFullScreen=b.isFullScreen();var g=b.getWidth(),h=b.getHeight();b.viewabilityObj.onAdTimeHandler(c,d,b.adType,b.config.debugMode,e,f,g,h)}catch(a){nullOrUndefined(b.viewabilityObj)||(b.viewabilityObj.stopCountingOthrEvnt=!0),zUtils.log("error",a,b.config.debugMode)}}else b.viewabilityObj.stopCheckingViewablity&&b.viewabilityObj.updateWidgetStatus(b.config.debugMode)},a.onAdInteraction=function(){b.onAdInteraction()},a.onAdVideoFirstQuartile=function(){if(!d){d=!0;try{b.onAdVideoFirstQuartile(),!b.viewabilityObj.stopCountingOthrEvnt&&b.config.viewability&&(b.log("info","Viewability::VPAID : Tracked first Quartile impressions "),b.trackEvent(zUtils.VIEWABLE_EVENTS.FIRSTQUARTILE),Viewability.appendLog("First Quartile",b.config.debugMode))}catch(a){zUtils.log("error",a,b.config.debugMode)}}},a.onAdVideoMidpoint=function(){if(!e){e=!0;try{b.onAdVideoMidpoint(),!b.viewabilityObj.stopCountingOthrEvnt&&b.config.viewability&&(b.log("info","Viewability::VPAID : Tracked Minpoint impressions "),b.trackEvent(zUtils.VIEWABLE_EVENTS.MIDPOINT),Viewability.appendLog("Mid Point",b.config.debugMode))}catch(a){zUtils.log("error",a,b.config.debugMode)}}},a.onAdVideoThirdQuartile=function(){if(!f){f=!0;try{b.onAdVideoThirdQuartile(),!b.viewabilityObj.stopCountingOthrEvnt&&b.config.viewability&&(b.log("info","Viewability::VPAID : Tracked third Quartile impressions "),b.trackEvent(zUtils.VIEWABLE_EVENTS.THIRDQUARTILE),Viewability.appendLog("Third Quartile",b.config.debugMode))}catch(a){zUtils.log("error",a,b.config.debugMode)}}},a.onAdError=function(a,d,e){if(zUtils.log("bizlogic",c.id+" AdError ",b.config.debugMode),b.shouldProcessParallel()&&!b.viewabilityObj.isAdImpressionCalled)this===b.firstPlayerObj?b.alreadyProcessed||(b.parallelObj.load(),b.alreadyProcessed=!0,b.onParallelInitializedHandler()):b.parallelObj.onAdErrorHandler(c.id);else{try{e.selectedPlayer=b.selectedPlayer;var f=c.getCreativeProperties();nullOrUndefined(f)?e.CreativeProperties={}:(nullOrUndefined(f._once)||delete f._once,e.CreativeProperties=f)}catch(a){zUtils.log("error",a,b.config.debugMode)}b.onAdError(a,d,e)}},a.onSeek=function(a,c){b.onSeek(a,c)},a.onTime=function(a,c){b.onTime(a,c)},a.onAdClick=function(a,c){b.onAdClick(a,c)},a.onClick=function(){b.onClick()}},onReady:function(){},onPlay:function(a){},onAdReady:function(a){},onComplete:function(){},onBeforeComplete:function(){},onVolume:function(a){},onFullscreen:function(a){},onResize:function(a,b){},onMuteChange:function(a){},onPause:function(a){},onBuffer:function(a){},onError:function(a,b){},onAdComplete:function(a){},onAdCompanions:function(a,b){},onAdSkipped:function(a){},onNonLinearAd:function(a,b){},onBeforePlay:function(){},onAdImpression:function(a){},onAdTime:function(a,b,c){},onAdError:function(a,b,c){},onSeek:function(a,b){},onTime:function(a,b){},onAdClick:function(a,b){},onAdStarted:function(){},onAdStopped:function(){},onAdUserClose:function(){},onClick:function(){},onStartAd:function(){},onAdClosed:function(){},onAdInteraction:function(){},onAdVideoFirstQuartile:function(){},onAdVideoMidpoint:function(){},onAdVideoThirdQuartile:function(){},onParallelInitialized:function(){},onErrorTracked:function(a){},play:function(a){nullOrUndefined(this.playerObj.play)||this.playerObj.play(a)},pause:function(){nullOrUndefined(this.playerObj.pause)||this.playerObj.pause()},startAd:function(){zUtils.log("bizlogic"," StartAd ",this.config.debugMode),nullOrUndefined(this.playerObj.startAd)||this.playerObj.startAd(),this.parallelObj.setStartAdReceived()},closeAd:function(){if(zUtils.log("log","closeTrackers Array "+this.closeTrackers),"undefined"!=typeof this.closeTrackers&&null!=this.closeTrackers){var a=MacroProcessor.getMacroProcObj(this.playerObj.id);zUtils.trackURLs(a.replaceMacros(this.closeTrackers))}this.onAdClosed()},playPause:function(){nullOrUndefined(this.playerObj.playPause)||this.playerObj.playPause()},stop:function(){nullOrUndefined(this.playerObj.stop)||this.playerObj.stop()},getVolume:function(){return nullOrUndefined(this.playerObj.getVolume)?0:this.playerObj.getVolume()},isFullScreen:function(){return!nullOrUndefined(this.playerObj.isFullScreen)&&this.playerObj.isFullScreen()},getState:function(){return this.playerObj.getState()},getDuration:function(){return nullOrUndefined(this.playerObj.getDuration)?0:this.playerObj.getDuration()},getPosition:function(){return nullOrUndefined(this.playerObj.getPosition)?0:this.playerObj.getPosition()},seek:function(a){nullOrUndefined(this.playerObj.seek)||this.playerObj.seek(a),this.apiMemory.setSeek(a)},getControlsEnabled:function(){return this.playerObj.getControlsEnabled()},trackEvent:function(a){this.playerObj.trackEvent(a)},addButton:function(a,b,c,d,e,f,g,h,i){nullOrUndefined(this.playerObj.addButton)||this.playerObj.addButton(a,b,c,d,e,f,g,h,i),
this.apiMemory.addButtonParams(new Button(a,b,c,d,e,f,g,h,i))},showButton:function(a){nullOrUndefined(this.playerObj.showButton)||this.playerObj.showButton(a),this.apiMemory.setButtonShow(a,!0)},hideButton:function(a){nullOrUndefined(this.playerObj.hideButton)||this.playerObj.hideButton(a),this.apiMemory.setButtonShow(a,!1)},deleteButton:function(a){nullOrUndefined(this.apiMemory.removeButton)||this.apiMemory.removeButton(a),this.playerObj.deleteButton(a)},hideDefaultControls:function(){this.playerObj.hideDefaultControls()},showDefaultControls:function(){this.playerObj.showDefaultControls()},mute:function(a){nullOrUndefined(this.playerObj.mute)||this.playerObj.mute(a),this.apiMemory.setMute(a)},isMute:function(){return this.playerObj.isMute()},getWidth:function(){return this.playerObj.getWidth()},getHeight:function(){return this.playerObj.getHeight()},setVolume:function(a){if(!nullOrUndefined(a)){var b=a>100?100:a<0?0:a;nullOrUndefined(this.playerObj.setVolume)||this.playerObj.setVolume(b),this.apiMemory.setVolume(b)}},resize:function(a,b){nullOrUndefined(this.playerObj.resize)||this.playerObj.resize(a,b),this.apiMemory.setWidth(a),this.apiMemory.setHeight(b)},loadContent:function(){nullOrUndefined(this.playerObj.loadContent)||this.playerObj.loadContent()},registerErrorCallback:function(a){nullOrUndefined(this.playerObj.registerErrorCallback)||this.playerObj.registerErrorCallback(a)},registerImprCallback:function(a){nullOrUndefined(this.playerObj.registerImprCallback)||this.playerObj.registerImprCallback(a)},trackError:function(a){zUtils.log("log","trackError ");var b=nullOrUndefined(this.playerObj.id)?this.config.id:this.playerObj.id,c=MacroProcessor.getMacroProcObj(b);nullOrUndefined(c)?zUtils.trackURLs(this.errorTracker+=";ai=000"):nullOrUndefined(a)||nullOrUndefined(this.errorTracker)||nullOrUndefined(a.errorCode)?(this.errorTracker+=";ai=000",zUtils.trackURLs(c.replaceMacros([this.errorTracker]))):(this.errorTracker+=";ai="+a.errorCode,zUtils.trackURLs(c.replaceMacros([this.errorTracker])))}},DebugEvents.AD_READY="ADREADY",DebugEvents.RESPONSE_RECEIVED="RESPRCVD",DebugEvents.FALSE_IMPRESSION="FIMPR",DebugEvents.FALSE_POSITIVE="FPOST",DebugEvents.AD_SELECTED="SELECTED",DebugEvents.AD_DEBUG="ADDEBUG",DebugLogEvent.prototype={trackEvent:function(a){if(zUtils.log("log","DebugLogEvent::trackEvent "+a,this.cLog),!nullOrUndefined(this.parsedEvents[a])){var b=MacroProcessor.getMacroProcObj(this.playerId);b&&zUtils.trackURLs(b.replaceMacros(this.parsedEvents[a]))}},track:function(a){zUtils.log("log","DebugLogEvent::track "+a,this.cLog)}};var Button=function(a,b,c,d,e,f,g,h,i){this.controlPath=a,this.className=b,this.controlHandler=c,this.controlId=d,this.controlPosition=e,this.controlHPadding=f,this.controlVPadding=g,this.controlWidth=h,this.controlHeight=i};Button.prototype={getControlPath:function(){return this.controlPath},getClassName:function(){return this.className},getControlHandler:function(){return this.controlHandler},getControlId:function(){return this.controlId},getControlPosition:function(){return this.controlPosition},getControlHPadding:function(){return this.controlHPadding},getControlVPadding:function(){return this.controlVPadding},getControlWidth:function(){return this.controlWidth},getControlHeight:function(){return this.controlHeight}},XHRURLHandler.xhr=function(){var a;if(a=new window.XMLHttpRequest,"withCredentials"in a)return a},XHRURLHandler.supported=function(){return!!this.xhr()},XHRURLHandler.getWithoutCredentials=function(a,b){var c;return c=this.xhr(),c.open("GET",a,!0),c.send(),c.onError=function(){XHRURLHandler.onError(a,b)},c.onreadystatechange=function(){if(4===c.readyState)return c.responseText?b(null,c.responseText,a,!1):b("InValid URL",null,a,!1)}},XHRURLHandler.onError=function(a,b){b("Error in getting url",null,null,!1)},XHRURLHandler.get=function(a,b){var c;if("https:"===window.location.protocol&&0===a.indexOf("http://"))return b(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{return c=this.xhr(),c.open("GET",a,!0),c.withCredentials=!0,c.send(),c.onError=function(){XHRURLHandler.onError(a,b)},c.onreadystatechange=function(){if(4===c.readyState)return c.responseText?b(null,c.responseText,a,!1):XHRURLHandler.getWithoutCredentials(a,b)}}catch(a){return b("Error in getting url",null,null,!1)}},FlashURLHandler.xdr=function(){var a;return window.XDomainRequest&&(a=new XDomainRequest),a},FlashURLHandler.supported=function(){return!!this.xdr()},FlashURLHandler.get=function(a,b){var c,d;if(!(d="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0))return b(new Error("FlashURLHandler: Microsoft.XMLDOM format not supported"));d.async=!1;try{return c=this.xdr(),c.open("GET",a),c.send(),c.onerror=function(){XHRURLHandler.onError(a,b)},c.onprogress=function(){},c.ontimeout=function(){},c.onload=function(){return b(null,c.responseText,a,!1)}}catch(a){return b("Error in getting url",null,null,!1)}},TokenChecker.prototype.checkToken=function(a){var b,c;return("undefined"!=a||null!=a||""!=a)&&(b=this.debugTokenDecryptorObj.decode(a),b=b.split("|"),c=zUtils.getCurrentTime(),this.isDebug(b[0],c,b[1]))},TokenChecker.prototype.isDebug=function(a,b,c){var d=new Date(parseInt(a)).getTime(),e=zUtils.addDays(new Date(d),this.TOKENDATERANGE);return b<=e&&b>=d&&c==this.tokenKey},DebugTokenDecryptor.prototype.decode=function(a){for(var b,a=decodeURIComponent(a),c="",d=a.length-1;d>=0;d--)b=a.charAt(d),c+=b>="a"&&b<="z"||b>="A"&&b<="Z"?String.fromCharCode(65+this.key.indexOf(b)%26):b;return c},JsScriptExecutor.prototype.appendScriptContent=function(a,b,c,d,e){try{var f,g=document.getElementById("iframe_"+a),h="SCRIPTSRC",i=g.contentWindow.document.getElementsByTagName("body")[0];if(c==h?(f=document.createElement("script"),f.type="text/javascript",f.src=b):f=zUtils.createNonFriendlyiframe(c,b),"true"==d||1==d)i.insertBefore(f,i.firstChild);else{var j;j=c==h?"<script src="+b+" ></script>":"<iframe src = "+b+"></iframe>",zUtils.createFriendlyiFrame(c,j,e)}}catch(a){zUtils.log("log",a,!0)}},function(){var a=function(){},b=getScriptParams();if(null!=b&&void 0!==typeof b){var c,d,e=b.split("&");for(d=0,c=e.length;c>d;d++){var f=e[d].split("="),g=f[0],h=f[1];if("callback"==g&&(a=window[h])&&"function"==typeof a){a.call();break}}}Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;if(null==this)throw new TypeError('"this" is null or not defined');var d=Object(this),e=d.length>>>0;if(0===e)return-1;var f=+b||0;if(Math.abs(f)===1/0&&(f=0),f>=e)return-1;for(c=Math.max(f>=0?f:e-Math.abs(f),0);e>c;){if(c in d&&d[c]===a)return c;c++}return-1}),Object.defineProperties||(Object.defineProperties=function(a,b){var c;for(c in b)hasOwnProp.call(b,c)&&Object.defineProperty(a,c,b[c])}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(d.prototype=this.prototype),e.prototype=new d,e}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})}();